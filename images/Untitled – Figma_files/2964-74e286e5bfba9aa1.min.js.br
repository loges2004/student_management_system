"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="0c986115-616c-5cd9-8b6b-3f6832bc2f39")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[2964],{32471:(e,t,n)=>{n.d(t,{AA:()=>b,Er:()=>u,Fg:()=>y,Gq:()=>z,Hq:()=>G,IN:()=>Z,Jq:()=>i,LO:()=>Q,M2:()=>g,Mm:()=>l,Pd:()=>r,QX:()=>f,Ut:()=>S,Uz:()=>c,W9:()=>m,WW:()=>P,Wr:()=>w,Xt:()=>x,ad:()=>N,b1:()=>T,c$:()=>_,c9:()=>H,cB:()=>p,d9:()=>v,fy:()=>A,h0:()=>E,hM:()=>U,iD:()=>L,j5:()=>V,kL:()=>I,mB:()=>d,n2:()=>C,nY:()=>O,nx:()=>k,qG:()=>s,r$:()=>D,sD:()=>B,sm:()=>h,tv:()=>o,xs:()=>a,yE:()=>M});let o="feed_post_content--itemImage--pGodc",r="feed_post_content--itemImagePadded--exY8B",i="feed_post_content--itemImageThumbnail--LBdlC",d="feed_post_content--mediaBadgeV2--7Akie feed_tile--feedPostHoverContainer--238j6",s="feed_post_content--contentSectionContainer--KsA0H",l="feed_post_content--showOverflow--LCCb8",a="feed_post_content--selectedContent--pGcQE",c="feed_post_content--selectedContentWithThumbnails--OrAWq feed_post_content--selectedContent--pGcQE",u="feed_post_content--contentV2Flush--RHseC feed_post_content--contentV2--yR7ow",f="feed_post_content--contentV2FlushNoPadding--c-eBs",p="feed_post_content--dragging--nuBBb",_="feed_post_content--draggingOverlay--0tHy2 feed_post_content--dragging--nuBBb",m="feed_post_content--draggingDimOverlay--dfgEE",h="feed_post_content--contentThumbnailsSectionV2--dXne6",v="feed_post_content--contentThumbnailsSectionV2_horizontal--mE1uH",T="feed_post_content--contentThumbnailsSectionV2_vertical--xycdu",g="feed_post_content--contentThumbnailsSectionInnerV2--26v-c",C="feed_post_content--contentThumbnailsSectionInnerV2_horizontal--r0SNN",b="feed_post_content--contentThumbnailsSectionInnerV2_horizontalReorder--icuQg",E="feed_post_content--contentThumbnailsSectionInnerV2_vertical--ysuGr",y="feed_post_content--fileInput--qjmkN",L="feed_post_content--contentThumbnailV2--o2ggD",I="feed_post_content--smallThumbnail--0trZ9",w="feed_post_content--wideThumbnail--FPYj1",P="feed_post_content--plusIcon--QHfa6",S="feed_post_content--selectedThumbnail--MdH-d",k="feed_post_content--thumbnailOverlay--feEzZ",A="feed_post_content--deleteIcon--ptC6G",M="feed_post_content--zoomPanContainer--IGM49",x="feed_post_content--zoomPan--T-44S",B="feed_post_content--zoomPanSelected--2QOfW",D="feed_post_content--editPreviewOverlay--GYr8Q",Z="feed_post_content--editPreviewOverlayWithThumbnails--pPLEV feed_post_content--editPreviewOverlay--GYr8Q",O="feed_post_content--editPreviewButton--Z9MT5",V="feed_post_content--deleteContentItemIcon--XF-w3",N="feed_post_content--addingActive--h51xM",U="feed_post_content--addingState--5pDSP",H="feed_post_content--addButton--aE4q8",Q="feed_post_content--addButtonText--0gQWi",z="feed_post_content--addButtonTextStrong--56-6U",G="feed_post_content--previewFacadeOverlay--EXG86 feed_post_content--thumbnailOverlay--feEzZ"},510110:(e,t,n)=>{n.d(t,{ME:()=>o,PI:()=>l,Qs:()=>r,TK:()=>i,WJ:()=>s,p$:()=>d});let o="feed_profile_header--profile--BBFn9",r="feed_profile_header--content--bTCE2",i="feed_profile_header--handleLink--GjGl1",d="feed_profile_header--handle--CKDhH feed_profile_header--boldLinkText--MqQBP",s="feed_profile_header--fromNowLinkContainer--wSTrC",l="feed_profile_header--fromNow--JI-v6"},904762:(e,t,n)=>{n.d(t,{g:()=>r});var o=n(411855);function r(e,t,n){(0,o.useLayoutEffect)(()=>{if(!e||!e.current)return;let o=new IntersectionObserver(n=>{for(let o of n)e.current===o.target&&t?.(o)},n);return o.observe(e.current),()=>o.disconnect()},[e,t,n])}},768003:(e,t,n)=>{n.d(t,{X:()=>r});var o=n(411855);function r(){return o.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M1 9C1 4.58172 4.58172 1 9 1C13.4183 1 17 4.58172 17 9C17 13.4183 13.4183 17 9 17C4.58172 17 1 13.4183 1 9Z",fill:"var(--color-icon)"}),o.createElement("path",{d:"M9 16.25C4.99594 16.25 1.75 13.0041 1.75 9H0.25C0.25 13.8325 4.16751 17.75 9 17.75V16.25ZM16.25 9C16.25 13.0041 13.0041 16.25 9 16.25V17.75C13.8325 17.75 17.75 13.8325 17.75 9H16.25ZM9 1.75C13.0041 1.75 16.25 4.99594 16.25 9H17.75C17.75 4.16751 13.8325 0.25 9 0.25V1.75ZM9 0.25C4.16751 0.25 0.25 4.16751 0.25 9H1.75C1.75 4.99594 4.99594 1.75 9 1.75V0.25Z",fill:"var(--color-icon-oninverse)"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.1554 8.44833L11.6037 6L12.3108 6.7071L9.86251 9.15544L12.3108 11.6038L11.6037 12.3109L9.15541 9.86255L6.70711 12.3109L6 11.6038L8.4483 9.15544L6 6.70715L6.70711 6.00004L9.1554 8.44833Z",fill:"var(--color-icon-oninverse)"}))}},97305:(e,t,n)=>{n.d(t,{D:()=>s});var o=n(411855),r=n(299009),i=n(509732),d=n(694e3);function s(e){let[t,n]=o.useState(),[s,l]=o.useState(!0);return o.useEffect(()=>{let t=(0,i.lD)({hideUI:!0,disableDefaultKeyboardNav:!1,showProtoSidebar:!1,scalingInfo:{viewportScalingMode:"contain"},showHotspots:!0,inlinePreview:!1,startingPointNodeId:e.item.startingNodeId,nodeId:e.item.startingNodeId}),o=(0,d.OQ)(e.item,t);n(`${location.origin}/embed?embed_host=feed&url=${encodeURIComponent(o)}`)},[e.item]),o.createElement("div",{style:{width:"100%",height:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"black"}},s&&o.createElement(r.kt,null),t?o.createElement("iframe",{title:"Prototype Viewer",style:s?{width:0,height:0}:{width:"100%",height:"100%"},src:t,onLoad:()=>l(!1)}):null)}},499609:(e,t,n)=>{n.d(t,{l0:()=>L,jI:()=>I,pN:()=>y});var o=n(411855),r=n(629019),i=n.n(r),d=n(931654),s=n(336427),l=n(875877),a=n(746643),c=n(546788),u=n(693565),f=n(797618),p=n(904762),_=n(694e3),m=n(10448);let h=e=>e.preventDefault(),v=(0,l.atom)(null),T=(0,l.atom)(new Map),g=(0,l.atom)(null,(e,t,n)=>{t(T,new Map(e(T).set(n.id,n.snapshot)))}),C=(0,l.atom)(new Set),b=(0,l.atom)(e=>{let t=e(C);return 0===t.size?null:Array.from(t).pop()??null}),E=(0,l.atom)(null);function y(){let e=(0,l.useAtom)(v)[0];return o.useCallback(t=>{e&&e.ref?.current&&(t&&t!==e?.feedPostUuid||e.ref?.current.pause())},[e])}function L(e){let t=o.useRef(null),[n,r,y]=(0,d.M)(),L=o.useRef(null),w=o.useRef(!1),P=o.useRef(!1),S=o.useRef(!1),[k,A]=(0,l.useAtom)(v),[M,x]=o.useState(),B=(0,l.useAtom)(T)[0],D=(0,l.useAtom)(g)[1],[Z,O]=(0,l.useAtom)(C),V=(0,l.useAtomValue)(b),[N,U]=(0,l.useAtom)(E),H=k?.id===e.id,Q=e.source===_.Zp.TILE&&!e.isThumbnail,z=Q&&(null==k||k.isPreviewing),G=!e.isThumbnail&&r,F=Q||e.isThumbnail,j=P.current,{feedPostUuid:R}=e,W=f.cU.includes(e.videoContent.mediaType)&&!!R,q=o.useMemo(()=>W?`/api/feed_posts/${R}/videos/${e.videoContent.videoFileUuid}/manifest`:e.videoContent.path,[W,R,e.videoContent]),Y=(0,s.ZC)(k),$=(0,s.ZC)(e.videoContent.path),X=o.useCallback((t,n=!1)=>{e.isThumbnail||D({id:e.id,snapshot:{currentTime:n?0:t.currentTime,ended:t.ended,paused:t.paused}})},[D,e.id,e.isThumbnail]),J=o.useCallback(()=>{P.current=!0;let e=t.current;e&&(e.muted=!0,e.play().catch(a.lQ))},[]),K=o.useCallback(()=>{let e=t.current;e&&e.pause()},[]),ee=o.useCallback(()=>{A({id:e.id,ref:t,feedPostUuid:e.feedPostUuid,src:e.videoContent.path,source:e.source,isPreviewing:P.current})},[A,e.id,e.feedPostUuid,e.videoContent.path,e.source,P]),et=o.useCallback(()=>{if(!k)return;let n=t.current;if(n){if(!H){let t=k.feedPostUuid===e.feedPostUuid&&k.src===e.videoContent.path;if(e.source===_.Zp.DETAIL_MODAL&&k.source===_.Zp.TILE&&t){if(n){if(k.ref?.current){let e=k.ref.current;n.currentTime=e.ended?0:e.currentTime,e.paused?ee():n.play()}else{let e=I(k.feedPostUuid,k.src,_.Zp.TILE),t=B.get(e);t&&(n.currentTime=t.ended?0:t.currentTime),ee()}}}else if(e.source===_.Zp.TILE&&k.source===_.Zp.DETAIL_MODAL&&t){if(n&&!k.ref?.current){let e=I(k.feedPostUuid,k.src,_.Zp.DETAIL_MODAL),t=B.get(e);t&&(n.currentTime=t.currentTime||0),ee()}else n.pause()}else if(n.paused){let t=B.get(e.id);t&&(n.currentTime=t.ended?0:t.currentTime)}else n.pause()}if(H&&B.has(e.id)&&!k.ref?.current){let n=B.get(e.id);if(t.current){if(t.current.currentTime=n.ended?0:n.currentTime,n.paused)return;t.current.play()}}}},[k,e.id,e.source,B,ee,e.feedPostUuid,e.videoContent.path,H]),en=o.useCallback(()=>{let n=t.current;n&&e.source===_.Zp.DETAIL_MODAL&&!e.isThumbnail&&n.play().catch(()=>{n.muted=!0,n.play()})},[e.isThumbnail,e.source]),eo=o.useCallback(t=>{let n=Z.has(e.id);z&&t.isIntersecting&&!P.current&&!n?(J(),null!=e.feedPostIdx&&(null===N||N>e.feedPostIdx)&&U(t=>null!=e.feedPostIdx&&(null===t||t>e.feedPostIdx)?e.feedPostIdx:t),O(t=>{let n=new Set(t);return n.add(e.id),n})):!t.isIntersecting&&n&&(K(),O(t=>{let n=new Set(t);return n.delete(e.id),n}),H&&A(null))},[J,K,e.id,e.feedPostIdx,O,z,Z,H,A,N,U]);(0,p.g)(y,eo,{threshold:.9}),o.useEffect(()=>{z&&V===e.id&&J()},[V,J,e.id,z]),o.useEffect(()=>{let n=t.current;if(!n)return;let o=()=>{ee(),X(n)},r=()=>{if(P.current)P.current=!1,n.currentTime=0;else{let e=t.current;e&&X(e)}},i=()=>{let e=t.current;if(e){let t=e.duration-e.currentTime;t!==M&&x(t)}},d=()=>{i()},s=()=>{!S.current&&(S.current=!0,F&&t.current&&(t.current.muted=!0),z&&N===e.feedPostIdx&&J())};return n.addEventListener("play",o),n.addEventListener("pause",r),n.addEventListener("timeupdate",i),n.addEventListener("loadedmetadata",d),n.addEventListener("canplay",s),()=>{n.removeEventListener("play",o),n.removeEventListener("pause",r),n.removeEventListener("timeupdate",i),n.removeEventListener("loadedmetadata",d),n.removeEventListener("canplay",s)}},[ee,X,J,K,P,M,F,z,N,e.id,e.feedPostIdx]),o.useEffect(()=>{let n=t.current;if(n)return()=>{X(n,e.source===_.Zp.TILE)}},[X,e.source]),o.useEffect(()=>{w.current||(w.current=!0,async function(){window.VIDEOJS_NO_DYNAMIC_STYLE=!0;let n=await (0,c.Fe)();if(L.current)return;let o=t.current;e.isThumbnail?o.style.objectFit="cover":(o.style.maxHeight="100%",o.style.maxWidth="100%"),o.style.height="100%",o.style.width="100%",o.style.display="flex",o.style.justifyContent="center",o.style.alignItems="center",L.current=n.videoJs(o,{muted:!1,controls:!1,controlBar:!1,bigPlayButton:!1,loadingSpinner:!1,errorDisplay:!1,textTrackSettings:!1,textTrackDisplay:!1,nativeTextTracks:!1},()=>{e.isThumbnail||e.source===_.Zp.TILE||o.setAttribute("controls","true"),e.source===_.Zp.TILE&&o.classList.add("feed_video_player--hideFullscreenControl--C1EYT"),(0,c.uz)(q,W,L.current).then(()=>{et()})})}())},[e.isThumbnail,e.videoContent,e.source,W,q,et]),o.useEffect(()=>{L.current&&$!==e.videoContent.path&&(0,c.uz)(q,W,L.current).then(()=>{et(),ee()})},[et,e.videoContent,W,q,$,ee]),o.useEffect(()=>{if(L.current&&Y&&k){if("detail"===k.source&&!k.ref?.current){et();return}Y.id!==k.id&&et()}},[et,Y,k]);let er=o.useCallback(()=>{if(e.isThumbnail||e.source!==_.Zp.TILE||!t.current||void 0===M||isNaN(M))return null;let n=new Date(1e3*M);return!n||isNaN(n.getTime())?null:o.createElement(o.Fragment,null,o.createElement("div",{className:"feed_video_player--mediaBadgeV2--fvyMQ feed_post_content--mediaBadgeV2--7Akie feed_tile--feedPostHoverContainer--238j6"},n.toLocaleString("en",{minute:"2-digit",second:"2-digit"})),t.current.muted&&o.createElement(u.B,{svg:m.A,className:"feed_video_player--mutedBadge--K8Mfa"}))},[e.isThumbnail,e.source,M]);return o.createElement("div",{ref:n,className:i()("feed_video_player--videoContainer--L740O",e.isThumbnail&&"feed_video_player--videoContainerThumbnail--p1UBT")},o.createElement("video",{ref:t,style:{backgroundColor:"#000000"},onCanPlay:en,onClick:e.source!==_.Zp.DETAIL_MODAL?h:void 0,controls:G,loop:j}),(!r||!G)&&er())}function I(e,t,n){return[e,t,n].join(":")}}}]);

//# debugId=0c986115-616c-5cd9-8b6b-3f6832bc2f39

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/ec3ca407e0e4159a03c8024d3981eeefadd14d09/2964-74e286e5bfba9aa1.min.js.map
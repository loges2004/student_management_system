"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="e9a6d19c-2d5e-5b98-96ad-4f23a135f40e")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[4493],{623491:(e,t,l)=>{l.d(t,{kL:()=>a,kg:()=>s,pU:()=>n,uZ:()=>r});let a="embed--container--KRhyf",n="embed--iframe--6z9Fq",r="embed--playIcon--8LC5v",s="embed--inactiveOverlayBackdrop--DDuMq"},987384:(e,t,l)=>{l.d(t,{U:()=>a});let a="flapp_overlay--elementContainer--b1Khv"},314437:(e,t,l)=>{l.d(t,{W:()=>n});let a=["APPLE_IPHONE_14_PRO","APPLE_IPHONE_14_PLUS","APPLE_IPHONE_15","APPLE_WATCH_45MM","APPLE_WATCH_SERIES_10_42MM","APPLE_WATCH_SERIES_10_46MM","APPLE_IPHONE_16"],n=e=>a.some(t=>e.startsWith(t))},401379:(e,t,l)=>{l.d(t,{e:()=>a});function a(e,t,l){""!==l&&(e.delete(t),"starting-point-node-id"===t&&(e.delete("node-id"),e.append("node-id",l)),e.append(t,l))}},346750:(e,t,l)=>{l.d(t,{Z:()=>eO,v:()=>eM});var a=l(805014),n=l(411855),r=l(245954),s=l(289765);function i(e){return function({nodeId:t,isReadOnly:l,invalidateThumbnail:a}){let i=(0,n.useCallback)((e,l)=>{let a=(0,r.UN)().get(t);a&&a.setInteractiveSlideConfigData(e,l)},[t]),o=(0,n.useCallback)(e=>{let l=(0,r.UN)().get(t);l&&l.deleteInteractiveSlideConfigData(e)},[t]),c=(0,n.useCallback)((e,l)=>{let a=(0,r.UN)().get(t);a&&a.setInteractiveSlideParticipantData(e,l)},[t]),p=(0,n.useCallback)(()=>{let e=(0,r.UN)().get(t);e&&e.resetInteractiveSlideParticipantData()},[t]),m=(0,s.Fk)((e,t)=>{let l=e.get(t);return l?l.interactiveSlideConfigData:null},t),u=(0,s.Fk)((e,t)=>{let l=e.get(t);return l?l.interactiveSlideParticipantData:null},t);return m&&u?n.createElement(e,{configData:m,participantData:u,setConfigData:i,setParticipantData:c,resetParticipantData:p,deleteConfigData:o,isViewer:!1,isPresenter:!1,isReadOnly:l,recordingKey:`flapp.${t}`,nodeId:t,invalidateThumbnail:a}):null}}function o(e){return function({viewer:t,nodeId:l}){let a=(0,s.x3)((e,t)=>{let l=e.getPrototypeNode(t);return l?e.nodeInteractiveSlideConfigData(l):null},l),r=(0,s.x3)((e,t)=>{let l=e.getPrototypeNode(t);return l?e.nodeInteractiveSlideParticipantData(l):null},l);if(!a||!r)return null;let i=(e,l,a)=>{t.setInteractiveSlideConfigData(e,l,a)},o=(e,l,a)=>{t.setInteractiveSlideParticipantData(e,l,a)},c=t.isPresenterSession();return n.createElement(e,{configData:a,participantData:r,setConfigData:(e,t)=>i(l,e,t),setParticipantData:(e,t)=>o(l,e,t),recordingKey:`flapp.${l}`,isViewer:!0,isPresenter:c,nodeId:l,viewer:t})}}var c=l(351966),p=l(744597),m=l(521707),u=l(851169),d=l(629019),f=l.n(d),g=l(563192),h=l(250392),E=l(693565),v=l(265851),_=l(76265),b=l(535461),y=l(37267),N=l(15092),w=l(688656),x=l(901037),P=l(794462);let C="alignment_scale--prompt--D-cNA";var I=l(931136);function S({recordingKey:e,prompt:t,setPrompt:l}){return n.createElement(h.L,{className:f()(C,b.Qx,b.Uu),type:"text",placeholder:(0,_.t)("slides.flapp.alignment.prompt_placeholder"),value:t,onChange:e=>{l(e.target.value)},onPaste:e=>{l(e.clipboardData.getData("text"))},recordingKey:e})}function k({prompt:e}){return n.createElement("p",{className:C},e||(0,_.t)("slides.flapp.alignment.prompt_placeholder"))}function F({configData:e,setConfigData:t,recordingKey:l,participantData:a,promptElement:r,onVoteRequest:s}){var i;let o=(0,N.iZ)(),c=s&&o?(e,t)=>{s({name:o.name,userId:o.id,thumbnailUrl:o.img_url,alignmentXOffsetPercentage:e,alignmentYOffsetPercentage:t,timestamp:Date.now()})}:void 0,[p,m]=(i=o?.id,(0,n.useMemo)(()=>{let e;return a?[Object.values(a).reduce((t,l)=>{try{let a=JSON.parse(l);a.userId===i&&(e=a),t.push(a)}catch(e){}return t},[]).sort((e,t)=>e.timestamp-t.timestamp),e]:[[],void 0]},[a,i])),d="true"===e.resultsShown,h=u.nc.user("slides-toggle-alignment-scale-results-shown",()=>{t("resultsShown",(!d).toString())}),E=(0,P.aF)(e);return n.createElement("div",{className:f()(v.s.wFull.flex.flexColumn.justifyCenter.itemsCenter.$,"alignment_scale--alignmentScaleThemeWrapper--1VvHW"),"data-preferred-theme":E.preferredTokenTheme,"data-transparency-mode":E.transparentMode},n.createElement("div",{className:"alignment_scale--mainContainer--aIN2p"},n.createElement(L,{prompt:r,allVoteData:p,currentUserVoteData:m}),n.createElement(U,{resultsShown:d,alignmentVoteData:p,onScaleClick:c}),n.createElement(D,null)),n.createElement(O,{recordingKey:g.Pt(l,"slides-alignment-scale-reveal-results"),resultsShown:d,onToggle:h}))}function L({prompt:e,allVoteData:t,currentUserVoteData:l}){return n.createElement("div",{className:"alignment_scale--headerContainer--l688h"},n.createElement("div",{className:"alignment_scale--promptContainer--hRH11 text--fontPos20--Bcz97 text--_fontBase--QdLsd"},e),n.createElement(T,{allVoteData:t,currentUserVoteData:l}))}function U({resultsShown:e,alignmentVoteData:t,onScaleClick:l}){let a=(0,n.useRef)(null),r=l?e=>{let t=e.currentTarget.getBoundingClientRect(),a=e.clientX-t.left,n=e.clientY-t.top;l(a/t.width,n/t.height)}:void 0;return n.createElement("div",{className:"alignment_scale--scaleContainerPseudoBorder--Jj6DE"},n.createElement("div",{className:"alignment_scale--scaleContainerSolidBackground--s4pRF"}),n.createElement(c.E,{className:f()("alignment_scale--scaleContainer--gmwd3",l?v.s.cursorPointer.$:""),ref:a,onClick:r},n.createElement("div",{className:"alignment_scale--scaleLine--uHC-I"}),n.createElement("div",{className:"alignment_scale--scaleMarkerContainer--X5x-j"},n.createElement("div",{className:"alignment_scale--scaleMarker0--QIykm alignment_scale--_scaleMarker---mTsV"}),n.createElement("div",{className:"alignment_scale--scaleMarker25--3Xe8a alignment_scale--_scaleMarker---mTsV"}),n.createElement("div",{className:"alignment_scale--scaleMarker50--L4exg alignment_scale--_scaleMarker---mTsV"}),n.createElement("div",{className:"alignment_scale--scaleMarker75--Urto8 alignment_scale--_scaleMarker---mTsV"}),n.createElement("div",{className:"alignment_scale--scaleMarker100--AHcJW alignment_scale--_scaleMarker---mTsV"})),e&&a.current?t.map(e=>n.createElement("img",{src:(0,y.p)(e.thumbnailUrl),key:e.userId,alt:e.name,className:"alignment_scale--alignmentScaleVote--zkhC9",style:{left:`${Math.floor(100*e.alignmentXOffsetPercentage)}%`,top:`${Math.floor(100*e.alignmentYOffsetPercentage)}%`,transform:"translate(-15px, -15px)"}})):null))}function D(){return n.createElement("div",{className:"alignment_scale--scaleLabelContainer--HF5-I"},n.createElement("div",{className:"alignment_scale--stronglyDisagreeLabel--1Yzc0 alignment_scale--_labelBase--enfVZ text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,_.tx)("slides.flapp.alignment.strongly_disagree_label")),n.createElement("div",{className:"alignment_scale--neutralLabel--qqm5f alignment_scale--_labelBase--enfVZ text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,_.tx)("slides.flapp.alignment.neutral_label")),n.createElement("div",{className:"alignment_scale--stronglyAgreeLabel--Dhs7h alignment_scale--_labelBase--enfVZ text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,_.tx)("slides.flapp.alignment.strongly_agree_label")))}function T({allVoteData:e,currentUserVoteData:t}){let l,a=e;return t&&(a=[t,...e.filter(e=>e.userId!==t.userId)]),l=0===a.length?(0,_.t)("slides.flapp.results.no_votes_yet"):1===a.length?t?(0,_.t)("slides.flapp.results.single_self_vote"):(0,_.t)("slides.flapp.results.single_other_vote",{person:a[0].name}):t?(0,_.t)("slides.flapp.results.multiple_votes_including_user",{totalVotes:a.length-1}):(0,_.t)("slides.flapp.results.multiple_other_votes",{totalVotes:a.length}),n.createElement("div",{className:"alignment_scale--voteDisplayContainer--upm2F text--fontPos13--xW8hS text--_fontBase--QdLsd"},n.createElement("p",{className:"alignment_scale--description--kxZH3"},l),n.createElement(B,{allVoteData:a,maxToShow:2}))}function B({allVoteData:e,maxToShow:t}){let l=e.length;e.length>t+1&&(l=t);let a=e.slice(0,l),r=e.slice(l),s=r.map(e=>({id:e.userId,handle:e.name,img_url:e.thumbnailUrl}));return n.createElement("div",{className:"alignment_scale--voteProfilesContainer--wbH0G"},a.map(e=>n.createElement("img",{className:"alignment_scale--voteProfile--Um0e6",key:e.userId,alt:e.name,src:(0,y.p)(e.thumbnailUrl),"data-tooltip-type":w.Ib.TEXT,"data-tooltip":e.name})),r.length>0?n.createElement("div",{className:"alignment_scale--overflowVote--KIoww text--fontPos11--2LvXf text--_fontBase--QdLsd","data-tooltip-type":w.Ib.SPECIAL,"data-tooltip":x.c,"data-tooltip-overflow-user-data":JSON.stringify(s)},`+${r.length}`):null)}function O({recordingKey:e,resultsShown:t,onToggle:l}){return n.createElement("div",{className:"alignment_scale--resultToggleContainer--euX1O"},n.createElement(E.B,{className:"alignment_scale--resultToggleContainerSvg--PFGWI",svg:I.A}),n.createElement(c.E,{className:"alignment_scale--resultToggle--alry6 text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:l,recordingKey:e},t?n.createElement(p.l,null):n.createElement(m.f,null),n.createElement("p",null,t?(0,_.t)("slides.flapp.results.results_shown"):(0,_.t)("slides.flapp.results.results_hidden"))))}let M={EditorFlapp:i(function(e){let{configData:t,setConfigData:l,recordingKey:a}=e,r=n.createElement(S,{recordingKey:g.Pt(a,"slides-alignment-scale-prompt-input"),prompt:t.prompt,setPrompt:e=>{u.l7.user("slides-update-alignment-scale-prompt",()=>{l("prompt",e)})}});return n.createElement(F,{...e,promptElement:r})}),ViewerFlapp:o(function(e){return n.createElement(F,{...e,promptElement:n.createElement(k,{prompt:e.configData.prompt}),onVoteRequest:t=>{u.l7.user("slides-update-alignment-scale-vote",()=>{e.setParticipantData(t.userId,JSON.stringify(t))})}})})};var V=l(138330),A=l(163773),$=l(747484),H=l(851390);function Q({configData:e}){let t=(0,H.hk)(),l=(0,V.gD)(e);return n.createElement(V.wL,{deviceFrame:l},n.createElement(V.lu,{isViewer:!0,onClick:()=>{e.url&&t&&A.Ay.redirect(e.url,$.uG?void 0:"_blank")}}))}let W={EditorFlapp:i(V.DR),ViewerFlapp:o(V.E$)},R={EditorFlapp:i(Q),ViewerFlapp:o(Q)};var z=l(826943),K=l(880230);function q({prompt:e,setPrompt:t}){return n.createElement(h.L,{className:f()(b.Qx,b.Uu),type:"text",placeholder:(0,_.t)("slides.flapp.facepile.prompt_placeholder"),value:e,onChange:e=>{t(e.target.value)},onPaste:e=>{t(e.clipboardData.getData("text"))},recordingKey:"facepile-prompt-input"})}function Y({prompt:e}){return n.createElement("p",null,e||(0,_.t)("slides.flapp.facepile.prompt_placeholder"))}function j({isViewer:e,configData:t,participantData:l,promptElement:a,onToggleStampRequest:r}){let s=(0,N.iZ)(),i=function(e,t){if(!e||0===Object.keys(e).length)return{stamps:[],currentUserStamped:!1};let l=!1;return{stamps:Object.values(e).reduce((e,a)=>{try{let n=JSON.parse(a);n.userId===t&&(l=!0),e.push(n)}catch(e){}return e},[]).sort((e,l)=>e.userId===t?-1:l.userId===t?1:e.timestamp-l.timestamp),currentUserStamped:l}}(l,s?.id),o=function(e,t){let{stamps:l,currentUserStamped:a}=e;return 0===l.length?t?(0,_.t)("slides.flapp.facepile.description_click_to_stamp"):(0,_.t)("slides.flapp.results.no_stamps_yet"):1===l.length?a?(0,_.t)("slides.flapp.results.single_self_stamp"):(0,_.t)("slides.flapp.results.single_other_stamp",{person:l[0].name}):a?(0,_.t)("slides.flapp.results.multiple_stamps_including_user",{totalStamps:l.length-1}):(0,_.t)("slides.flapp.results.multiple_other_stamps",{totalStamps:l.length})}(i,e),c=(0,P.aF)(t);return n.createElement("div",{className:f()("facepile--container--k1p6f","facepile--facepileThemeWrapper--dG-S8"),"data-preferred-theme":c.preferredTokenTheme,"data-transparent-mode":c.transparentMode},n.createElement("div",{className:"facepile--prompt--6Xfxz text--fontPos24--YppUD text--_fontBase--QdLsd"},a),n.createElement(J,{isStampingEnabled:e,stampsWithMetadata:i,maxStampsToShow:3,currentUser:s,onToggleStampRequest:r}),n.createElement("p",{className:"facepile--description--SesIh text--fontPos20--Bcz97 text--_fontBase--QdLsd"},o))}function J({isStampingEnabled:e,stampsWithMetadata:t,maxStampsToShow:l,currentUser:a,onToggleStampRequest:r}){let{stamps:s,currentUserStamped:i}=t,o=s.length;s.length>l+1&&(o=l);let c=s.slice(0,o),p=s.slice(o),m=e&&a&&!i;return n.createElement("div",{className:v.s.flex.gap12.pt36.pb24.itemsCenter.alignCenter.$},c.map(e=>{let t=r&&a&&e.userId===a.id,l={text:e.name,subtext:t?(0,_.t)("slides.flapp.facepile.tooltip.click_to_remove"):void 0};return n.createElement(X,{stamp:e,tooltipToShow:l,onClick:()=>{t&&r(a.id,void 0)},key:`${e.userId}-stamp`})}),p.length>0?n.createElement(Z,{overflowStamps:p}):null,n.createElement(G,{previewStamp:m?ee(a):void 0,onClick:()=>{m&&r&&r(a.id,ee(a))}}))}function X({stamp:e,tooltipToShow:t,onClick:l}){return n.createElement(c.E,{onClick:l,htmlAttributes:{"data-tooltip-type":w.Ib.TEXT,"data-tooltip":t?.text,"data-tooltip-subtext":t?.subtext,"data-tooltip-offset-y":8}},n.createElement(z.oW,{className:"facepile--facepileStamp---gzFz facepile--_fixedStampBase--icx6v facepile--_stampBase--eCNDB",src:(0,y.p)(e.thumbnailUrl),alt:e.name,draggable:!1}))}function Z({overflowStamps:e}){let t=e.map(e=>({id:e.userId,handle:e.name,img_url:e.thumbnailUrl}));return n.createElement("div",{className:"facepile--overflowStamp--j3fn3 text--fontPos22--4H4Fc text--_fontBase--QdLsd facepile--_stampBase--eCNDB","data-tooltip-type":w.Ib.SPECIAL,"data-tooltip":x.c,"data-tooltip-overflow-user-data":JSON.stringify(t),"data-tooltip-offset-y":8},n.createElement("p",null,`+${e.length}`))}function G({previewStamp:e,onClick:t}){return n.createElement(c.E,{className:f()("facepile--emptyStampContainer--dAbYv facepile--_fixedStampBase--icx6v facepile--_stampBase--eCNDB",e?"facepile--displayPreviewOnHover--qPtfX":""),onClick:t},n.createElement(E.B,{className:"facepile--emptyStamp--KiqZH",svg:K.A}),e?n.createElement("div",{className:"facepile--previewStamp--TbFAQ"},n.createElement(X,{stamp:e})):null)}function ee(e){return{name:e.name,userId:e.id,thumbnailUrl:e.img_url,timestamp:Date.now()}}let et={EditorFlapp:i(function(e){let t=n.createElement(q,{prompt:e.configData.prompt,setPrompt:t=>{u.l7.user("slides-update-facepile-question",()=>{e.setConfigData("prompt",t)})}});return n.createElement(j,{...{...e,promptElement:t}})}),ViewerFlapp:o(function(e){return n.createElement(j,{...{...e,promptElement:n.createElement(Y,{prompt:e.configData.prompt}),onToggleStampRequest:(t,l)=>{u.l7.user("slides-add-user-facepile-stamp",()=>{e.setParticipantData(t,JSON.stringify(l))})}}})})};var el=l(188507),ea=l(186471),en=l(662068),er=l(137565),es=l(719334);let ei="poll--question--F1M7f text--fontPos30--N-YT7 text--_fontBase--QdLsd",eo="poll--optionContainer--ds9OS",ec="poll--optionContentText---N25s";function ep(e){let t=[];for(let l=0;l<6;l++){let a=e[`option${l}`];void 0!==a&&t.push(a)}return t}function em({resultsShown:e,setResultsShown:t}){return n.createElement(er.GG,{className:"poll--toggleResultVisibilityButton--mcWJq text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:()=>t(!e),recordingKey:"resultsButton"},e?n.createElement(n.Fragment,null,n.createElement(p.l,null),(0,_.tx)("slides.flapp.results.results_shown")):n.createElement(n.Fragment,null,n.createElement(m.f,null),(0,_.tx)("slides.flapp.results.results_hidden")))}function eu({totalVotes:e,hasUserVote:t,firstVoteByTimestamp:l}){let a;return a=0===e?(0,_.t)("slides.flapp.results.no_votes_yet"):1===e?t?(0,_.t)("slides.flapp.results.single_self_vote"):l?(0,_.t)("slides.flapp.results.single_other_vote",{person:l.name}):(0,_.t)("slides.flapp.results.multiple_other_votes",{totalVotes:e}):t?(0,_.t)("slides.flapp.results.multiple_votes_including_user",{totalVotes:e-1}):(0,_.t)("slides.flapp.results.multiple_other_votes",{totalVotes:e}),n.createElement("p",null,a)}function ed({votes:e,children:t,isWinningVote:l,isUserVote:a,percentage:r,resultsShown:s,recordingKey:i,onClick:o}){let c=e.map(e=>({id:e.userId,handle:e.name,img_url:e.thumbnailUrl}));return n.createElement("div",{className:eo},n.createElement(er.GG,{className:f()("poll--optionInner--WmnWP",o?"poll--hoverable--uHwKu":""),recordingKey:i,onClick:o,"data-tooltip-type":w.Ib.SPECIAL,"data-tooltip":c.length>0?x.c:void 0,"data-tooltip-overflow-user-data":JSON.stringify(c),"data-tooltip-offset-y":8},s&&n.createElement("div",{className:f()("poll--optionFill--birzf",l?"poll--winning--ZgYy7":""),style:{width:`${r}%`}}),n.createElement("div",{className:"poll--optionContent--XecHh text--fontPos20--Bcz97 text--_fontBase--QdLsd"},t,n.createElement("div",{className:v.s.flex.gap8.itemsCenter.$},a&&n.createElement(ea.l,{height:"24px",width:"24px"}),s&&n.createElement("span",null,`${r}%`)))))}function ef({onClick:e,recordingKey:t}){return n.createElement(er.D8,{className:eo,onClick:e,recordingKey:g.Pt(t,"addOption")},n.createElement("div",{className:f()("poll--newOption--H35l3",{[v.s.invisible.$]:!e})},n.createElement(en.e,null)))}let eg="slides-update-poll-question",eh="slides-update-poll-option",eE="slides-update-poll-options";function ev({nodeId:e,preferredTheme:t,transparencyMode:l,configData:a,participantData:s,setConfigData:i,setParticipantData:o,deleteConfigData:c,isViewer:p,recordingKey:m}){let d=(0,el.wA)(),E=(0,N.iZ)(),v=a.question||"",y=ep(a),w="true"===a.resultsShown,[x,P]=n.useState(!1),C=n.useMemo(()=>[],[]);(0,n.useEffect)(()=>{if(x&&C.length>0){let e=C.slice(-1)[0];e&&e.current&&e.current.focus()}},[y.length,C,x]);let I=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(p)return;let t=I.current,l=new ResizeObserver(t=>{let l=(0,r.UN)().get(e);if(l)for(let e of t)u.l7.system("slides-poll-auto-resize",()=>{let t=getComputedStyle(e.target),a=parseFloat(t.paddingTop),n=a+parseFloat(t.paddingBottom)+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),r=e.contentRect.height+n;l&&r>l.size.y&&(l.size={x:l.size.x,y:r})})});return t&&l.observe(t),()=>{t&&l.unobserve(t)}},[e,p]);let S=u.nc.user(eg,e=>{i("question",e.target.value)}),k=u.nc.user(eg,e=>{i("question",e.clipboardData.getData("text"))}),F=e=>`option${e}`,L=u.nc.user(eh,(e,t)=>{i(F(e),t.currentTarget.value)}),U=u.nc.user(eh,(e,t)=>{i(F(e),t.clipboardData.getData("text"))}),D=u.nc.user(eE,(e,t)=>{e===y.length-1&&("Enter"===t.key&&y.length<6?(i(F(e+1),""),P(!0)):y.length>2&&0===y[e].length&&("Backspace"===t.key||"Delete"===t.key)&&(c&&(c(F(e)),t.preventDefault()),P(!0)))}),T=u.nc.user("slides-update-poll-results-visibility",e=>{i("resultsShown",e?"true":"false")}),{groupedVotes:B,totalVotes:O,votePercentages:M,winningVoteIndices:V,userVoteIndex:A,firstVoteByTimestamp:$}=function(e,t,l){let a;let n=ep(t),r=-1,s=Object.values(l).reduce((t,l)=>{try{let n=JSON.parse(l);n.userId===e&&(r=n.selectedOption),a=a&&a.timestamp>n.timestamp||!a?n:a,t.push(n)}catch(e){}return t},[]).sort((e,t)=>e.timestamp-t.timestamp),i=0,o=n.map((e,t)=>{let l=s.filter(e=>e.selectedOption===t);return i=l.length>i?l.length:i,l}),c=s.length,p=n.map((e,t)=>Math.round(100*(o[t].length/c||0))),m=o.reduce((e,t,l)=>t.length===i&&0!==t.length?[...e,l]:e,[]);return{groupedVotes:o,votePercentages:p,totalVotes:c,winningVoteIndices:m,userVoteIndex:r,firstVoteByTimestamp:a}}(E?.id,a,s),H=u.nc.system("slides-update-poll-votes",e=>{if(!E){d(es.s.error((0,_.t)("slides.flapp.poll.vote_failure")));return}let t={userId:E.id,name:E.name,thumbnailUrl:E.img_url,timestamp:Date.now(),selectedOption:e};o(t.userId,JSON.stringify(t))});return n.createElement("div",{className:f()("poll--pollThemeWrapper--z0UVm","poll--container--UKRlY"),"data-preferred-theme":t,"data-transparency-mode":l,ref:I},p?n.createElement("div",{className:ei},v):n.createElement(h.L,{type:"text",className:f()(ei,b.Qx,b.Uu),value:v,placeholder:(0,_.t)("slides.flapp.poll.question_placeholder"),onChange:S,onPaste:k,recordingKey:g.Pt(m,"questionInput")}),y.map((e,t)=>{let l=n.createRef();C.push(l);let a=-1!==V.indexOf(t);return p?n.createElement(ed,{votes:B[t],key:t,isWinningVote:a,isUserVote:t===A,percentage:M[t],resultsShown:w,recordingKey:g.Pt(m,`option${t}`),onClick:()=>H(t)},n.createElement("div",{className:ec},e)):n.createElement(ed,{votes:B[t],key:t,isWinningVote:a,isUserVote:t===A,percentage:M[t],resultsShown:w},n.createElement(h.L,{className:f()(ec,b.Qx,b.Uu),type:"text",value:e,placeholder:(0,_.t)("slides.flapp.poll.option_placeholder"),onChange:e=>L(t,e),onKeyDown:e=>D(t,e),onPaste:e=>U(t,e),ref:l,recordingKey:g.Pt(m,`optionInput${t}`)}))}),n.createElement(ef,{onClick:p||y.length>=6?void 0:u.nc.user(eE,()=>{i(F(y.length),""),P(!0)}),recordingKey:m}),n.createElement("div",{className:"poll--resultContainer--cQQVk text--fontPos20--Bcz97 text--_fontBase--QdLsd"},n.createElement(eu,{totalVotes:O,hasUserVote:A>=0,firstVoteByTimestamp:$}),n.createElement(em,{resultsShown:w,setResultsShown:e=>T(e)})))}function e_({configData:e,participantData:t,setConfigData:l,setParticipantData:a,deleteConfigData:r,isViewer:s,isPresenter:i,recordingKey:o,nodeId:c}){let p=(0,P.aF)(e);return n.createElement(ev,{preferredTheme:p.preferredTokenTheme,transparencyMode:p.transparentMode,configData:e,participantData:t,setConfigData:l,setParticipantData:a,deleteConfigData:r,isViewer:s,isPresenter:i,nodeId:c,recordingKey:o})}let eb={EditorFlapp:i(e_),ViewerFlapp:o(e_)};var ey=l(217950),eN=l(136540),ew=l(653798),ex=l(299009),eP=l(164848),eC=l(542005),eI=l(433216);async function eS(e){if(!e)return;let t=(0,eN.KJ)(e.trim());if(t)try{let l=(await eI.E.getLinkMetadata({text:t.isFromIFrame?e:t.url,useEmbedsAllowList:"true",useLinkPreviewsV2:"true"})).data.meta;if(!l||"embed"!==l.type)return;return{srcUrl:l.srcUrl.replace("&autoplay=1","").replace("&auto_play=1","")+"&enablejsapi=1",url:decodeURIComponent(l.url||""),height:800*(l.height||450)/(l.width||800),width:800,title:decodeURIComponent(l.title||"YouTube"),thumbnailImage:l.thumbnailImage,thumbnailUrl:l.thumbnailUrl}}catch(e){(0,ew.x1)(ey.e.SLIDES,"Failed to get youtube embed",e)}}function ek({configData:e,disablePointerEvents:t,onIframeLoad:l}){return n.createElement("div",{className:v.s.wFull.hFull.$},e.srcUrl&&e.title?n.createElement("iframe",{src:e.srcUrl,className:v.s.wFull.hFull.$,onLoad:e=>l?.(e.target),title:e.title,allowFullScreen:!1,allow:"autoplay"}):null,t?n.createElement("div",{className:v.s.wFull.hFull.absolute.top0.left0.$}):null)}function eF({configData:e}){return e.url&&e.title?n.createElement("a",{className:v.s.wFull.hFull.cursorPointer.relative.$,style:{pointerEvents:"auto"},href:e.url,target:"_blank",rel:"noopener noreferrer",title:e.title},e.thumbnailUrl?n.createElement("img",{src:e.thumbnailUrl,alt:e.title,className:v.s.wFull.hFull.$,style:{objectFit:"cover"}}):null):null}let eL={EditorFlapp:i(function(e){let{configData:t,nodeId:l,setConfigData:a,isReadOnly:s}=e;return((0,n.useEffect)(()=>{s||t.srcUrl||eS(t.url).then(async e=>{if(!e)return;let t=(0,r.UN)().get(l);if(t&&(u.l7.system("initializing-youtube",()=>{(0,eP.r)(()=>{t.resizeWithConstraints(e.width,e.height),t.proportionsConstrained=!0;let l=t.relativeTransform;l.m02=t.relativeTransform.m02-e.width/2,l.m12=t.relativeTransform.m12-e.height/2,t.relativeTransform=l,a("srcUrl",e.srcUrl),a("title",e.title),e.url&&a("url",e.url),e.thumbnailUrl&&a("thumbnailUrl",e.thumbnailUrl)})}),e.thumbnailImage))try{let l=new Uint8Array(e.thumbnailImage.data),a=await (0,eC.UD)(l,"image/png",e.title);u.l7.system("initializing-youtube-thumbnail",()=>{(0,eP.r)(()=>{t.insertImageInFillPaint(a)})})}catch(e){}})},[t.url,t.srcUrl,l,a,s]),t.url&&!t.srcUrl)?n.createElement("div",{className:v.s.absolute.w48.h48.$},n.createElement(ex.kt,{size:"custom",className:v.s.w48.h48.$})):n.createElement(ek,{...e,disablePointerEvents:!0})}),ViewerFlapp:o(function(e){let t=(0,n.useCallback)(t=>{e.viewer&&e.viewer.associateYoutubeWithNode(e.nodeId,t)},[e.viewer,e.nodeId]);return(0,n.useEffect)(()=>()=>{e.viewer&&e.viewer.disassociateYoutubeWithNode(e.nodeId)},[e.viewer,e.nodeId]),n.createElement(ek,{...e,onIframeLoad:t})})},eU={EditorFlapp:i(eF),ViewerFlapp:o(eF)},eD={[a.a9h.EMBED]:W,[a.a9h.POLL]:eb,[a.a9h.FACEPILE]:et,[a.a9h.ALIGNMENT]:M,[a.a9h.YOUTUBE]:eL},eT={[a.a9h.EMBED]:R,[a.a9h.POLL]:eb,[a.a9h.FACEPILE]:et,[a.a9h.ALIGNMENT]:M,[a.a9h.YOUTUBE]:eU},eB={EditorFlapp:()=>null,ViewerFlapp:()=>null};function eO(e){return null===e?eB:eD[e]||eB}function eM(e){return null===e?eB:eT[e]||eB}},44183:(e,t,l)=>{l.d(t,{_:()=>c,s:()=>i});var a=l(805014),n=l(875877),r=l(427494);let s=(0,l(927150).bt)(e=>e.mirror.appModel.activeUserAction);function i(e){let t=(0,r.KH)(),l=t&&1===Object.keys(t).length&&t[e],i=(0,n.useAtomValue)(s);return l&&i===a.QOV.DEFAULT}let o=(0,n.atom)(null);function c(e){let[t,l]=(0,n.useAtom)(o);return{shouldBeMounted:t===e,loadEmbed:()=>{l(()=>e)}}}},36031:(e,t,l)=>{l.d(t,{o:()=>n});var a=l(332968);function n(e){if(!window.opener){console.error("No parent window found! Did you open this window manually?");return}a.L?.addAction("postMessageToPresenterView",{type:e.type}),window.opener.postMessage(e,"*")}},921943:(e,t,l)=>{l.d(t,{l:()=>n});var a=l(263159);let n=(0,l(411855).memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.774 19.963c.32-.03.63.142.747.441.084.215-.028.476-.257.508a9 9 0 1 1 7.648-7.648c-.032.229-.292.34-.507.256a.72.72 0 0 1-.442-.747Q20 12.39 20 12a8 8 0 1 0-7.226 7.963M18 11.883c.007.342-.343.558-.662.433a.55.55 0 0 1-.34-.5 5 5 0 1 0-5.18 5.18c.218.01.418.138.498.342.125.319-.09.669-.433.662A6 6 0 1 1 18 11.882m-7.17 2.88c.224.095.423-.132.334-.359a3 3 0 0 1-.06-.167 2 2 0 0 0-.51-.814 2 2 0 1 1 2.828-2.829c.227.23.507.414.815.51q.084.026.168.06c.226.088.453-.11.358-.335a3 3 0 1 0-3.933 3.934m5.075 6.226a1.5 1.5 0 0 0 1.376-1.058l.624-2.027 2.027-.623a1.5 1.5 0 0 0 .107-2.83l-6-2.357a1.5 1.5 0 0 0-1.945 1.945l2.358 6a1.5 1.5 0 0 0 1.453.95m4.085-5.123a.5.5 0 0 1-.352.46l-2.533.778-.78 2.533a.5.5 0 0 1-.943.036l-2.357-6a.5.5 0 0 1 .648-.648l6 2.357a.5.5 0 0 1 .317.484",clipRule:"evenodd"})})})}}]);

//# debugId=e9a6d19c-2d5e-5b98-96ad-4f23a135f40e

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/ec3ca407e0e4159a03c8024d3981eeefadd14d09/4493-07e92722efd01a4a.min.js.map
"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="c204902a-b632-514d-9558-1059b2436d59")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[2608],{509066:(e,t,a)=>{a.d(t,{J:()=>b});var n=a(411855),r=a(805014),i=a(851169),l=a(277154),o=a(875877),s=a(73041),c=a(618335),u=a(695024),d=a(873650),f=a(7846),m=a(99981);let h=a(219085).zS;function b(){let[e,t]=(0,o.useAtom)(m.ph),a=(0,o.useAtomValue)(m.KG),b=(0,o.useAtomValue)(m.kh),p=(0,u._X)({subscribeToUpdates_expensive:!0}),[S,E]=(0,n.useState)(null),g="whiteboard"===(0,s.lg)(),T=n.useCallback(()=>{if(e){let{emojis:t,index:a}=e;if(t&&a>=0&&a<t.length){let e=(0,c._Q)(t[a]);e&&i.l7.user("insert-emoji",()=>{(0,l.sx)("inserted_editor_emoji",{emoji:e}),r.SmY.replaceCurrentShortcodeWithEmoji(e)})}}},[e]),v=n.useCallback(()=>{t(null)},[t]);if(!b||!e||null===a)return null;let y=(0,u.Yb)(p,b);if(!(0,u.ZT)(y,p))return null;let x={top:y.y+p.y-8,bottom:y.y+p.y+y.height+8,left:y.x+p.x,right:y.x+p.x+y.width,height:y.height,width:y.width},C=S&&x.height>0&&x.bottom>p.height-S&&x.top>p.height-x.bottom?{positionFromBottom:{left:x.left,bottom:p.height+p.y-x.top},direction:f.ri.UPWARDS}:{targetRect:x,direction:f.ri.DOWNWARDS};return n.createElement("div",null,n.createElement(d.j,{dispatchTypeahead:t,typeahead:e,onInsert:T,onClear:v,width:168,...C,setMaxTypeaheadHeight:E,zIndex:h,isFigJam:g,recordingKey:"emojiTypeaheadView",emojiImageSet:a}))}},877857:(e,t,a)=>{a.d(t,{C_:()=>p,iv:()=>h,LP:()=>b,JI:()=>m,v2:()=>f});var n=a(411855),r=a(188507),i=a(846288),l=a(805014),o=a(991458),s=a(747484),c=a(73041),u=a(488527);let d=(0,o.hG)(u.Ty8);function f(){let e=(0,r.d4)(({mirror:{selectionProperties:e,sceneGraphSelection:t,appModel:a}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.SECTION&&(e.name||a.onCanvasNameEditorInfo.mode===l.nzw.SECTION_NAME)),t=(0,r.d4)(({mirror:{selectionProperties:e,sceneGraphSelection:t}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.STAMP),a=(0,r.d4)(({mirror:{selectionProperties:e}})=>e.nodeSelectedValidForQuickAdd);return"whiteboard"===(0,c.lg)()?e?40:t&&s.XN?40:a?20+d/2:l.qmM?.shouldRenderTableUiForSelection()!==l.miS.HIDE?20+d/2:16:8}function m(){return(0,r.d4)(e=>e.mirror.appModel.hyperlinkLocation)}function h(e,t,a,n){switch(n){case l.cfv.ABOVE:return a<e.y?l.cfv.ABOVE:l.cfv.BELOW;case l.cfv.BELOW:return a>e.y?l.cfv.BELOW:l.cfv.ABOVE;case l.cfv.LEFT:return t<e.x?l.cfv.LEFT:l.cfv.RIGHT;case l.cfv.RIGHT:return t>e.x?l.cfv.RIGHT:l.cfv.LEFT;default:(0,i.xb)(n)}}function b(e){let t=n.useRef({frameHandle:null,didMenuMidpointChange:!1,didSelectionChange:!1,lastMidpoint:{x:0,y:0},lastSelection:{}}),a=n.useCallback(()=>{let{current:a}=t;a.didMenuMidpointChange&&a.didSelectionChange&&e.current?.animate(),a.frameHandle||(a.frameHandle=setTimeout(()=>{a.didMenuMidpointChange=!1,a.didSelectionChange=!1,a.frameHandle=null},0))},[e]);return{markSelectionChanged:n.useCallback(e=>{Object.keys(t.current.lastSelection).length&&(t.current.didSelectionChange=!0,a()),t.current.lastSelection=e},[a]),markPositionChanged:n.useCallback(e=>{let{current:n}=t;(e.x!==n.lastMidpoint.x||e.y!==n.lastMidpoint.y)&&(n.didMenuMidpointChange=!0,a()),n.lastMidpoint=e},[a])}}let p=n.forwardRef(function({children:e},t){let a=n.useRef(null);return n.useImperativeHandle(t,()=>({animate:()=>{a.current&&(a.current.style.animation="none",a.current.offsetTop,a.current.style.animation="")}})),n.createElement("div",{ref:a,className:"inline_editor_layer--animationRoot--pX-db"},e)})},5438:(e,t,a)=>{a.d(t,{k:()=>S});var n=a(411855),r=a(188507),i=a(846288),l=a(805014),o=a(32079),s=a(875877),c=a(803098),u=a(73041),d=a(965636),f=a(695024),m=a(797187),h=a(257149),b=a(651507),p=a(877857);function S({children:e,isShown:t,centerInFrame:a,anchorToRect:i,showInReadOnly:o,respectPreferredPosition:s}){let c;let[u,h]=n.useState(!1),[b,S]=n.useState(!1),g=n.useRef(null),{markPositionChanged:T,markSelectionChanged:v}=(0,p.LP)(g),y=(0,r.d4)(({mirror:{appModel:e}})=>[l.QOV.DEFAULT,l.QOV.SELECTING_TEXT,l.QOV.CLICKING_TO_CHANGE_SELECTION].includes(e.activeUserAction)),x=(0,r.d4)(({mirror:{appModel:e}})=>e.isReadOnly),C=(0,f._X)({subscribeToUpdates_expensive:t}),k=(0,m.J2)(l.Ez5.canvasViewState().selectionBoundingRect),A=(0,m.J2)(l.Ez5.canvasViewState().inlineMenuTarget),_=i||A?.boundingBox||k,O=(0,p.JI)(),I=(0,r.d4)(e=>e.mirror.sceneGraphSelection),w=(0,d.kl)("isTableSublayerSelected"),M=(c=l.cfv.ABOVE,A?.preferredPosition?c=A.preferredPosition:w&&(c=l.cfv.BELOW),c),L=!!O||!C||!_||!y||x&&!o||!t;n.useEffect(()=>{(L||b)&&u&&h(!1)},[L,u,b]);let B=C?.offsetX||0,R=C?.offsetY||0;return(n.useEffect(()=>{h(!1)},[I,B,R]),n.useEffect(()=>{v(I)},[I,v]),L)?n.createElement(p.C_,{ref:g},null):n.createElement(E,{viewport:C,animationContainerRef:g,centerInFrame:a,boundingBox:_,preferredRelativePosition:M,setSizeChanged:S,isHovering:u,setIsHovering:h,markPositionChanged:T,respectPreferredPosition:s},e)}function E({children:e,viewport:t,animationContainerRef:a,centerInFrame:r,boundingBox:d,preferredRelativePosition:m,setSizeChanged:S,isHovering:E,setIsHovering:g,markPositionChanged:T,respectPreferredPosition:v}){let[y,x]=(0,s.useAtom)(h.f),C=y.positionRelativeToSelection,k=n.useRef(null),A=(0,u.lg)(),_=(0,p.v2)(),O=r?0:_,I=(0,c.FQ)(),w=(0,f.Yb)(t,d),M=n.useMemo(()=>({...w,x:w.x+t.x,y:w.y+t.y}),[w,t]),L=n.useCallback((e,a,n,r)=>{if(t){let i=e-t.x,o=a-t.y,s=(0,f.$$)(t,{x:i,y:o-r/window.devicePixelRatio});l.glU.figjamInlineMenuPositionUpdate(s.x,s.y,n.height)}T({x:e+n.width/2,y:a+n.height/2});let i=(0,p.iv)(M,e,a,m);C!==i&&x({type:"SET_POS_RELATIVE_TO_SELECTION",payload:i})},[t,T,M,C,x,m]),B=n.useCallback((e,t,a)=>{switch(a){case l.cfv.ABOVE:return[(0,b.Al)(e,t),r?(0,b.tJ)(e,t):(0,b.T1)(e,t,O)];case l.cfv.BELOW:return[(0,b.Al)(e,t),r?(0,b.tJ)(e,t):(0,b.DH)(e,t,O)];case l.cfv.LEFT:return[(0,b.Dl)(e,t,20),r?(0,b.tJ)(e,t):e.y];case l.cfv.RIGHT:return[(0,b.Yh)(e,20),r?(0,b.tJ)(e,t):e.y];default:(0,i.xb)(a)}},[O,r]),R=n.useCallback((e,t,a)=>{let[n,r]=B(e,t,a);return o.r.fromOriginAndSize(n,r,t.width,t.height)},[B]),N=n.useCallback((e,t,a,n,i)=>!r&&a===l.cfv.ABOVE&&n.top()>i.top()?R(e,t,l.cfv.BELOW):!r&&a===l.cfv.BELOW&&n.top()<i.top()?R(e,t,l.cfv.ABOVE):a===l.cfv.LEFT&&n.left()>i.left()?R(e,t,l.cfv.RIGHT):a===l.cfv.RIGHT&&n.left()<i.left()?R(e,t,l.cfv.LEFT):n,[R,r]),P=n.useCallback((e,a,n,r)=>{let i=o.r.fromOriginAndSize(t.x,t.y,t.width,t.height),l=R(e,a,m),s=I(l,i,r),c=N(e,a,m,s,l);return c===s||v||(s=I(c,i,r)),[s.left(),s.top()]},[m,v,t.height,t.width,t.x,t.y,I,R,N]);if(!(0,f.ZT)(w,t))return n.createElement(p.C_,{ref:a},null);let V="whiteboard"===A&&E?{transition:"transform 0.1s"}:{};return V.WebkitUserSelect="none",n.createElement(b.lM,{style:V,targetRect:M,onMouseEnter:()=>{g(!0),k.current&&clearTimeout(k.current),k.current=null},onMouseLeave:()=>{k.current=setTimeout(()=>g(!1),100)},offset:O,positionXY:P,onPosition:L,frozen:E,setSizeChanged:S},n.createElement(p.C_,{ref:a},e))}},517393:(e,t,a)=>{a.d(t,{n:()=>s});var n=a(411855),r=a(188507),i=a(289765),l=a(104292),o=a(335169);function s(){let e=function(){let e=(0,r.d4)(e=>e.mirror.appModel.onCanvasPillInfo);return(0,i.Fk)((e,t)=>t&&0!==t.length?t.map(t=>{let a=e.get(t.guid);if(!a||"-1:-1"===a.guid)return null;let n={guid:a.guid,name:a.name,type:a.type,boundingBox:a.absoluteBoundingBox,isFigmaPurple:t.isFigmaPurple,hasEnabledStaticImagePaint:a.hasEnabledStaticImagePaint,isState:a.isState,isStateGroup:a.isStateGroup,stackCounterAlignItems:a.stackCounterAlignItems,stackMode:a.stackMode,isGroup:a.isGroup,canHaveStatus:a.canHaveStatus,hasStatus:a.hasStatus,objectsPanelThumbnailId:a.objectsPanelThumbnailId};if(n.isState&&t.symbolId){let a=e.get(t.symbolId);n.symbolName=a?.name}return n}):null,e)}()?.[0];return e?n.createElement(l.MO,{node:e,offsetX:-3},n.createElement("div",{className:o.nM},n.createElement(l.Tq,{node:e}),n.createElement("span",{className:o.dK},e.symbolName?e.symbolName:e.name))):null}},447556:(e,t,a)=>{a.d(t,{e:()=>E});var n=a(411855),r=a(888624),i=a(805014),l=a(841962),o=a(875877),s=a(563192),c=a(76265),u=a(499975),d=a(73041),f=a(19776),m=a(926996),h=a(212552),b=a(142420),p=a(806565),S=a(127014);function E({activeTab:e,recordingKey:t}){let a=(0,m._6)(),{showPublish:E,showLayersPanel:g,showSitesBlocksPanel:T,showCodePanel:v,showDakotaPanel:y}=(0,S.U)(),x=(0,p.Vj)(a),C=(0,l.kc)().sts_code,k=(0,o.useAtomValue)(h.AS).enabled,A=(0,u.U9)()&&x,_=(0,d.ow)(),O=i.xae.LAYERS.toString(),I=i.xae.KITS_SITES.toString(),w=i.xae.CODE.toString(),M=i.xae.ASSETS.toString(),L=i.xae.DAKOTA.toString(),[B,,R]=r.t.useManagedTabs({[O]:!0,[I]:x&&!k,[w]:x&&C,[M]:!_,[L]:A},e.toString(),e=>{switch(parseInt(e)){case i.xae.LAYERS:g();break;case i.xae.KITS_SITES:T();break;case i.xae.CODE:v();break;case i.xae.ASSETS:E();break;case i.xae.DAKOTA:y();break;default:(t=>{throw Error("Unhandled tab behavior: "+e)})(0)}},{recordingKey:s.Pt(t,"tabs")});return n.createElement("div",{className:"ui3_tabs--tabStrip--zypFK",onContextMenu:e=>{e.preventDefault(),e.stopPropagation()},onKeyDown:e=>{e.defaultPrevented||(0,f.f7)(e)}},n.createElement(r.t.TabStrip,{manager:R},n.createElement(r.t.Tab,{...B[O]},(0,c.tx)("fullscreen.pages_panel.file_tab")),n.createElement(r.t.Tab,{...B[I],htmlAttributes:{"data-testid":"kitsSitesTab"}},(0,c.tx)("fullscreen.pages_panel.resources_tab")),n.createElement(r.t.Tab,{...B[w]},(0,c.tx)("fullscreen.pages_panel.code_tab")),n.createElement(r.t.Tab,{...B[M],onboardingKey:b.Qr},(0,c.tx)("fullscreen.pages_panel.assets_tab")),n.createElement(r.t.Tab,{...B[L]},(0,c.tx)("fullscreen.pages_panel.dakota_tab"))))}}}]);

//# debugId=c204902a-b632-514d-9558-1059b2436d59

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/ec3ca407e0e4159a03c8024d3981eeefadd14d09/2608-03eef2aa62946ce3.min.js.map
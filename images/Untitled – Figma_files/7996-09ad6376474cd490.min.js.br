"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="844840cd-885a-5be9-8232-50e0ec30c808")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7996],{129768:(e,t,l)=>{l.d(t,{LG:()=>n,RU:()=>s,XV:()=>o,Zr:()=>c,c9:()=>i,et:()=>a,jP:()=>d,yr:()=>r});let n="props_panel--addButtonContainer--a58gi",a="props_panel--panelHeaderRowFaded--r4klF draggable_list--panelHeaderRowFaded--kETRR",r="props_panel--panelTitleText--i7WqG draggable_list--panelTitleText--SwKez",i="props_panel--addButton--jAtAX draggable_list--addButton--D0q--",s="props_panel--dropdownRowWithIcon--03FtD",o="props_panel--dropdownRowWithoutIcon--F8Ra-",c="props_panel--bubbledInstancesHeading--C26v2",d="props_panel--ui3PanelHeaderRow--Ab8Jz"},238235:(e,t,l)=>{l.d(t,{S:()=>h});var n=l(411855),a=l(188507),r=l(33011),i=l(887184),s=l(336427),o=l(875877),c=l(926295),d=l(664135),u=l(183739),p=l(747765),m=l(864941);function h(){let e=(0,a.wA)(),t=n.useRef(!1),l=(0,a.d4)(e=>e.loadingState),h=(0,m.n1)(),_=(0,s.qd)(h),g=(0,o.useAtomValue)(u.fy7.Query({group:(0,d.M)()})),y=(0,p.je)();n.useEffect(()=>{if(!t.current&&!0===h&&!1===_&&"loaded"===g.status){t.current=!0;let e=new Set(y?.data?.map(e=>e.libraryKey)??[]);for(let t of g?.data?.libraryPresetSubscriptionsV2??[]){let l=(0,r.l)((0,i.oA)(t.libraryKey)??"");l&&e.has(l)&&(0,c.n)({libraryKey:l})}}},[e,h,_,l,g,y])}},829700:(e,t,l)=>{l.d(t,{jP:()=>k});var n=l(411855),a=l(188507),r=l(217950),i=l(336427),s=l(875877),o=l(550479),c=l(73041),d=l(265769),u=l(643225),p=l(176160),m=l(827473),h=l(354465),_=l(77383),g=l(747765),y=l(62257),f=l(60329),E=l(401562);let b=[],v=(0,E.D)(()=>{let e=(0,g.je)(),t=(0,s.useAtomValue)(f.TG);return n.useMemo(()=>"loaded"!==e.status?"NOT_LOADED":e.data.length?e.data.filter(e=>t.has(e.libraryKey)):b,[e,t])}),C=new Set;function k(e,t){let l=v(),s=(0,i.qd)(l),g=(0,y.U)(),f=(0,a.d4)(e=>e.loadingState),E=(0,a.d4)(e=>e.hubFiles),b=(0,a.d4)(_.e_),k=(0,a.d4)(p.tB),S=(0,u.T9)(k?.project),w=(0,c.Em)(),N=(0,m.fc)();n.useEffect(()=>{if(!g&&null!==t&&"NOT_LOADED"!==l&&w)for(let{libraryKey:e}of l){if(C.has(e))continue;let l=t?.libraryKeyToSubscribedItems?.[e];if(l&&l.length>0){C.add(e);continue}let n=null!=s&&"NOT_LOADED"!==s&&!s?.some(t=>t.libraryKey===e);if(n){let t=(0,m.Mb)(e);if(!(0,h.mn)(f,t)||!(0,h.D2)(f,t))continue}C.add(e);let a=(0,d.X)(e),i=N(e);if(a){let t=Error("No components found in UI Kit");(0,o.$D)(r.e.DESIGN_SYSTEMS_ECOSYSTEM,t,{tags:{libraryKey:e,partnerType:a,libraryWasAdded:n,subscribedItemsExist:!!l,isEditorFileSubscribedToLibrary:i,isInDrafts:S}})}}},[N,g,f,s,e,t,l,E,S,k,b,w])}},663823:(e,t,l)=>{l.d(t,{K:()=>n});let n=(0,l(411855).createContext)({showVisualLayerIcons:!1})},166382:(e,t,l)=>{l.d(t,{$:()=>G});var n=l(411855),a=l(188507),r=l(462575),i=l(499325),s=l(138225),o=l(154977),c=l(966424),d=l(805014),u=l(851169),p=l(629019),m=l.n(p),h=l(841962),_=l(563192),g=l(693565),y=l(24414),f=l(76265),E=l(105300),b=l(233950),v=l(581713),C=l(688656),k=l(817120),S=l(767158),w=l(103785),N=l(848969),T=l(891720),I=l(442133),A=(e=>(e[e.VERTICAL=0]="VERTICAL",e[e.MIDDLE_CHILD=1]="MIDDLE_CHILD",e[e.LAST_CHILD=2]="LAST_CHILD",e))(A||{});function x(e){let{lineConfiguration:t,hideLine:l,wideContainer:a}=e;return n.createElement("div",{className:a?"bubbled_props_line_styles--containerWide--csTgg bubbled_props_line_styles--container--XumJm":"bubbled_props_line_styles--container--XumJm"},!l&&n.createElement("div",{className:"bubbled_props_line_styles--lineContainer--pEgTS"},(()=>{switch(t){case 0:return n.createElement("div",{className:"bubbled_props_line_styles--vertical--pialf bubbled_props_line_styles--_line--Vhv8-"});case 1:return n.createElement(n.Fragment,null,n.createElement("div",{className:"bubbled_props_line_styles--middleChildVertical--PxRp- bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),n.createElement("div",{className:"bubbled_props_line_styles--middleChildHorizontal--ucsHZ bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}));case 2:return n.createElement(n.Fragment,null,n.createElement("div",{className:"bubbled_props_line_styles--lastChildVertical--83Los bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),n.createElement("div",{className:"bubbled_props_line_styles--lastChildHorizontal--kGsHC bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}))}})()),e.children)}let M="bubbled_instances_list--minusIcon--dY8i-",P="bubbled_instances_list--instanceIcon--aRlGl",L="bubbled_instances_list--instanceName--09LuV",R="bubbled_instances_list--instanceNameWide---L338 bubbled_instances_list--instanceName--09LuV",O="bubbled_instances_list--ui3InstanceNameAndIcon--W4S9T component_prop_def_row--ui3ComponentPanelNameAndIcon--01Z6g",D="bubbled_instances_list--ui3LineContainer--OdBbV",F="bubbled_instances_list--ui3Line--SIYpX";var B=l(968109),K=l(349307);function G(e){let{showUnbubbledPrimaryInstances:t,showNumHidden:l,wideContainer:r,scrollableContainer:i}=e,s=(0,a.d4)(S.K4),o=(0,T.R)(),[c,p]=(0,n.useState)(!1),h=(0,w.uQ)(),E=t?s:s?.filter(e=>e.isBubbled),b=e=>{u.l7.user("toggle-props-bubbled",()=>d.glU.togglePropsAreBubbled(e)),d.Ez5.canvasViewState().temporarilyHoveredNodes.set([])},v=e=>{d.Ez5.canvasViewState().temporarilyHoveredNodes.set(e)},I=()=>{d.Ez5.canvasViewState().temporarilyHoveredNodes.set([])},O=0,D=o&&!t&&!c&&null!=E&&E.length>5,F=D?E.slice(0,4):E;return D&&(O=E.length-4),n.useEffect(()=>()=>{I()},[]),n.useEffect(()=>{I()},[h]),n.createElement("div",{className:m()({"bubbled_instances_list--scrollableContainer--ob0LQ":i})},F?.map((a,i)=>{let s=a.connectedGUIDs.slice(0).sort();return n.createElement(y.S.recordableDiv,{className:"bubbled_instances_list--instanceSection--tLYN0",key:i,onMouseEnter:()=>v(a.connectedGUIDs),onMouseLeave:I,recordingKey:_.Pt(e,s[0])??""},o?t?n.createElement(z,{data:a,showNumHidden:l,onUnbubbleInstance:b,recordingKey:_.Pt(e,"checkbox",s[0]),wideContainer:r}):n.createElement(H,{data:a,onUnbubbleInstance:b,recordingKey:_.Pt(e,"unbubble",s[0]),wideContainer:r}):n.createElement(n.Fragment,null,n.createElement(x,{lineConfiguration:A.VERTICAL,hideLine:0===a.bubbledNestedInstances.length,wideContainer:r},t?n.createElement(V,{data:a,onUnbubbleInstance:b,showNumHidden:l,wideContainer:r,recordingKey:_.Pt(e,"checkbox",s[0])}):n.createElement(n.Fragment,null,n.createElement(g.B,{className:P,svg:B.A}),n.createElement("p",{className:r?R:L},a.name),n.createElement(N.K0,{className:M,svg:K.A,"data-tooltip-type":C.Ib.TEXT,"data-tooltip":f.t("design_systems.component_properties.unbubble_instance"),onClick:()=>{b(a.connectedGUIDs[0])},recordingKey:_.Pt(e,"unbubble",s[0])}))),a.bubbledNestedInstances.map((e,t)=>n.createElement("div",{key:t},n.createElement(x,{lineConfiguration:t===a.bubbledNestedInstances.length-1?A.LAST_CHILD:A.MIDDLE_CHILD,wideContainer:r},n.createElement("div",{className:r?R:L},e.name))))))}),o&&!c&&O>0&&n.createElement(k.t8,{label:(0,f.t)("design_systems.component_properties.show_more_nested_instances_rows",{count:O}),onClick:()=>p(!0)}))}function V({data:e,onUnbubbleInstance:t,showNumHidden:l,wideContainer:a,recordingKey:s}){return n.createElement("div",{className:a?"bubbled_instances_list--checkboxContainerWide--Kdd3u bubbled_instances_list--checkboxContainer--qm3X7":"bubbled_instances_list--checkboxContainer--qm3X7"},(0,h.kc)().ds_fpl_properties_panel?n.createElement(r.S,{checked:e.isBubbled,onChange:()=>{e.connectedGUIDs[0]&&t(e.connectedGUIDs[0])},recordingKey:s,label:n.createElement(i.J,null,n.createElement(b.E,{truncate:"line-clamp",lineClamp:2},e.name))}):n.createElement(E.S,{label:e.name,checked:e.isBubbled,onChange:()=>{t(e.connectedGUIDs[0])},truncateLabel:{truncate:"line-clamp",lineClamp:2},recordingKey:s}),l&&!!e.numHidden&&n.createElement("div",{className:"bubbled_instances_list--numHidden--fW-Sr"},(0,f.tx)("design_systems.component_properties.num_hidden",{num:e.numHidden})))}function H({data:e,onUnbubbleInstance:t,recordingKey:l,wideContainer:a}){let{bubbledNestedInstances:r}=e,i=n.createElement(I.DE,{label:null,input:n.createElement("div",{className:O},n.createElement("div",{className:P},n.createElement(o.y,null)),n.createElement("p",{className:L},e.name)),icon:n.createElement("div",{className:M},n.createElement(s.K,{"aria-label":(0,f.t)("design_systems.component_properties.unbubble_instance"),onClick:()=>{t(e.connectedGUIDs[0])},recordingKey:l,htmlAttributes:{"data-tooltip":(0,f.t)("design_systems.component_properties.unbubble_instance"),"data-tooltip-type":C.Ib.TEXT,onMouseDown:v.dG}},n.createElement(c.f,null)))});return 0===r.length?i:n.createElement(U,{data:e,row:i,wideContainer:a})}function U({data:e,row:t,wideContainer:l}){return n.createElement(k.R$,{row:t,isCollapsedByDefault:!0},e.bubbledNestedInstances.map((e,t)=>n.createElement("div",{key:t},n.createElement(I.DE,{label:null,input:n.createElement("div",{className:O},n.createElement("div",{className:D},n.createElement("div",{className:F})),n.createElement("div",{className:l?R:L},e.name)),icon:null}))))}function z({data:e,onUnbubbleInstance:t,recordingKey:l,showNumHidden:a,wideContainer:r}){return n.createElement(n.Fragment,null,n.createElement(I.Ad,{label:null,input:n.createElement(V,{data:e,onUnbubbleInstance:t,showNumHidden:a,wideContainer:r,recordingKey:l})}),e.bubbledNestedInstances.map((e,t)=>n.createElement("div",{key:t},n.createElement(I.Ad,{label:null,input:n.createElement("div",{className:"bubbled_instances_list--ui3CheckboxViewNestedInstance--YgTEc"},n.createElement("div",{className:D},n.createElement("div",{className:F})),n.createElement("div",{className:r?R:L},e.name))}))))}},757982:(e,t,l)=>{l.d(t,{Z:()=>u});var n=l(411855),a=l(188507),r=l(612724),i=l(76265),s=l(225371),o=l(198136),c=l(991944),d=l(166382);function u(){let e="bubbledPropsPicker",t=(0,a.d4)(e=>e.pickerShown),l=(0,a.wA)(),u=new r.Mi(t?.initialX,t?.initialY);return t?.id!==o.Dd?null:n.createElement(c.vx,{title:(0,i.t)("design_systems.component_properties.expose_nested_instances"),initialPosition:u,initialWidth:o.wh,headerSize:"small",onClose:()=>{l(s.XE())},recordingKey:e},n.createElement("div",{className:"bubbled_props_picker--container--I6VX-"},n.createElement(d.$,{showUnbubbledPrimaryInstances:!0,showNumHidden:!0,wideContainer:!0,scrollableContainer:!0,recordingKey:e})))}},612605:(e,t,l)=>{l.d(t,{BS:()=>q,PQ:()=>Q,Ws:()=>J});var n=l(411855),a=l(188507),r=l(28819),i=l(351760),s=l(414959),o=l(662068),c=l(747579),d=l(805014),u=l(851169),p=l(629019),m=l.n(p),h=l(841962),_=l(563192),g=l(771952),y=l(918091),f=l(132939),E=l(76265),b=l(47795),v=l(225371),C=l(736041),k=l(496740),S=l(366172),w=l(848540),N=l(77383),T=l(688656),I=l(143364),A=l(153332),x=l(929717),M=l(136051),P=l(659782),L=l(119856),R=l(76237),O=l(650832),D=l(442133),F=l(776297),B=l(166382),K=l(757982),G=l(198136),V=l(981161),H=l(817120),U=l(767158),z=l(663582),W=l(904510),j=l(835748),$=l(129768),Y=l(633779),X=l(100562),Z=l(501191);function q({recordingKey:e}){let t=(0,a.wA)(),{version:l}=(0,c.DP)(),r="ui3"===l,o=(0,a.d4)(O.i$),p=(0,a.d4)(W.od),m=!(0,a.d4)(z.Jp),T=(0,a.d4)(e=>!!e.dropdownShown&&e.dropdownShown.type===G.C4),F=(0,a.d4)(e=>!!e.modalShown&&e.modalShown.type===V.n.type),{componentDescription:j}=(0,M.z6)(),Z=(0,a.d4)(e=>e.pickerShown),q=T||F||Z?.id===G.Dd,ee=!!(0,a.d4)(U.Z3).length,et=(0,a.d4)(U.K4),el=!!et?.length,en=(0,a.d4)(N.Dr),ea=(0,a.d4)(N.Ct),{allowLibraryPublish:er}=(0,n.useContext)(w.s),{submit:ei,apply:es}=(0,k.wP)(),eo=n.useRef(null),ec=n.useRef(null),ed=n.useCallback(e=>{Z&&t(v.XE()),T?t(b.oB()):t(b.j7({type:G.C4}))},[t,Z,T]),eu=n.useCallback(e=>{(0,G.Pp)(p,!1,e,G.Fv.ICON);let l=ec.current,n=l?(0,I.cn)(l,G.wh):{};t(C.to({type:V.n,data:{propType:e,initialX:n?.x??0,initialY:n?.y??0}}))},[t,p]),ep=n.useCallback(()=>{p&&(p.isLooseComponent?S.Y5.triggerActionInUserEditScope("create-state-group"):eu(d.J0O.VARIANT))},[eu,p]),em=n.useCallback(()=>{let e=ec.current,l=e?(0,I.cn)(e,G.wh):{};t(v.u1({id:G.Dd,initialX:l?.x,initialY:l?.y}))},[t]),eh=n.useCallback(async()=>{if(!p)return;let e=(await ei({components:[p],clientLifecycleId:(0,g.g)()}))[0];e&&u.l7.user("apply-suggested-props",()=>{es(e)})},[ei,es,p]),e_=p?.isCodeComponent,eg=(0,h.kc)().ds_variable_props_unified_ui?[...(0,h.kc)().ds_variable_props_number_type?[d.J0O.NUMBER]:[],d.J0O.TEXT,d.J0O.BOOL,...e_?[]:[d.J0O.INSTANCE_SWAP]]:[d.J0O.BOOL,...e_?[]:[d.J0O.INSTANCE_SWAP],d.J0O.TEXT,...(0,h.kc)().ds_variable_props_number_type?[d.J0O.NUMBER]:[]];return p?n.createElement(R.Zk,{ref:ec},n.createElement(M.QQ,null),r&&!m?n.createElement(P.n,{description:j}):null,n.createElement(r?Q:J,{isPanelEmpty:m,isAddPropButtonSelected:q,hasBubbledInstances:ee,stateGroupSelectionMode:o,selectAddPropOptionRef:eo,toggleAddPropDropdown:ed,recordingKey:e}),T&&eo.current&&n.createElement(x.Cf,{targetRect:eo.current.getBoundingClientRect(),propagateCloseClick:!0},n.createElement(y.c$,{disabled:!0,className:$.XV},(0,E.tx)("design_systems.component_properties.create_new_property")),!e_&&n.createElement(y.c$,{className:$.RU,onClick:ep,recordingKey:_.Pt("openCreatePropModal",(0,G.xb)(d.J0O.VARIANT))},n.createElement(A.Nu,null,n.createElement(f.U,{svg:X.A},n.createElement(i.m,null))),(0,E.tx)("design_systems.component_properties.across_variants")),eg.map(e=>n.createElement(y.c$,{key:e,className:$.RU,onClick:()=>eu(e),recordingKey:_.Pt("openCreatePropModal",(0,G.xb)(e))},n.createElement(A.Nu,null,n.createElement(f.U,{svg:(0,G.qe)(e)},(0,G.zn)(e,!0))),(0,G.xb)(e))),el&&n.createElement(n.Fragment,null,n.createElement(y.wv,null),n.createElement(y.c$,{disabled:!0,className:$.XV},(0,E.tx)("design_systems.component_properties.expose_nested_instances")),n.createElement(y.c$,{className:$.RU,onClick:em,recordingKey:"openBubbledPropPicker"},n.createElement(A.Nu,null,n.createElement(f.U,{svg:Y.A},n.createElement(s.M,null))),(0,E.t)("design_systems.component_properties.choose_instances"))),(0,h.kc)().first_draft_suggest_props&&n.createElement(n.Fragment,null,n.createElement(y.wv,null),n.createElement(y.c$,{className:$.RU,onClick:eh,recordingKey:"suggestProps"},n.createElement(A.Nu,null,n.createElement(f.U,{svg:Y.A},n.createElement(s.M,null))),(0,E.t)("first_draft.suggest_properties")))),Z?.id===G.Dd&&n.createElement(K.Z,null),n.createElement(H.e6,{containerWidth:r?G.O2.RESIZABLE_SIDEBAR:G.O2.REGULAR,propDimension:G.OE.DEFINITION,guids:[p.guid],recordingKey:e,enableHidingOverflowRowsInUI3:!1,entrypointForInstanceSwapPicker:null}),ee&&n.createElement(n.Fragment,null,n.createElement("p",{className:$.Zr},(0,E.t)("design_systems.component_properties.bubbled_instances")),n.createElement(B.$,{recordingKey:e})),r&&en&&ea&&er?n.createElement(D.Ad,{label:null,input:n.createElement(L.U,null)}):null):null}function J({isPanelEmpty:e,isAddPropButtonSelected:t,hasBubbledInstances:l,stateGroupSelectionMode:a,selectAddPropOptionRef:r,toggleAddPropDropdown:i}){return n.createElement(R.fI,{className:!e||t||l?void 0:$.et},n.createElement(R.xw,{className:$.yr},(0,E.tx)("design_systems.component_properties.properties")),a!==d.iCO.STATE&&n.createElement("div",{ref:r,className:$.LG},n.createElement(R.YW,{className:$.c9,onClick:i,selected:t,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,E.t)("design_systems.component_panel.create_component_property"),svg:Z.A,recordingKey:"openCreatePropModalDropdown"})))}function Q({isPanelEmpty:e,isAddPropButtonSelected:t,hasBubbledInstances:l,stateGroupSelectionMode:a,selectAddPropOptionRef:i,toggleAddPropDropdown:s}){let c=n.useRef(null),u=e&&!l?(0,E.tx)("design_systems.component_properties.add_property"):(0,E.tx)("design_systems.component_properties.properties"),p=_.rf("openCreatePropModalDropdown","click",s),g=_.rf("openCreatePropModalDropdown","mousedown",e=>e?.stopPropagation());return n.createElement(F.pG,{onClick:p,onMouseDown:g,ref:c,input:u,label:null,appendedClassName:m()($.jP,{[j.yf]:!t}),icon:a!==d.iCO.STATE?n.createElement("div",{ref:i,className:m()($.LG)},(0,h.kc)().ds_fpl_properties_panel?n.createElement(r.d,{"aria-expanded":t,htmlAttributes:{"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,E.t)("design_systems.component_panel.create_component_property")},"aria-label":(0,E.t)("design_systems.component_panel.create_component_property")},n.createElement(o.e,null)):n.createElement(R.YW,{className:$.c9,selected:t,"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,E.t)("design_systems.component_panel.create_component_property")},n.createElement(o.e,null))):void 0})}},285366:(e,t,l)=>{l.d(t,{Ay:()=>T,BZ:()=>S,m4:()=>w});var n=l(411855),a=l(188507),r=l(841962),i=l(875877),s=l(76265),o=l(278695),c=l(343373),d=l(343414),u=l(596608),p=l(955597),m=l(780017),h=l(212507),_=l(427494),g=l(15092),y=l(254903),f=l(289765),E=l(135891),b=l(415150),v=l(781976),C=l(946062),k=l(759240);let S="ui3-layers-horizontal-scroll-onboarding-key",w="ui2-layers-horizontal-scroll-onboarding-key",N=(0,m.r1)("seen_ui3_layers_horizontal_scroll_overlay");function T(){let e=(0,c.GS)(),t=(0,a.wA)(),l=(0,_.aV)(),m=(0,g.iZ)(),T=(0,i.useAtomValue)(p.Fy),I=(0,a.d4)(e=>e.mirror.appModel.currentPage),A=(0,f.Fk)((e,t)=>!(0,h.zC)(e,t),I),x=(0,i.useAtomValue)(N),{show:M,isShowing:P,complete:L,uniqueId:R}=(0,u.e)({overlay:k.vlG,priority:E.N.SECONDARY_MODAL},[T,x]);n.useEffect(()=>{M({canShow:(e,t)=>e&&!l&&A&&!t})},[M,l,A,T]);let O=e?{title:(0,s.tx)("ui3_layers_horizontal_scroll_overlay.ui3_title"),description:(0,s.tx)("ui3_layers_horizontal_scroll_overlay.ui3_description"),primaryCta:{label:(0,s.tx)("general.got_it"),ctaTrackingDescriptor:o.c.GOT_IT,type:"button",onClick:L},targetKey:S}:{title:(0,s.tx)("ui3_layers_horizontal_scroll_overlay.ui2_title"),description:(0,s.tx)("ui3_layers_horizontal_scroll_overlay.ui2_description"),primaryCta:{label:(0,s.tx)("ui3_layers_horizontal_scroll_overlay.try_it_in_ui3"),ctaTrackingDescriptor:o.c.TRY_IT_IN_UI3,type:"button",onClick:function(){e||(y.nt.ui3.toggleValue(m,t,"horizontal_scroll_overlay"),L())}},targetKey:w};return(0,d.E)(R,["layers_horizontal_scroll","labs"],e=>{let t="layers_horizontal_scroll"===e.id,l="labs"===e.id&&e.properties?.name==="unified_index_v3_endpoint";P&&(t||l)&&L()}),n.createElement(v.rq,{...O,isShowing:P,trackingContextName:"UI3 Layers Horizontal Scroll Overlay",onClose:L,disableHighlight:!0,arrowPosition:C.F_.RIGHT_TITLE,media:n.createElement(b.w,{src:(0,r.ck)("86193716c443398bbd6b55d19b65db2eaf0fe3c1"),aspectRatio:16/9})})}},639344:(e,t,l)=>{l.d(t,{j:()=>i});var n=l(424281),a=l(759240);let r=(0,n.Op)({initial:"ready_to_show",states:[{id:"ready_to_show",transitions:[(0,n.nr)("curator_content_shown","no_figma_basics_onboarding_was_shown_in_current_session",{condition:({event:e})=>e.properties.shown===a.WD4.id})]},{id:"no_figma_basics_onboarding_was_shown_in_current_session",terminal:!0}]}),i=(0,n.rn)("track_no_figma_basics_onboarding_shown",r)},62387:(e,t,l)=>{l.d(t,{T:()=>v,g:()=>b});var n=l(411855),a=l(188507),r=l(76265),i=l(86994),s=l(241162),o=l(278695),c=l(343414),d=l(596608),u=l(176160),p=l(15092),m=l(303480),h=l(135891),_=l(781976),g=l(979530),y=l(991944),f=l(759240),E=l(512870);let b={[E.a5]:!1,[E.fc]:!1,[E.bo]:!1};function v(){let e=(0,u.MY)(),t=(0,u.q5)(),l=(0,a.wA)(),v=(0,p.iZ)(),{show:C,isShowing:k,complete:S,uniqueId:w}=(0,d.e)({overlay:f.TrJ,priority:h.N.SECONDARY_MODAL},[e]),N=(0,i.te)(),T=!!(0,m.f)(E.fc),I=t?.canEdit,{currentView:A,visualAssetsType:x}=(0,g.wV)();return(0,c.E)(w,["Reset Visual Assets Tooltips",E.io],()=>{v&&t&&l(s.b(b))}),(0,n.useEffect)(()=>{I&&N()&&!T&&x&&A===g.S5.VisualAssets&&C(),k&&A!==g.S5.VisualAssets&&S()},[C,S,k,I,N,T,x,A]),n.createElement(_.rq,{isShowing:k,title:(0,r.tx)("rcs.visual_assets.drag_visual_assets_title"),description:(0,r.tx)("rcs.visual_assets.drag_visual_assets_description"),primaryCta:{label:(0,r.tx)("onboarding_pointers.got_it"),type:"button",onClick:S,ctaTrackingDescriptor:o.c.GOT_IT},trackingContextName:"Visual Assets Search Tooltip",userFlagOnShow:E.fc,targetKey:E.ko,arrowPosition:y.F_.LEFT_TITLE,onClose:S,pointToLeftEdge:!0,disableHighlight:!0,clickOutsideToHide:!0})}},515217:(e,t,l)=>{l.d(t,{$i:()=>L});var n=l(411855),a=l(805014),r=l(245954),i=l(395096),s=l(841962),o=l(653798),c=l(771952),d=l(568116),u=l(176160),p=l(747765),m=l(567095),h=l(295221),_=l(103785),g=l(443552),y=l(186553),f=l(920432),E=l(885123),b=l(77383),v=l(930263),C=(e=>(e.BLACK_BLANK="40002168:784",e.BLACK_WHERE_TO="40000039:913",e.BROWN_REVISE_PROMPT="40000039:918",e.BROWN_TAB_TOGGLER="40000039:921",e))(C||{}),k=(e=>(e.MOBILE_DAY_PICKER="474:4773",e.MOBILE_PILL_TIME="474:4831",e.MOBILE_FLIGHT_CARD="469:2787",e.MOBILE_NOTIFICATION="475:6605",e.MOBILE_NOTIFICATION_BOOKS="2440:5914",e.MOBILE_TAB_TOGGLER="380:4294",e.MOBILE_ROME="213:2453",e.MOBILE_HILO="527:7273",e.MOBILE_DAY_VIEW="474:5088",e.MOBILE_SEARCH_INPUT_BLACK="449:9470",e.MOBILE_SEARCH_INPUT_GREEN="281:604",e.MOBILE_MEMORY_TILE_PURPLE="475:6981",e.MOBILE_LABEL_BLACK="475:6504",e.MOBILE_LABEL_GRAY="475:6503",e.MOBILE_BOTTOM_NAV_WHITE="452:10133",e))(k||{});let S=["449:9470","474:4773","474:4831","469:2787","475:6605","2440:5914"],w={"40002168:784":["449:9470","380:4294","527:7273","469:2787"],"40000039:913":["380:4294","527:7273","469:2787","474:5088","475:6504"],"40000039:918":["281:604","213:2453","475:6981","475:6503"],"40000039:921":["452:10133","213:2453","469:2787"]};async function N(e){let t=E.D.getState(),l=(0,b.MH)(t);if(!l)return[];let n=w[e]||S,a=[];return(n.forEach(e=>{let t=l[e];t&&v.we.includes(t.type)&&a.push({...t,suggestionSource:v.Ou.RECENTS})}),a.length>0)?(await new Promise(e=>setTimeout(e,1e3)),a):[]}let T={loadTimeMs:2e3,numSuggestions:4},I="mockAutoSuggestConfig";function A(){return(0,s.b5)()&&(0,s.kc)().anticipation_mock}async function x(){if(!A())return{suggestions:[]};let e=window.mockAutoSuggestConfig?.get();if(!e)return{suggestions:[]};let t=E.D.getState(),l=[...Object.values(t.library.publishedByLibraryKey.components).map(e=>Object.values(e).map(e=>Object.values(e))).flat(2),...Object.values(t.library.publishedByLibraryKey.stateGroups).map(e=>Object.values(e).map(e=>Object.values(e))).flat(2)].sort(()=>Math.random()-.5).slice(0,e.numSuggestions).map(e=>({...e,suggestionSource:v.Ou.RECENTS}));return await new Promise(t=>{setTimeout(()=>{t({suggestions:l})},e.loadTimeMs)})}A()?window.mockAutoSuggestConfig={get(){if(!A())return;let e=localStorage.getItem(I);return e?{...T,...JSON.parse(e)}:T},set(e){if(!A())return;let t={...this.get(),...e};localStorage.setItem(I,JSON.stringify(t))},reset(){A()&&localStorage.setItem(I,JSON.stringify(T))}}:localStorage.removeItem(I);var M=l(735017),P=l(451843);function L(e=!1){let t=!!(0,s.kc)().anticipation_trigger,l=function(e){(0,s.Ay)().anticipation_config||((0,s.Ay)().anticipation_config=v.PV);let t=(0,s.Ay)().anticipation_config.dominantFrameConfig;return R({targetNodeGuid:function({selectedNode:e,config:t,disabled:l}){let a=!(0,s.kc)().anticipation&&!(0,s.kc)().anticipation_uxr||!(0,s.kc)().anticipation_trigger,[r,i]=n.useState(void 0),{debouncedViewportInfo:o,viewportIsStable:c}=(0,M.pJ)(a),d=!!e&&v.b4.includes(e.type)&&(0,M.Mw)(e,o,.4),u=(0,M.pW)(o,l||a||d,t);return n.useEffect(()=>{if(c&&!a){if(d){i(e.findContainingFragmentOrSelf());return}i(u)}},[u,d,e,a,c]),r}({selectedNode:(0,_.Vr)(),config:t,disabled:e}),disabled:e})}(!e&&!t),a=function(e){let[t,l]=n.useState(!1),a=(0,_.Vr)(),[r]=(0,i.A)(a,500,{equalityFn:(e,t)=>e?.guid===t?.guid});return n.useEffect(()=>{let e=()=>l(!0),t=()=>l(!1);return window.addEventListener("mousedown",e),window.addEventListener("mouseup",t),()=>{window.removeEventListener("mousedown",e),window.removeEventListener("mouseup",t)}},[]),{...R({targetNodeGuid:r?.guid,disabled:e||t})}}(!e&&t);return e?{suggestions:[],analyticsData:f.YQ,isLoading:!1,isInitialized:!1,suggestionsNodeGuid:void 0,debugString:""}:t?l:a}function R({targetNodeGuid:e,disabled:t}){let[l,i]=n.useState([]),[_,g]=n.useState(!1),E=function(){let{isLoaded:e}=(0,h.y)();return{isLoaded:e,assets:(0,d.g5)(m.$A.Design).productComponents.map(e=>({...e,suggestionSource:v.Ou.RECENTS}))}}();n.useEffect(()=>{!_&&E.isLoaded&&(g(!0),0===l.length&&i(E.assets))},[E,_,l.length]);let[b,C]=n.useState(""),[k,S]=n.useState(f.YQ),[w,N]=n.useState(!1),[T,I]=n.useState(void 0),A=(0,u.tS)(),x=(0,p.He)();return n.useEffect(()=>{if(t||!(0,s.kc)().anticipation&&!(0,s.kc)().anticipation_uxr||!a.glU)return;let l=(0,r.UN)(),n=e?l.get(e):void 0,d=new AbortController;if(n&&A){if(n&&v.b4.includes(n.type)){N(!0),i([]),I(n.guid),C("");let e={fileKey:A,sessionId:(0,c.g)(),selectionId:n?.guid};S(e);let t=(0,P.k1)(),l=new f.O({analyticsData:e,config:t}),{signal:r}=d,s=new y.I(a.otU.COMPONENTS,d);O({targetNode:n,openFileKey:A,signal:r,subscribedLibraryKeys:x,autoSuggestSession:s,logger:l,config:t}).then(({suggestions:e})=>{r.aborted||i(e)}).catch(e=>{if((0,o.x1)("auto_suggest","Error fetching suggestions",{error:e}),"AbortError"===e.name)return}).finally(()=>{r.aborted||(N(!1),C(`${n.name} ${n.guid}`));try{s.destroy()}catch(e){}})}else n&&(N(!1),i([]),I(n.guid),C(""))}else i([]),C(""),N(!1),I(void 0),S(f.YQ);return()=>{d&&d.abort()}},[e,t,A,x]),{suggestions:l,isLoading:w,analyticsData:k,suggestionsNodeGuid:T,debugString:b,isInitialized:_}}async function O(e){return(0,s.kc)().anticipation_mock?await x():(0,s.kc)().anticipation_uxr?{suggestions:await N(e.targetNode.guid)}:await (0,g.A)(e)}},192309:(e,t,l)=>{l.d(t,{L:()=>d});var n=l(411855),a=l(188507),r=l(805014),i=l(343373),s=l(963993),o=l(797187),c=l(537832);let d=n.memo(function(){let e=(0,o.ut)((0,s.aY)(),r.FAf.DESIGN),t=(0,a.d4)(e=>e.mirror.appModel.topLevelMode),l=!(0,i.GS)()&&(t!==r.lyf.PREVIEW&&e!==r.FAf.COMMENT||t===r.lyf.PREVIEW);return n.createElement(c.B,{stackHeader:l,hideResolve:!1})})},943984:(e,t,l)=>{l.d(t,{o:()=>eD});var n=l(411855),a=l(805014),r=l(499875),i=l(499975),s=l(972640),o=l(15721),c=l(343373),d=l(440475),u=l(509343),p=l(806273),m=l(681483),h=l(427494),_=l(15092),g=l(797187),y=l(511445),f=l(875877),E=l(140835),b=l(663844),v=l(265851),C=l(188507),k=l(629019),S=l.n(k),w=l(277154),N=l(952979),T=l(841962),I=l(467014),A=l(279236),x=l(76265),M=l(176160),P=l(313449),L=l(914077),R=l(372232);function O(){let e=(0,C.wA)(),t=(0,_.iZ)(),{isEditingFile:l,unsortedTeams:a}=(0,R.DF)(),r=(0,M.q5)(),i=(0,L.sL)(r?.editorType),s=n.createRef();return n.createElement(n.Fragment,null,n.createElement("button",{className:S()(v.s.flex.justifyCenter.itemsCenter.absolute.bottom0.left0.wFull.h40.colorBg.font11.fpl__textBodyMediumStrongFontWeight.cursorPointer.$,v.s.b1.colorBorder.bb0.br0.bl0.$,"first_level_resource_contact_support--contactSupportButton--Ioy3K"),onClick:()=>{if((0,w.sx)("help_widget_get_help",{isEditingFile:l,editorType:i,source:"in-product-help-panel-button"}),(0,T.sL)()){(0,N.FJ)("mailto:support-figgov@figma.com","_blank","noopener");return}let e=0===a.filter(P.w5).length;s.current?.open({ticketForms:e?I.Fb.FREE:I.Fb.PAID,locale:t?.locale})}},(0,x.t)("help_widget.menu.contact_support")),n.createElement(A.F,{ref:s,dispatch:e,userName:t?.name||null,userEmail:t?.email||null}))}var D=l(138225),F=l(22562),B=l(370212);function K(){let{hideInProductHelpView:e}=(0,B.A5)();return n.createElement("div",{className:v.s.flex.flexRow.justifyBetween.itemsCenter.$},n.createElement("p",{className:v.s.font16.colorText.fpl__textHeadingLargeFontWeight.$},(0,x.t)("in_product_help_and_learning.first_level_header.title")),n.createElement(D.K,{onClick:()=>{e()},"aria-label":(0,x.t)("general.close")},n.createElement(F.A,null)))}var G=l(520244),V=l(750570),H=l(14489);function U(){let e=(0,E.j6)(),t=(0,_.Pc)().locale,[l,a]=n.useState(""),[r,i]=n.useState(!1),s=n.createRef(),o=n.createRef(),c=()=>{e.trackEvent("CTA Clicked",{text:"Help Center Search",searchQuery:l});let n=(0,V.lF)({query:l});(0,N.FJ)(`https://help.figma.com/hc/${(0,B.FI)(t)}/search?${n}`,"_blank","noopener")};return n.useEffect(()=>{if(o.current&&s.current){let e=s.current.offsetWidth;o.current.style.setProperty("--in-product-help-and-learning-search-bar-max-width",`calc(100% - 32px - ${e}px - 8px)`)}},[o,s]),n.createElement("form",{onSubmit:e=>{e.preventDefault(),c()},className:"first_level_resource_search_bar--searchBar--BexQF",ref:o},n.createElement(H.IW,{focusOnMount:!0,isFocused:r,hasTransparentBackground:!0,hideXIcon:!0,onFocus:()=>i(!0),onBlur:()=>i(!1),query:l,clearSearch:()=>a(""),onChange:a,iconClassName:v.s.colorIconSecondary.$,className:S()(v.s.h32.wFull.colorBgSecondary.bRadius8.$,{"first_level_resource_search_bar--isFocused--1E4mp":r})}),l.length>0&&n.createElement("div",{className:"first_level_resource_search_bar--searchButtonContainer--BADgp"},n.createElement(G.$n,{variant:"primary",type:"submit",ref:s},(0,x.tx)("in_product_help_and_learning.search"))))}var z=l(693565),W=l(773991);function j({sectionName:e,sectionOptions:t}){return n.createElement("div",{className:v.s.flex.flexColumn.gap10.font11.fpl__textBodyMediumStrongFontWeight.mt8.$},n.createElement("p",{className:v.s.mb2.$},e),t)}var $=l(696849);let Y=()=>[{label:(0,x.t)("help_widget.menu.help_center"),href:"https://help.figma.com/"},{label:(0,x.t)("help_widget.menu.support_forum"),href:"https://forum.figma.com/"},{label:(0,x.t)("help_widget.menu.release_notes"),href:"https://releases.figma.com/"},{label:(0,x.t)("help_widget.menu.legal_summary"),href:"/legal"},{label:(0,x.t)("help_widget.menu.submit_feedback"),href:"https://forum.figma.com/submit-feedback"},{label:(0,x.t)("help_widget.menu.ask_the_community"),href:"https://forum.figma.com/ask-community"},{label:(0,x.t)("help_widget.menu.navigating_figmas_redesign"),href:"https://help.figma.com/hc/en-us/articles/23954856027159-Navigating-Figma-s-redesign"}],X=n.memo(function(){let e=Y().map(e=>n.createElement("span",{key:e.label,className:v.s.flex.gap8.colorTextBrand.cursorPointer.$},n.createElement(W.$z,{variant:"link",onClick:()=>{(0,N.FJ)(e.href,"_blank","noopener")},iconPrefix:n.createElement(z.B,{svg:$.A,width:"16px",className:v.s.colorIconBrand.mr8.$})},e.label))),t=(0,x.t)("in_product_help_and_learning.more_help_resources.section_title");return n.createElement(j,{sectionName:t,sectionOptions:e})});var Z=l(826943),q=l(910164),J=(e=>(e[e.NEW_TO_FIGMA=0]="NEW_TO_FIGMA",e[e.EXPLORE_FEATURES=1]="EXPLORE_FEATURES",e[e.CREATE_COMPONENTS=2]="CREATE_COMPONENTS",e[e.DESIGN_FIRST_BUTTON=3]="DESIGN_FIRST_BUTTON",e[e.VIDEO_TUTORIALS=4]="VIDEO_TUTORIALS",e))(J||{});function Q(e){switch(e){case 0:return[{displayString:(0,x.t)("in_product_help_and_learning.article.get_started_with_layers"),articleId:0x182dc2b40797},{displayString:(0,x.t)("in_product_help_and_learning.article.explore_layer_types"),articleId:0x183601f04d17},{displayString:(0,x.t)("in_product_help_and_learning.article.combine_layers"),articleId:0x1833cfa8cf97},{displayString:(0,x.t)("in_product_help_and_learning.article.create_and_edit_text"),articleId:0x53d40dbffa},{displayString:(0,x.t)("in_product_help_and_learning.article.browse_and_apply_fonts"),articleId:0x53d4225f82},{displayString:(0,x.t)("in_product_help_and_learning.article.apply_paints_with_the_color_picker"),articleId:0x53d41dbafe},{displayString:(0,x.t)("in_product_help_and_learning.article.add_images_and_videos_to_design_file"),articleId:0x53d40ed782},{displayString:(0,x.t)("in_product_help_and_learning.article.export_from_figma_design"),articleId:0x53d40ed7d2}];case 1:return[{displayString:(0,x.t)("in_product_help_and_learning.article.frames_in_figma_design"),articleId:0x53d425e791},{displayString:(0,x.t)("in_product_help_and_learning.article.add_auto_layout_to_a_design"),articleId:0x53677016397},{displayString:(0,x.t)("in_product_help_and_learning.article.explore_auto_layout_properties"),articleId:0x53d4154d2d},{displayString:(0,x.t)("in_product_help_and_learning.article.create_color_text_effect_and_layout_grid_styles"),articleId:0x53d3fb49a6},{displayString:(0,x.t)("in_product_help_and_learning.article.create_interactions"),articleId:0x53d4133b7d},{displayString:(0,x.t)("in_product_help_and_learning.article.prototype_triggers"),articleId:0x53d40ef5fa},{displayString:(0,x.t)("in_product_help_and_learning.article.prototype_actions"),articleId:0x53d40ef622},{displayString:(0,x.t)("in_product_help_and_learning.article.prototype_animations"),articleId:0x53d4166285},{displayString:(0,x.t)("in_product_help_and_learning.article.parent_child_and_sibling_relationships"),articleId:0x53d40dc9e6}];case 2:return[{displayString:(0,x.t)("in_product_help_and_learning.article.create_components_to_resuse_in_designs"),articleId:0x53d3fa03f2},{displayString:(0,x.t)("in_product_help_and_learning.article.create_and_insert_component_instances"),articleId:0x53d401725d},{displayString:(0,x.t)("in_product_help_and_learning.article.create_and_use_variants"),articleId:0x53d5094712},{displayString:(0,x.t)("in_product_help_and_learning.article.create_interactive_components_with_variants"),articleId:0x53d5518626},{displayString:(0,x.t)("in_product_help_and_learning.article.explore_component_properties"),articleId:0x513129d7517}];default:return[]}}function ee({resource:e}){let t=(0,E.j6)(),l=(0,B.Yj)(),a=(0,f.useSetAtom)(B.J9),r=(0,f.useSetAtom)(B.Zf),i=(0,f.useSetAtom)(B.QU);return n.createElement("button",{key:e.title,className:v.s.cursorPointer.$,style:q.sx.radiusMedium.b1.colorBorder.flex.flexRow.wFull.add({height:"74px",overflow:"hidden"}).$,onClick:async()=>{if(t.trackEvent("CTA Clicked",{text:e.title}),e.resource===J.DESIGN_FIRST_BUTTON){let t=await l(0xcce00915a97);t&&(a(2),r(e),i(t))}else e.resource===J.VIDEO_TUTORIALS?(0,N.FJ)("https://www.youtube.com/playlist?list=PLXDU_eVOJTx4iS4wLdfAcM1msnqZmVwC5","_blank","noopener"):(a(2),r(e))}},n.createElement(Z.oW,{src:e.image,alt:"",style:q.sx.m0.add({width:"108px",height:"74px",borderRadius:"var(--radius-medium) 0 0 var(--radius-medium)"}).$}),n.createElement("div",{className:v.s.flex.flexColumn.gap2.m12.wFull.font11.ellipsis.alignLeft.$},n.createElement("p",{className:v.s.colorText.fpl__textBodyMediumStrongFontWeight.$},e.title),n.createElement("p",{className:v.s.colorTextSecondary.$},e.description)))}function et(){let e=[{resource:0,title:(0,x.t)("in_product_help_and_learning.popular_resources.new_to_figma.title"),description:(0,x.t)("in_product_help_and_learning.popular_resources.new_to_figma.description"),image:(0,T.ck)("a657c232671f190106d0943282bf1a970f036718")},{resource:1,title:(0,x.t)("in_product_help_and_learning.popular_resources.explore_more_features.title"),description:(0,x.t)("in_product_help_and_learning.popular_resources.explore_more_features.description"),image:(0,T.ck)("033919a9d852c5a37b60923805a0e11f625cd9b1")},{resource:2,title:(0,x.t)("in_product_help_and_learning.popular_resources.create_components.title"),description:(0,x.t)("in_product_help_and_learning.popular_resources.create_components.description"),image:(0,T.ck)("4f93c71141e5989d9f4d8259d2e2751dc3b3d7ab")},{resource:3,title:(0,x.t)("in_product_help_and_learning.popular_resources.design_your_first_button.title"),description:(0,x.t)("in_product_help_and_learning.popular_resources.design_your_first_button.description"),image:(0,T.ck)("13d91474245b8e3949763a713a12805283cfe2a2")},{resource:4,title:(0,x.t)("in_product_help_and_learning.popular_resources.video_tutorials.title"),description:(0,x.t)("in_product_help_and_learning.popular_resources.video_tutorials.description"),image:(0,T.ck)("02377d4618e4b063422da13c18efd5debece9591")}];return n.createElement("div",{className:v.s.flex.flexColumn.rowGap8.$},n.createElement("p",{className:v.s.font13.colorText.fpl__textBodyMediumStrongFontWeight.$},(0,x.t)("in_product_help_and_learning.popular_resources.section_title")),e.map(e=>n.createElement(ee,{key:e.title,resource:e})))}var el=l(585564),en=l(736041),ea=l(366172),er=l(254903),ei=l(678197);function es({option:e}){return n.createElement("span",{className:v.s.flex.colorTextBrand.cursorPointer.$},n.createElement(W.$z,{variant:"link",onClick:e.onClick},e.label))}function eo(){let e=(0,C.wA)(),t=(0,C.d4)(e=>e.user),{hideInProductHelpView:l}=(0,B.A5)(),a=[{label:(0,x.t)("lab.ui3_disable"),onClick:()=>{l(),er.nt.ui3.toggleValue(t,e,"in_product_help_menu")}},{label:(0,x.t)("help_widget.menu.change_keyboard_layout"),onClick:function(){ea.Y5.isReady()&&(e(el.FU({tab:"layout"})),ea.Y5.triggerAction("toggle-keyboard-shortcuts"))}},{label:(0,x.t)("help_widget.menu.change_languages"),onClick:function(){e((0,en.to)({type:ei.kA,data:{source:ei.IO.HELP}}))}},{label:(0,x.t)("help_widget.menu.keyboard_shortcuts"),onClick:()=>{ea.Y5.isReady()&&ea.Y5.triggerAction("toggle-keyboard-shortcuts")}}].map(e=>n.createElement(es,{key:e.label,option:e})),r=(0,x.t)("in_product_help_and_learning.settings.section_title");return n.createElement(j,{sectionName:r,sectionOptions:a})}function ec({isFloatingModal:e}){return n.createElement("div",null,n.createElement(E.fu,{name:"First Level"},n.createElement("div",{className:v.s.flex.flexColumn.gap16.p16.pb8.$},n.createElement(K,null),n.createElement(U,null)),n.createElement(b.P,{className:e?"first_level_resources--floatingModalScrollContainer--i7yEe":"first_level_resources--scrollContainer--t1Gzz"},n.createElement("div",{className:v.s.flex.flexColumn.gap16.pb16.$},n.createElement(et,null),n.createElement(eo,null),n.createElement(X,null))),n.createElement(O,null)))}var ed=l(612724),eu=l(991944);function ep({propertiesPanelWidth:e,isInsetEditorEnabled:t,view:l}){let[a,r]=(0,n.useState)((0,B.iM)({propertiesPanelWidth:e,isInsetEditorEnabled:t})),i=(0,n.useCallback)(()=>{r((0,B.iM)({propertiesPanelWidth:e,isInsetEditorEnabled:t}))},[t,e]);return(0,n.useEffect)(()=>{let e=(0,y.s)(()=>{i()});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[i]),(0,n.useEffect)(()=>{i()},[e,i,t]),n.createElement(eu.vx,{initialWidth:B.yx,initialHeight:.8*window.innerHeight,initialPosition:new ed.Mi(a.x,a.y),maxHeight:.8*window.innerHeight},n.createElement("div",{"data-testid":"in-product-help-floating-modal",className:"dynamic_panel--floatingModalContainer--S9bdj"},l))}var em=l(351966),eh=l(809471);function e_(){let e=(0,f.useAtomValue)(B.J9),{hideInProductHelpView:t}=(0,B.A5)(),l=(0,f.useSetAtom)(B.J9);return n.createElement("div",{className:v.s.flex.flexRow.justifyBetween.p16.pl12.$},n.createElement(em.E,{onClick:()=>{l(e-1)},"aria-label":(0,x.t)("general.back"),className:v.s.flex.flexRow.itemsCenter.justifyCenter.font11.colorText.fpl__textBodyMediumStrongFontWeight.cursorPointer.$},n.createElement(eh.C,null),(0,x.tx)("general.back")),n.createElement(D.K,{onClick:()=>{t()},"aria-label":(0,x.t)("general.close")},n.createElement(F.A,null)))}var eg=l(471923),ey=l(266838),ef=l(556843),eE=l(891721),eb=l.n(eE);let ev="third_level_resources--helpCenterArticle--Fnl-a";function eC({afterArticleChildren:e}){let{name:t}=(0,E.j6)(),l=(0,f.useAtomValue)(B.Zf),a=(0,f.useAtomValue)(B.J9),r=(0,f.useAtomValue)(B.QU),i=n.createRef(),[s,o]=n.useState(),c=n.useCallback(()=>{i.current?.scrollTo(0,0)},[i]);return((0,n.useEffect)(()=>{Array.from(document.querySelectorAll(`.${ev} a`)).forEach(e=>{if(-1===e.href.indexOf("#"))e.target="_blank";else{let t=e.href.split("#",2);e.href=`#${t[1]}`}e.onclick=()=>{(0,w.sx)("CTA Clicked",{text:e.text,linkUrl:e.href,trackingContext:t,articleId:r?.id})}}),function(e){if(e&&0xcce00915a97===e.id){let e=document.querySelector(".contextual-content.contextual-content--NewUI p:first-of-type");try{if(e){let t=document.createElement("iframe");t.src="https://www.youtube.com/embed/HJG7ILVSjrI?si=kLtIPYEqkgMC_hwH",t.title="Youtube video player",t.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",t.referrerPolicy="strict-origin-when-cross-origin",t.allowFullscreen=!0,t.className="third_level_resources--embeddedVideo--lnko-";let l=e.parentNode;l&&l.insertBefore(t,e)}}catch(e){console.error(e)}}}(r),Array.from(document.querySelectorAll(`.${ev} img`)).forEach(e=>{e.onclick=()=>{o({src:e.src,alt:e.alt})}});let e=Array.from(document.querySelectorAll(".contextual-content--NewUI button.tablinks")),l=Array.from(document.querySelectorAll(".contextual-content--NewUI div.tabcontent"));if(e.length>0&&e.length===l.length){let t=0,n=t=>{e.forEach((e,l)=>{l===t?e.classList.add("active"):e.classList.remove("active")}),l.forEach((e,l)=>{l===t?e.style.display="block":e.style.display="none"})};e.forEach((e,l)=>{e.onclick=()=>n(l),e.classList.contains("active")&&(t=l)}),n(t)}c()},[r]),r)?n.createElement("div",null,n.createElement(E.fu,{name:"Help Center Article",properties:{articleId:r.id}},n.createElement(e_,null),!!l&&3===a&&n.createElement("h3",{className:"third_level_resources--breadcrumb--yQHOD"},l.title," /"," ",n.createElement("span",{className:v.s.fpl__textBodySmallStrongFontWeight.$},r.name)),n.createElement("h1",{className:v.s.lh24.fontSemiBold.font16.fontInter.pt0.px16.pb12.$},r.name),n.createElement("div",{className:"third_level_resources--container--RY81c",ref:i},n.createElement("div",{className:S()(v.s.p16.pt8.$,ev),dangerouslySetInnerHTML:{__html:eb().sanitize(r.body)}}),e,n.createElement(ek,{image:s,onClose:()=>o(void 0)})))):null}function ek({image:e,onClose:t}){let l=eg.hS({open:!!e,onClose:t});return n.createElement(ey.bL,{manager:l,width:"fit-content"},n.createElement("div",{className:"third_level_resources--enlargedImageContainer--EqCOz"},n.createElement(ef.vo,null,n.createElement(Z.oW,{src:e?.src,alt:e?.alt,className:"third_level_resources--enlargedImage--l3atX"}))))}function eS(){let e=(0,f.useSetAtom)(B.J9),t=(0,f.useAtomValue)(B.Zf),l=(0,f.useAtomValue)(B.QU);if(!t)return null;let a=null;return t.resource===J.DESIGN_FIRST_BUTTON?n.createElement(eC,{afterArticleChildren:l&&0xcce00915a97===l.id?n.createElement(eN,null):void 0}):t.resource===J.VIDEO_TUTORIALS?(e(1),null):(a=n.createElement(ew,{details:function(e){switch(e){case 0:return{description:(0,x.t)("in_product_help_and_learning.popular_resources.new_to_figma.details.description"),webm:(0,T.ck)("6db4a35b80ddb5910781af9bc60c66bf902dff3a"),mp4:(0,T.ck)("88dea447c3d80062d168b864c9c01aa5645790e5"),articles:Q(0)};case 1:return{description:(0,x.t)("in_product_help_and_learning.popular_resources.explore_more_features.details.description"),webm:(0,T.ck)("23c86354e978f77d1ca96b6cc52dfdc216f5a99d"),mp4:(0,T.ck)("fd204bb233c3be09b2e29f8621d93342c24b07af"),articles:Q(1)};case 2:return{description:(0,x.t)("in_product_help_and_learning.popular_resources.create_components.details.description"),webm:(0,T.ck)("0f0aad5b442ba063078c23b06010aab77ecf0c07"),mp4:(0,T.ck)("34285a0d04fb97f14cc2611ddc825950aec93300"),articles:Q(2)}}}(t.resource)}),n.createElement("div",null,n.createElement(E.fu,{name:"Second Level"},n.createElement(e_,null),n.createElement("div",{className:v.s.flex.flexColumn.p16.pt8.pb0.$},n.createElement("p",{className:v.s.font16.colorText.fpl__textHeadingLargeFontWeight.pb8.$},t.title),a))))}function ew({details:e}){let t=(0,B.Yj)(),l=(0,f.useSetAtom)(B.J9),a=(0,f.useSetAtom)(B.QU);return n.createElement(n.Fragment,null,n.createElement("p",null,e.description),n.createElement("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:v.s.wFull.hAuto.borderBox.mt16.bRadius5.$},n.createElement("source",{type:"video/webm",src:e.webm}),n.createElement("source",{type:"video/mp4",src:e.mp4})),n.createElement("div",{className:v.s.flex.flexColumn.gap16.pt24.$},e.articles.map(e=>n.createElement("span",{key:e.displayString,className:v.s.colorTextBrand.cursorPointer.alignLeft.fpl__textBodyMediumStrongFontWeight.$},n.createElement(W.$z,{variant:"link",trackingProperties:{articleId:e.articleId},onClick:async()=>{let n=await t(e.articleId);n&&(l(3),a(n))}},e.displayString)))))}function eN(){let e=(0,B.Yj)(),t=(0,f.useSetAtom)(B.QU);return n.createElement("button",{key:"design-an-interactive-button",className:v.s.radiusMedium.b1.colorBorder.flex.flexRow.m16.cursorPointer.overflowHidden.$,style:q.sx.add({height:"74px"}).$,onClick:async()=>{let l=await e(0x130e9f996b97);l&&t(l)}},n.createElement(Z.oW,{src:(0,T.ck)("c657cef6e7f2fec74ceef573832e097f2d0ce4cd"),alt:"",style:q.sx.m0.add({width:"108px",height:"74px",borderRadius:"var(--radius-medium) 0 0 var(--radius-medium)"}).$}),n.createElement("div",{className:v.s.flex.flexColumn.gap2.m12.font11.ellipsis.alignLeft.$,style:q.sx.add({margin:"auto 12px"}).$},n.createElement("p",{className:v.s.colorText.fpl__textBodyMediumStrongFontWeight.$},(0,x.tx)("in_product_help_and_learning.article.design_an_interactive_button")),n.createElement("p",{className:v.s.colorTextSecondary.$},(0,x.tx)("in_product_help_and_learning.design_an_interactive_button.description")," \u2022"," ",(0,x.tx)("in_product_help_and_learning.minute_estimate",{minutes:20}))))}var eT=l(588172),eI=l(45427),eA=l(535461),ex=l(845113),eM=l(745727);function eP({view:e}){let{inProductHelpViewType:t}=(0,B.A5)(),l=(0,g.J2)(a.Ez5.uiState().inProductHelpSidePanelWidth);return"side_panel"!==t?null:n.createElement(eI.V,null,n.createElement(eM.X,null,n.createElement(ex.lY,{className:S()("dynamic_panel--sidePanelPosition--YOgLo",eA.Dm),size:l,onResize:e=>{!function(e){let t=(0,eT.qE)(e,B.Jm,B.tL);a.Ez5?.uiState().inProductHelpSidePanelWidth.set(t)}(e)},side:"left","data-cancel-insertable-resource-drag-and-drop":!0},n.createElement("div",{className:"dynamic_panel--sidePanelContainer--4KgPk",style:{width:`${l}px`},"data-testid":"in-product-help-side-panel"},e))))}function eL({propertiesPanelWidth:e,isInsetEditorEnabled:t}){let l;let{inProductHelpViewType:a,hideInProductHelpView:r,updateInProductHelpViewOnWindowWidthResize:i}=(0,B.A5)(),s=(0,f.useAtomValue)(B.J9);return(1===s?l=n.createElement(ec,{isFloatingModal:"floating_modal"===a}):2===s?l=n.createElement(eS,null):3===s&&(l=n.createElement(eC,null)),n.useEffect(()=>{let e=(0,y.s)(()=>{"hidden"!==a&&i()});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[a,t,e,i]),n.useEffect(()=>()=>r(),[r]),"side_panel"===a)?n.createElement(E.fu,{name:"In Product Help Panel"},n.createElement(eP,{view:l})):"floating_modal"===a?n.createElement(E.fu,{name:"In Product Help Floating"},n.createElement(ep,{propertiesPanelWidth:e,isInsetEditorEnabled:t,view:l})):null}var eR=l(994241),eO=l(86815);function eD({boundaryKey:e,children:t}){let l=(0,h.aV)(),y=(0,p.q)(),f=(0,h.p8)("topLevelMode"),E=(0,_.iZ)(),b=l?m.R.topLevelMode:f,v=(0,g.ut)(a.Ez5?.uiState().isRecovery,!1),C=(0,c.GS)(),k=(0,i.HQ)(),S=(0,d.k)(),w=(b===a.lyf.LAYOUT||b===a.lyf.BRANCHING||v||!!E&&b===a.lyf.PREVIEW||C&&b===a.lyf.HISTORY)&&!k,N=(0,u.qw)(),T=(0,s.b)();(0,o.tt)();let{inProductHelpViewType:I}=(0,B.A5)();return S?n.createElement("div",{className:eO.KF},n.createElement(eR.v2,null)):n.createElement(r.tH,{boundaryKey:e,fallback:r.H4.NONE_I_KNOW_WHAT_IM_DOING},w&&y&&n.createElement(n.Fragment,null,t,"hidden"!==I&&n.createElement(eL,{propertiesPanelWidth:N,isInsetEditorEnabled:T})))}},654496:(e,t,l)=>{l.d(t,{b:()=>S});var n=l(411855),a=l(28819),r=l(148257),i=l(747579),s=l(687925),o=l(875877),c=l(563192),d=l(76265),u=l(140835),p=l(69664),m=l(77383),h=l(206102),_=l(957020),g=l(135891),y=l(688656),f=l(644399),E=l(45630),b=l(482310),v=l(848969),C=l(951864),k=l(337987);function S({entrypoint:e,onSetKeyboardNavigationElement:t,hideIfNoUpdates:l,recordingKey:a}){let u="ui3"===(0,i.DP)().version,S=(0,E.Xm)(),N=(0,o.useAtomValue)(h.Lc),T=(0,o.useAtomValue)((0,m.Xh)(S)),I=(0,s.H)(),A=(0,f.c)()&&I,{isLibraryModalShown:x,onToggleLibraryModal:M}=(0,p.u)({entrypoint:e,modalType:"editor",initialTab:A?_.Wv.RECOMMENDED:u&&N?_.Wv.UPDATES:_.Wv.LIBRARIES}),P=n.useMemo(()=>N?(0,d.t)("fullscreen.libraries_button.tooltip.updates_to_pull"):T?(0,d.t)("fullscreen.libraries_button.tooltip.updates_to_push"):(0,d.t)("fullscreen.libraries_button.tooltip.no_updates"),[N,T]),L=N||T;return((0,b.Pf)({showBadge:L,hasChangesToPull:N,disabled:!u}),!l||N||T)?n.createElement("div",{className:"library_modal_button--teamLibraryIcon--EBc7q","data-onboarding-key":"library"},u?n.createElement(w,{"aria-label":P,"aria-expanded":x,ref:t,recordingKey:c.Pt(a,"teamLibrary"),onClick:M,htmlAttributes:{"data-onboarding-key":g.D}},n.createElement(r.l,null),L&&n.createElement("div",{className:"library_modal_button--badgeContainer--ebOHQ"},n.createElement("span",{className:"library_modal_button--updatesBadge--B4nW-","data-testid":"library-button-badge"})," ")):n.createElement(v.o5,{ref:t,recordingKey:c.Pt(a,"teamLibrary"),selected:x,"data-tooltip-type":y.Ib.TEXT,"data-tooltip":(0,d.t)("fullscreen.libraries_button.tooltip.no_updates"),"data-onboarding-key":g.D,svg:C.A,fallbackSvg:k.A,onClick:M,innerText:"Team Library"})):null}let w=(0,u.tf)(a.d)},588352:(e,t,l)=>{l.d(t,{m:()=>ti});var n=l(411855),a=l(188507),r=l(552371),i=l(277154),s=l(991458),o=l(670817),c=l(512729),d=l(875877),u=l(666308),p=l(612724),m=l(153767),h=l(265851),_=l(76265),g=l(650981),y=l(648800),f=l(716192),E=l(524940),b=l(254760),v=l(736041),C=l(190500),k=l(481954),S=l(646534),w=l(811407),N=l(365315),T=l(437901),I=l(176160),A=l(314540),x=l(510669),M=l(940795),P=l(764696),L=l(60329);function R(e){let t=(0,T.RR)(),l=(0,M.Xd)(),r=(0,a.d4)(x.getPermissionsState),i=(0,I.q5)(),s=a.d4(P.x)?.id,{currentUserOrgId:o}=r,c=!!(o&&(0,x.canGuestOrg)(o,r)),u=!!(s&&(0,x.hasActiveEduTeam)(r,s));return(0,n.useMemo)(()=>l.transform(l=>{if(!i||!s)return!1;if(c)return!0;if(t){if(l.seatTypeLicenseTypes?.includes(A.G_.DESIGN))return!0}else if(l.designPaidStatus===A.dQ.FULL)return!0;return!!u||d.atomStore.get(L.TG).has(e)}),[l,i,s,c,t,u,e])}var O=l(470426),D=l(265769),F=l(215802),B=l(366172),K=l(983878),G=l(827473),V=l(410881),H=l(77383),U=l(957020),z=l(567095),W=l(710636),j=l(678599),$=l(835173),Y=l(744297),X=l(732767),Z=l(991944),q=l(728722),J=l(506989),Q=l(38047),ee=l(864986),et=l(154267),el=l(692783),en=l(764428),ea=l(200179),er=l(661137),ei=l(183739),es=l(841924),eo=l(313449),ec=l(689102),ed=l(362476),eu=l(738963);let ep="asset_file_path--path---PrgD text--fontPos11--2LvXf text--_fontBase--QdLsd",em="asset_file_path--skeletonText--PIxni";function eh({assetFileKey:e,assetLibraryKey:t,assetNodeId:l}){let r=(0,ec.ol)(),i=(0,er.sZ)(),s=!!i||(0,eo.w5)(r),o=i?.id,c=es.M4.useFile(e),d=(0,q.Rs)(ei.epW,{fileKey:e},{enabled:s}),u=d?.data?.file,p=function(e,t){let l=(0,a.d4)(e=>e.hubFiles)[e];return(0,et.wJ)(e)&&l?(0,ee.qD)(l).name:t}(e,c?.data?.name),m=function(e,t){let l=(0,el.b)({libraryKey:e,nodeId:t}),r=(0,a.d4)(I.tB);return n.useMemo(()=>{if(r?.libraryKey===e)return null;let t=l.data;return null==t?null:t.link},[e,r,l])}(t,l),_=d?.status==="loading",g=(0,ea.E_)(e),y=u?.teamLimitedInfo?.id,f=y?function(e,t){let l=location.origin;return t?`${l}/files/${t}/team/${e}`:`${l}/files/team/${e}`}(y,o):void 0,E=u?.teamLimitedInfo?.name,b=y&&E&&s,v=u?.computedWorkspace?.workspace?.id,C=v&&o?ed.fO(v,o):void 0,k=u?.computedWorkspace?.workspace?.name,S=v&&k&&s;return s&&_?n.createElement("div",{className:ep,"data-testid":"asset-file-path-loader"},n.createElement(J.Wi,{className:em,opacity:50}),"/",n.createElement(J.Wi,{className:em,opacity:50})):n.createElement("div",{className:ep},S&&n.createElement(n.Fragment,null,n.createElement(Q.q,{tooltipText:k},n.createElement(eu.X,{href:C??"",newTab:!0},k)),"/"),b&&n.createElement(n.Fragment,null,n.createElement(Q.q,{tooltipText:E},n.createElement(eu.X,{href:f??"",newTab:!0},E)),"/"),n.createElement(Q.q,{tooltipText:p},m?n.createElement(eu.X,{href:m,newTab:!0},p):n.createElement("span",null,p)),g&&n.createElement("div",{className:h.s.flex.alignCenter.justifyCenter.ml2.$},n.createElement(en.E,{libraryKey:t,showTooltip:!0})))}var e_=l(463844),eg=l(805014),ey=l(336427),ef=l(453956),eE=l(702849),eb=l(520244),ev=l(138225),eC=l(141171),ek=l(841962),eS=l(211020),ew=l(621847),eN=l(403614),eT=l(693565),eI=l(132939),eA=l(238726),ex=l(180617),eM=l(343373),eP=l(427494),eL=l(710443),eR=l(688656),eO=l(198136),eD=l(997409),eF=l(848969),eB=l(901963),eK=l(728764),eG=l(28487),eV=l(10865);function eH({assetKey:e,type:t,updatedAt:l,fileKey:a}){let r=(0,eV.R8)({assetKey:e,type:t}),{avatar:i,authorName:s}=n.useMemo(()=>{let e=ek.Ay().mvp_va_overrides?.[a]?.author_name,t=ek.Ay().mvp_va_overrides?.[a]?.author_img_url;if(e&&t)return{avatar:n.createElement(eG.e,{entity:{id:"overrideId",img_url:t,name:e},size:eK.Pf.SMALL}),authorName:e};if("loaded"!==r.status||!r.data)return{avatar:null,authorName:null};if("community"===r.data.type)return{avatar:n.createElement(eG.e,{entity:(0,eV.M)(r.data.communityProfile),size:eK.Pf.SMALL}),authorName:r.data.communityProfile.name};let l=(0,eV.G5)(r.data.user);return null!=l&&l.img_url&&(l.handle||l.name)?{avatar:n.createElement(eK.H8,{user:l,size:eK.Pf.SMALL}),authorName:l.handle}:{avatar:null,authorName:null}},[r,a]);return"loading"===r.status?n.createElement(J.Wi,{className:h.s.h16.w100.$,animationType:J.JR.LIGHT_SHIMMER}):i&&s?n.createElement("div",{className:"asset_updated_details--updatedAtAvatar--uf4Gy"},i,n.createElement("span",{className:"asset_updated_details--handle--63B8y"},s),l?n.createElement(n.Fragment,null,n.createElement("span",{className:"asset_updated_details--dot--SoliI"},"\xb7"),n.createElement(eB.h1,{date:l})):null):l?n.createElement("div",{className:"asset_updated_details--updatedAt--eam-d"},(0,_.tx)("design_systems.assets_panel.updated_at",{updatedAt:n.createElement(eB.h1,{date:l})})):null}var eU=l(455731),ez=l(245459),eW=l(453783);function ej({renderedAssetData:e}){let t=(0,a.wA)(),l=(0,a.d4)(e=>e.dropdownShown),r=n.useMemo(()=>{let t=e?.nodeData?.moduleFrameData?.selectedFrameGUID;return null==t||t===ez.AD?{type:"all"}:{type:"guid",guid:t}},[e?.nodeData?.moduleFrameData?.selectedFrameGUID]),i=n.useCallback(e=>{let t="all"===e.type?ez.AD:e.guid;eg.glU.setPlaygroundSelectedNode(t)},[]),{nodeData:s}=e,o=n.useMemo(()=>({format:t=>{if("all"===t.type)return"All frames";let l=e?.nodeData?.moduleFrameData?.frames??{};return l[t.guid]?.name??""}}),[e?.nodeData?.moduleFrameData?.frames]);if(null==s)return null;let{playgroundGUID:c,moduleFrameData:d}=s;if(!c||null==d)return null;let u=Object.keys(d.frames??{});return u.length<2?null:n.createElement("div",{className:"playground_module_frame_section--wrapper--65QB6"},n.createElement("div",{className:"playground_module_frame_section--title--PCfEU"},(0,_.tx)("design_systems.assets_panel.frames")),n.createElement(eW.l6,{id:"playground-module-frame-select",property:r,formatter:o,dispatch:t,onChange:i,dropdownShown:l},n.createElement(eW.c$,{value:{type:"all"}}),n.createElement(eW.sK,null),u.map(e=>n.createElement(eW.c$,{key:e,value:{type:"guid",guid:e}}))))}var e$=l(34130),eY=l(313888),eX=l(132208),eZ=l(798415);let eq=(0,g.fv)();function eJ({renderedAssetData:e,errorType:t,canViewPlayground:l,onInsert:a,shouldHideError:r,onSetShouldHideError:i}){let s=(0,eP.T3)(),[o,c]=n.useState(!1),d=(0,eM.GS)();n.useEffect(()=>{c(!1),i(!1)},[e.asset,i]);let u=(0,eU.S)(e.asset),p=(0,eD.Y)(e.asset),m=n.useMemo(()=>(0,eL.kH)(e.asset.name??""),[e.asset.name]),h=n.useRef(null),g=(0,eS.NG)({text:m,textRef:h}),y=n.useMemo(()=>eq(e.asset),[e.asset]),f=e.asset,E=n.useMemo(()=>{let t=e.nodeData?.playgroundGUID;if(!t)return"";let l=s.get(t);if(!l)return"";let n=s.get(l.symbolId??"");return n?(n.isState?n.parentGuid:n.guid)??"":""},[e,s]),b=n.useMemo(()=>{if(t)return{errorType:t,shouldHideError:r,setShouldHideError:i}},[t,r,i]),v=e.asset.type===U.PW.MODULE&&(0,ek.kc)().dse_editor_templates_v1?(0,_.tx)("design_systems.assets_panel.insert_template"):(0,_.tx)("design_systems.assets_panel.insert_instance");return n.createElement("div",{className:"component_flyout_body--bodyWrapper--CoGX-"},u&&!o&&n.createElement("div",{className:"component_flyout_body--updateBanner--ETDK5 component_flyout_body--_bodyPadding--KrB6p text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(eN.z,{orientation:"vertical",iconSrc:eX.A,onClose:()=>c(!0),variant:"design"},(0,_.tx)("design_systems.assets_panel.update_banner"))),n.createElement("div",{className:"component_flyout_body--headerFileNameWrapper--MH4jz component_flyout_body--_bodyPadding--KrB6p"},n.createElement("h2",{className:"component_flyout_body--header--3LXSQ text--fontPos14--OL9Hp text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa","data-tooltip":g?m:void 0,"data-tooltip-type":eR.Ib.TEXT,ref:h},m),!!p&&p>1&&n.createElement("div",{className:"component_flyout_body--numVariants--nureW"},(0,_.tx)("design_systems.assets_panel.variant_count",{numVariants:p}))),n.createElement("div",{className:"component_flyout_body--descriptionWrapper--wFyRa component_flyout_body--_bodyPadding--KrB6p"},n.createElement(e$.i,{description:f.description,description_rt:f.description_rt})),f.updated_at&&n.createElement("div",{className:"component_flyout_body--updatedWrapper--q4V48 component_flyout_body--_bodyPadding--KrB6p"},n.createElement(eH,{assetKey:(0,G.Av)(f),fileKey:y,type:f.type,updatedAt:f.updated_at})),n.createElement("div",{className:"component_flyout_body--buttonWrapper--Sb1Mq component_flyout_body--_bodyPadding--KrB6p"},(0,ek.kc)().dse_fpl_wave_1&&d?n.createElement(eb.IK,{onClick:a},v):n.createElement(ew.$$,{onClick:a,fullWidth:!0},v)),l&&!e?.nodeData&&!b&&n.createElement("div",{className:"component_flyout_body--skeletonWrapper--urKH5"},n.createElement(J.Wi,{className:"component_flyout_body--skeletonHeader--VoEY3",opacity:50}),n.createElement(J.Wi,{className:"component_flyout_body--skeletonBody--pINXr",opacity:50})),l&&(e?.nodeData||b)&&n.createElement(eP.q0.Provider,{value:s},(0,ek.kc)().dse_editor_templates_v1&&(0,ek.kc)().dse_editor_templates_frames&&n.createElement(ej,{renderedAssetData:e}),n.createElement("div",{className:"component_flyout_body--propsContainer--w8pmU"},n.createElement(ex.x,{componentProps:e.nodeData?.componentProps,moduleProps:e.nodeData?.moduleProps,moduleFrameData:e.nodeData?.moduleFrameData??void 0,label:n.createElement(eQ,{renderedAssetData:e}),playgroundGUID:e.nodeData?.playgroundGUID,productComponentGUID:E,sceneGraph:s,instanceSwapPickerInitialHeight:200,instanceSwapPickerInitialPosition:"right-center",containerWidth:eO.O2.UNBOUNDED,errorData:b,shouldShowDividerAboveProps:!0})),n.createElement("div",{className:"component_flyout_body--modeContainer--8n5p5"},n.createElement(eA.b,{fill:!0,modes:e.nodeData?.modeData||{}}))))}function eQ({renderedAssetData:e}){let t=n.useCallback(()=>{e.refetchAndResetScene()},[e]);return n.createElement("div",{className:"component_flyout_body--playgroundHeader--lQfDc"},n.createElement("div",{className:"component_flyout_body--flyoutLabel--6Y6lR text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(eT.B,{className:"component_flyout_body--headerIcon--FHdrw",svg:eY.A}),(0,_.tx)("design_systems.assets_panel.playground_label")),(0,ek.kc)().dse_fpl_wave_1?n.createElement("span",{className:"component_flyout_body--resetButtonContainer--fCSjD"},n.createElement(ev.K,{"aria-label":(0,_.t)("design_systems.playground.reset_properties"),onClick:t,disabled:!e.hasChangesToReset,recordingKey:"resetPlaygroundProps",htmlAttributes:{"data-tooltip":(0,_.t)("design_systems.playground.reset_properties"),"data-tooltip-type":eR.Ib.TEXT}},n.createElement(eI.U,{svg:eZ.A},n.createElement(eC.N,null)))):n.createElement(eF.K0,{className:"component_flyout_body--resetButton--wVXDQ",svg:eZ.A,onClick:t,"data-tooltip":(0,_.t)("design_systems.playground.reset_properties"),"data-tooltip-type":eR.Ib.TEXT,disabled:!e.hasChangesToReset,recordingKey:"resetPlaygroundProps"}))}var e0=l(475824),e1=l(773649),e5=l(858779),e3=l(914530),e4=l(165046);let e2="component_flyout_thumbnail--thumbnail--p3jV2";function e6({canViewPlayground:e,renderedAssetData:t,onCloseIfHidden:l,setFlyoutHidden:a,sectionPosition:r,sectionNameForTracking:i,sectionDepth:s}){let o=n.useCallback(()=>{a(!0)},[a]),{onInsertableResourcePointerDown:c,dragState:d}=(0,e5.j)({resource:t.asset,isList:!1,clickToInsert_DEPRECATED:!1,sourceForTracking:e4.iV,fromPlayground:e,recomputeCancelRectsOnPointerUp:!0,onDragStart:o,onPointerUpWithoutInsert:l,sectionPosition:r,sectionNameForTracking:i,sectionDepth:s}),u=n.useMemo(()=>{let e=(0,k.zR)(t.asset,null);if(null!=e)return e0.F.format(e)},[t.asset]),p=e7(t.hasChangesToReset,t.nodeData?.modeData??null);return n.createElement("div",{className:"component_flyout_thumbnail--thumbnailWrapper--P38Qq",onPointerDown:c,role:"button",style:u?{backgroundColor:u}:void 0},e&&t?.thumbnailData&&p?n.createElement("img",{className:e2,src:t.thumbnailData.src,alt:(0,_.t)("design_systems.playground.thumbnail_alt"),draggable:!1}):n.createElement(e3.M,{className:e2,draggable:!1,key:(0,N.V)(t.asset),item:t.asset,shouldGenerateLocalThumbnail:!1}),n.createElement(e1.q,{dragState:d,isList:!1,thumbnailOverrideSrc:e&&t?.thumbnailData?t.thumbnailData.src:void 0}))}let e7=(e,t)=>n.useMemo(()=>!!e||Object.values(t||{}).some(e=>eg.CWU.getVariableSetDefaultMode(e.collectionID)!==e.inheritMode),[e,t]),e8={maxWidth:640,maxHeight:480};function e9({asset:e,onInsert:t,onLoaded:l,flyoutHidden:r,onCloseIfHidden:i,setFlyoutHidden:s,sectionPosition:o,sectionNameForTracking:c,sectionDepth:d}){let u=R(e.library_key),[p,m]=n.useState(!1),h=n.useCallback(()=>m(!1),[]),_=(0,eE.MO)({canvasAsset:e,canViewPlaygroundQueryResult:u,onLoaded:l,onError:h,thumbnailOptions:e8}),g=(0,V.H)(),y=(0,a.d4)(e=>e.fileVersion),f=(0,ey.ZC)(y);if(n.useEffect(()=>{_?.state==="LOADED"&&_?.currentAssetData?.nodeData?.playgroundGUID&&null!=f&&f!==y&&(g(),eg.glU.clearPlaygroundScene())},[y,f,g,e.type,_]),!_)return n.createElement("div",{className:"component_flyout--spinner--c-wap"},n.createElement(e_.k,null));let E="LOADED"===_.state?_.currentAssetData:_.previousAssetData,b="ERROR"===_.state?_.errorType:void 0;return n.createElement(ef.k,{name:"props_playground"},n.createElement("div",{className:"component_flyout--wrapper--96Jih"},n.createElement(e6,{renderedAssetData:E,canViewPlayground:u.unwrapOr(!1),onCloseIfHidden:i,setFlyoutHidden:s,sectionPosition:o,sectionNameForTracking:c,sectionDepth:d}),!r&&n.createElement(eJ,{renderedAssetData:E,errorType:b,canViewPlayground:u.unwrapOr(!1),onInsert:t,onSetShouldHideError:m,shouldHideError:p})))}var te=l(592165),tt=l(845804),tl=l(488527);let tn=(0,s.jz)(tl.LdP),ta=(0,s.jz)(tl.wkK),tr=(0,g.fv)(),ti=(0,W.Ju)(function({asset:e,searchSessionId:t,query:l,sectionPosition:s,sectionNameForTracking:g,assetTypeDropdownSelection:T,sectionDepth:A,containerWidth:x,onGetKeyboardNavigationItemById:M}){let P=n.useRef(null),W=(0,d.useSetAtom)(te.T),q=n.useMemo(()=>tr(e),[e]),J=R(e.library_key),Q=(0,d.useAtomValue)(L.TG),ee=(0,Y.H)(e.library_key),et=n.useMemo(()=>({fileKey:q,libraryKey:e.library_key}),[e,q]),el=(0,j._9)(et,"asset_panel_visual_assets_flyout_insert"),en=(0,S.fV)(e.library_key),ea=(0,I.q5)(),er=(0,a.wA)(),ei=(0,a.d4)(e=>(0,H.e_)(e).local.thumbnails),es=(0,V.H)(),eo=(0,a.d4)(e=>e.instanceSwapPickerShown),ec=(0,$.k)(),ed=(0,F.tM)();(0,c.h)(()=>{i.az.trackDefinedEvent("assets_panel.flyout_opened",{assetKey:(0,N.V)(e),assetType:(0,N.q)(e.type),assetLibraryKey:e.library_key,isLocal:e.isLocal,fileParentOrgId:ea?.parentOrgId??void 0,fileTeamId:ea?.teamId??void 0,assetsPanelVersion:ec,partnerType:(0,D.X)(e.library_key),queryId:ed??void 0})}),(0,c.h)(()=>()=>{er((0,f.vq)()),W(!1)}),n.useEffect(()=>{if(!(0,G.dx)(e)||!e.isLocal)return;let t=e.node_id?ei[e.node_id]:null,l=e.type===U.PW.COMPONENT?e.content_hash:e.version;t?.content_hash!==l&&requestAnimationFrame(()=>{let t=(0,k.r2)(e.node_id);null!=t&&er(b.T1({thumbnails:[{nodeId:e.node_id,url:t,type:e.type}],source:U.$1.LOCAL}))})},[e,er,ei]);let eu=n.useCallback(()=>{requestAnimationFrame(()=>P?.current?.ensureModalOnScreen())},[]),ep=n.useCallback(()=>{eo?.isShown&&er((0,f.vq)())},[er,eo]),em=(0,F.Hu)(e.library_key),e_=(0,X.Nv)(!0),eg=n.useCallback(()=>{if("loaded"!==J.status)return;let n=B.Y5.getViewportInfo(),a={canvasPosition:{x:n.offsetX,y:n.offsetY},insertAsChildOfCanvas:!0,percentageOffset:new p.Mi(.5,.5),storeInRecentsKey:z.$A.Design,useSmartPositioning:!0,fromPlayground:J.data};e.type===U.PW.COMPONENT?(er((0,E.Yf)({item:e,...a})),ee&&el(!0)):e.type===U.PW.STATE_GROUP?er((0,E.b$)({item:e,...a})):e.type===U.PW.MODULE&&er((0,E.Bs)({item:e,...a,insertionCallback:()=>B.Y5.triggerAction("commit")}));let o={aiResultsEnabled:e_,assetKey:(0,G.Av)(e),assetType:(0,N.q)(e.type),queryId:ed??void 0,scoreAi:e.ai_score??void 0,scoreLexical:e.lexical_score??void 0,assetTypeDropdownSelection:T,assetsPanelVersion:ec,fileKey:ea?.key??void 0,fileParentOrgId:ea?.parentOrgId??void 0,fileTeamId:ea?.teamId??void 0,isExample:(0,O.o)(e,Q),libraryKey:e.library_key,partnerType:(0,D.X)(e.library_key),sectionDepth:A,sourceSection:g??void 0,productType:(0,C.pi)({editorType:ea?.editorType})};i.az.trackDefinedEvent("assets_panel.flyout_insert",{...o,libraryType:em,searchSessionId:t??void 0,searchQuery:l,sectionPosition:s}),i.az.trackDefinedEvent("asset_search.result_inserted",{...o,libraryType:em,position:s,reciprocalRank:(0,r.Et)(s)?1/(1+s):void 0,query:l,sessionId:t??void 0,entryPoint:"assets-panel"})},[J.status,J.data,e,e_,ed,T,ec,ea?.key,ea?.parentOrgId,ea?.teamId,ea?.editorType,Q,A,g,em,t,l,s,er,ee,el]);n.useEffect(()=>{let e=e=>{let t=P.current?.getEl();if(t){if(!t.contains(e.target)){if(W(!1),(0,o.NX)(e.target,"data-does-not-dismiss-component-flyout"))return;er(v.ES({type:tt.V}));return}W(!0)}};return document.addEventListener("pointerdown",e),()=>{document.removeEventListener("pointerdown",e)}},[er,W]);let ey=n.useCallback(t=>{let l=t.event.code??t.event.key,n=(0,N.V)(e),a=M?.(n);if(!a)return;let r=t.event.keyCode===u.Uz.TAB,i=t.event.shiftKey;if((0,m.c2)(t.event,!1)){a.getItemAbove()?.focus(),t.accept();return}if((0,m.Nt)(t.event,!1)){a.getItemBelow()?.focus(),t.accept();return}if((0,m.yn)(l,!1)||r&&i){a.getItemToTheLeft()?.focus(),t.accept();return}if((0,m.lv)(l,!1)||r&&!i){a.getItemToTheRight()?.focus(),t.accept();return}if("Enter"===l){eg(),t.accept();return}},[e,eg,M]);var ef=n.createElement("div",{className:h.s.minW0.flex1.$},n.createElement("div",null,(0,_.t)("design_systems.assets_panel.details")),n.createElement(y.Y,{spacing:0,direction:"horizontal"},e&&n.createElement(eh,{assetFileKey:q,assetLibraryKey:e.library_key,assetNodeId:e.node_id}),en&&n.createElement("div",{className:h.s.pr4.$},n.createElement(w.KP,{libraryKey:e.library_key,variant:"secondary",tooltipLocation:"below"}))));let[eE,eb,ev]=(0,K.J)(!1),eC=n.useCallback(()=>{eE.current&&es()},[eE,es]);return"loaded"!==J.status?null:n.createElement(Z.vx,{alwaysEnsureModalOnScreen:!0,allowAutoExpanding:!0,canRenderBelowViewport:!1,headerSize:"large",initialPosition:new p.Mi(x+1,tn),onClick:ep,onClose:es,onKeyDown:ey,title:ef,truncateTitleText:!0,initialWidth:ta,ref:P,dataTestId:"component-flyout-modal",hidden:eb,noCancelDragAndDrop:!0},n.createElement("div",{"data-not-draggable":!0},n.createElement(e9,{asset:e,onLoaded:eu,onInsert:eg,flyoutHidden:eb,onCloseIfHidden:eC,setFlyoutHidden:ev,sectionPosition:s,sectionNameForTracking:g,sectionDepth:A})))},tt.V)},165046:(e,t,l)=>{l.d(t,{iV:()=>s,se:()=>o});var n=l(411855),a=l(188507);l(903570),l(805014);var r=l(410881);l(957020);var i=l(845804);let s="asset-description-preview";function o(){let e=(0,a.d4)(e=>e.modalShown),t=(0,r.H)();return n.useCallback(()=>{e?.type===i.V&&t()},[t,e?.type])}},34130:(e,t,l)=>{l.d(t,{i:()=>h});var n=l(411855),a=l(629019),r=l.n(a),i=l(991458),s=l(336427),o=l(799287),c=l(400254),d=l(76265),u=l(759994),p=l(182032);let m=(0,i.jz)(p.figmaComponentFlyoutTextMaxCollapsedHeight);function h({description:e,description_rt:t}){let l=n.useRef(null),[a,i]=n.useState(!0),[p,h]=n.useState(!1),_=(0,s.ZC)(e);n.useEffect(()=>{if(e&&l.current&&_!==e){let e=l.current.scrollHeight>m;i(e),h(e)}},[e,_]);let g=n.useCallback(()=>{a&&h(!0),i(!a)},[a]);if(!e&&!t)return null;let y=!!e&&(a||p);return n.createElement("div",{className:"truncated_component_description--documentationSection--87RCO"},t?n.createElement("div",null,n.createElement(c.C,{value:t,valueFormat:(0,o.j_)(t),namespace:"component-description-flyout-lexical-editor-readonly",lexicalContentClassName:a?u.D6:u.kF,innerRef:l})):n.createElement("div",{ref:l,className:r()({"truncated_component_description--collapsed--VXZTS ellipsis--ellipsisAfter6Lines--2UA7M ellipsis--_ellipsisAfterNLines--LzI7k":a},"truncated_component_description--documentationDescription--C090D text--fontPos11--2LvXf text--_fontBase--QdLsd"),dir:"auto"},e),y&&n.createElement("button",{className:"truncated_component_description--showMore--brfX6",onClick:g},a?(0,d.tx)("design_systems.assets_panel.show_more"):(0,d.tx)("design_systems.assets_panel.show_less")))}},184392:(e,t,l)=>{l.d(t,{A:()=>m,d:()=>p});var n=l(411855),a=l(188507),r=l(277154),i=l(769849),s=l(176160),o=l(354465),c=l(304420),d=l(767731),u=l(835173);function p({allElements:e}){h(n.useCallback(()=>{let t=e.length,l=0,n=0;for(let t of e)if(!t.key.includes("localComponents")){let e=function e(t){if(t.type===i.zq.TILE)return 1;if(!(0,i.We)(t)||!t.isExpanded)return 0;{let l=0;for(let n of t.children)l+=e(n);return l}}(t);l+=e,n+=Math.min(e,20)}return{numLibraries:t,numComponents:l,numComponentsWithLimit:n}},[e]))}function m(e){h(n.useCallback(()=>{let t=0,l=0,n=0,{allLibrariesUnsorted:a}=e;for(let[r,i]of a)if(i.type===c.yW.DESIGN){if(e.localAssets.libraryKey===r){i.numComponents>=0&&(t+=1);continue}t+=1,l+=i.numComponents,n+=Math.min(i.numComponents,20)}return{numLibraries:t,numComponents:l,numComponentsWithLimit:n}},[e]))}function h(e){let t=(0,a.d4)(e=>e.loadingState),l=(0,a.d4)(e=>e.fileVersion),i=(0,s.q5)(),c=(0,u.k)(),p=i&&null!=l&&(0,d.yD)(i.key)||null,m=!(null!=p&&(0,o.D2)(t,p));n.useEffect(()=>{m||function(e,t,l){if(_)return;let{numLibraries:n,numComponents:a,numComponentsWithLimit:i}=e();(0,r.sx)("Assets Panel Initial Load",{numLibraries:n,numComponents:a,numComponentsWithLimit:i,assetsPanelVersion:t,fileKey:l?.key,fileTeamId:l?.teamId??void 0,fileOrgId:l?.parentOrgId??void 0}),_=!0}(e,c,i)},[e,m,i,c])}let _=!1},113645:(e,t,l)=>{l.d(t,{V:()=>v});var n=l(411855),a=l(188507),r=l(217950),i=l(148257),s=l(277154),o=l(640747),c=l(499875),d=l(621847),u=l(132939),p=l(76265),m=l(152664),h=l(736041),_=l(241162),g=l(278695),y=l(140835),f=l(176160),E=l(39971),b=l(951864);function v(){let e=(0,a.wA)(),t=(0,f.q5)(),l=(0,a.d4)(e=>e.user?.id);if(!t)return null;let v=t.teamId,C=n.createElement(d.Us,{className:"library_upsell_banner--blueLink--bt6GX blue_link--blueLink--9rlnd",onClick:function(){(0,s.sx)("library_upsell_badge_clicked",{fileKey:t?.key,teamId:v,userId:l}),e((0,h.to)({type:m.V,data:{upsellSource:E.b.LIBRARY_UPSELL_BADGE,teamId:v??void 0,openCheckoutInNewTab:!0}}))},trackingProperties:{trackingDescriptor:g.c.UPGRADE_TO_PROFESSIONAL},trusted:!0,role:"button"},(0,p.tx)("design_systems.assets_panel.library_upsell_upgrade"));return n.createElement(c.tH,{boundaryKey:"LibraryUpsellBanner",fallback:c.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:r.e.MONETIZATION_UPGRADES}},n.createElement(y.fu,{name:"library upsell badge",properties:{fileKey:t?.key,teamId:t?.teamId}},n.createElement("div",{className:"library_upsell_banner--bannerBackground--WlTVY"},n.createElement("div",{className:"library_upsell_banner--bannerContainer--SqSHa"},n.createElement(o.Jn,{className:"library_upsell_banner--closeButton--U1sPN",onClick:function(){(0,s.sx)("library_upsell_badge_dismissed",{fileKey:t?.key,teamId:v,userId:l}),e(_.b({has_dismissed_component_sidebar_library_upsell_banner:!0}))}}),n.createElement("div",{className:"library_upsell_banner--bannerContent--SUcpT"},n.createElement("div",{className:"library_upsell_banner--bannerHeader--Lbg8d"},n.createElement(u.U,{svg:b.A,className:"library_upsell_banner--bannerIcon--n5IGN"},n.createElement(i.l,null))),n.createElement("p",{className:"library_upsell_banner--bannerTitle--AN3mP"},(0,p.tx)("design_systems.assets_panel.library_upsell_header")),n.createElement("p",{className:"library_upsell_banner--bannerBody--GSg3l"},(0,p.tx)("design_systems.assets_panel.library_upsell_body",{upgradeToProfessionalPlanLink:C})))))))}},189334:(e,t,l)=>{l.d(t,{g:()=>it});var n=l(411855),a=l(277154),r=l(931223),i=l(512729),s=l(499875),o=l(265851),c=l(76265),d=l(154267),u=l(176160),p=l(747765),m=l(509223),h=l(512870),_=l(86994),g=l(278695),y=l(596608),f=l(201545),E=l(427494),b=l(303480),v=l(135891),C=l(781976),k=l(979530),S=l(946062),w=l(759240),N=l(639344);function T(){let e=(0,E.aV)(),t=u.q5()?.canEdit,l=(0,u.MY)(),{show:a,isShowing:r,complete:i}=(0,y.e)({overlay:w.QI3,priority:v.N.SECONDARY_MODAL},[l]),s=(0,_.te)(),{currentView:o}=(0,k.wV)(),d=!!(0,b.f)(h.bo),p="no_figma_basics_onboarding_was_shown_in_current_session"===(0,f.zl)(N.j).currentState;return(0,n.useEffect)(()=>{!e&&t&&s()&&!d&&!p&&o===k.S5.Libraries&&a(),r&&o!==k.S5.Libraries&&i()},[a,i,t,r,s,d,p,o,e]),n.createElement(C.rq,{isShowing:r,title:(0,c.tx)("rcs.visual_assets.elevate_your_designs"),description:(0,c.tx)("rcs.visual_assets.explore_within_assets_tab"),primaryCta:{label:(0,c.tx)("onboarding_pointers.got_it"),type:"button",onClick:i,ctaTrackingDescriptor:g.c.GOT_IT},trackingContextName:"Visual Asset Packs Tooltip",userFlagOnShow:h.bo,targetKey:h.Bs,arrowPosition:S.F_.LEFT_TITLE,onClose:i,arrowPadding:h.fg,disableHighlight:!0})}var I=l(62387);function A({width:e}){return n.createElement(m.p,{featureFlag:"cmty_visual_assets_nux"},n.createElement("div",{style:{left:`${e}px`,top:"195px"},className:"visual_assets_tooltip_and_target--hiddenNuxAnchor--i4n3a","data-onboarding-key":h.ko}),n.createElement(I.T,null),n.createElement(T,null))}var x=l(113645),M=l(18840),P=l(238235),L=l(332103),R=l(200179),O=l(184392),D=l(991458),F=l(470426),B=l(553920),K=l(153767),G=l(304420),V=l(351966),H=l(434019),U=l(597700),z=l(629019),W=l.n(z),j=l(841962),$=l(137565),Y=l(182029);let X="asset_panel_folder--folderButton---mVgX",Z="asset_panel_folder--blankThumbnail--6v5uo";var q=l(965581);let J=(0,D.jz)(q.CT),Q={height:J,width:J},ee=n.forwardRef(function({keyPrefix:e,name:t,onClick:l,onContextMenu:a,previewAssetOrUrl:r,recordingKey:i,disabled:s,variant:o},c){let d=n.createElement(n.Fragment,null,"preview"===o?n.createElement("div",{className:"asset_panel_folder--folderPreview--0ezgC"},r?n.createElement(Y.V,{keyPrefix:e,previewAssetOrUrl:r,...Q}):n.createElement("div",{className:Z,style:Q})):n.createElement("div",{className:"asset_panel_folder--folderIcon--FnZdp"},n.createElement(H.x,null)),n.createElement("div",{className:"asset_panel_folder--folderName--CPNC8 ellipsis--ellipsis--Tjyfa"},t),n.createElement("div",{className:W()("asset_panel_folder--folderNextIcon--ZYH9z",{"asset_panel_folder--adjustMargin--uitBT":"icon"===o})},n.createElement(U.n,null)));return n.createElement("div",{className:"asset_panel_folder--folderContainer--UPeR-"},(0,j.kc)().dse_fpl_wave_1?n.createElement(V.E,{"aria-label":t,className:X,onClick:l,ref:c,recordingKey:i,disabled:s,htmlAttributes:{onContextMenu:a}},d):n.createElement($.GG,{"aria-label":t,className:X,onClick:l,onContextMenu:a,forwardedRef:c,recordingKey:i,disabled:s},d))});var et=l(433576),el=l(427146),en=l(516352);function ea({subtree:e,index:t,keyPrefix:l,depth:a}){let r=(0,et.sN)(),{folderPath:i,currentView:s}=(0,k.wV)(),[o]=(0,en.MA)(),{previewAsset:c}=e,{navigateToFolder:d}=(0,k.wV)(),u=n.useCallback(()=>{r("folderRow",d(e.name))},[r,d,e.name]),p=n.useMemo(()=>[G.ON.CONTENTS,G.lM.ASSETS+a,G.tM.FOLDERS,t],[a,t]),{keyboardNavigationItem:m,setKeyboardNavigationElement:h}=(0,K.M3)({path:p,id:e.key,disabled:(i?.length??0)>a}),{focusFirstItem:_,focusSearchBar:g}=(0,el.rl)();(0,el.C0)(m,0===t&&a===(i?.length??0)&&s===k.S5.Assets);let y=(0,el.MB)({onBoth:u,onKeyDown:_,onClick:g}),f=n.useMemo(()=>i&&i.length>a,[i,a]);return n.createElement(ee,{name:e.name,onClick:y,keyPrefix:`${l}${e.name}`,previewAssetOrUrl:c,recordingKey:`assetsFolder.${e.name}`,ref:h,disabled:f,variant:"list"===o?"icon":"preview"})}var er=l(565051),ei=l(557080),es=l(179220),eo=l(875877),ec=l(365315),ed=l(188507),eu=l(464835),ep=l(336427),em=l(563192),eh=l(399991),e_=l(765728),eg=l(211020),ey=l(650981),ef=l(648800),eE=l(622667),eb=l(646534),ev=l(739641),eC=l(772691),ek=l(710443),eS=l(131776),ew=l(835301),eN=l(77383),eT=l(404227),eI=l(257489),eA=l(27365),ex=l(784202),eM=l(592165),eP=l(845804),eL=l(455731),eR=l(678599),eO=l(965434),eD=l(244810),eF=l(997409),eB=l(605369),eK=l(351335),eG=l(60329),eV=l(744297),eH=l(742342);let eU="asset_panel_tile--fileName--Skyao ellipsis--ellipsis--Tjyfa",ez="asset_panel_tile--secondary--6CWeS",eW="asset_panel_tile--nameWrapper--6O-iS",ej="asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt",e$="asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt",eY="asset_panel_tile--thumbWrapper--bNG-Y",eX="asset_panel_tile--tileWrapper--7OwtG asset_panel_tile--_tileWrapperBase--OAJqM",eZ="asset_panel_tile--tileWrapperList--VMlzj asset_panel_tile--_tileWrapperBase--OAJqM";function eq({asset:e,fileName:t,sourceForTracking:l,thumbLayout:a,thumbHeight:r,thumbWidth:i,displayType:s,viewMode:o,sectionNameForTracking:c,sectionPosition:d,sectionDepth:p,hideInlineName:m,keyboardPosition:h,isFirstTile:_=!1,isExample:g=!1,keyboardPanelDepth:y=0,disableClickPropagation:f=!1,libraryItemTileProps:E,isVisualAsset:b=!1,onSuccessfulAssetInsert:v}){let C=n.useContext(ex.U),S=(0,ed.d4)(e=>e.modalShown),w=(0,u.tS)(),N=(0,eo.useAtomValue)(eG.TG),{currentView:T}=(0,k.wV)(),I=n.useMemo(()=>g??(0,F.Nz)(e,{isPreset:(0,R.lR)(e,N)}),[e,g,N]),A=(0,eL.J)(e,d,c),x=(0,eO.n)(e),M=(0,eC.u)({canSwap:!I,openFileKey:w??"",sourceForTracking:"Asset Panel",insertAsChildOfCanvas:!0}),P=n.useCallback(()=>{S?.type!==eP.V||x||A()},[x,S?.type,A]),L=n.useCallback(()=>{S?.type!==eP.V&&C?.onOpenFlyout(e,d,c,p)},[S?.type,C,e,d,c,p]),O=n.useCallback(e=>{f&&e.stopPropagation(),L()},[f,L]),D=`assetPanelTile.${d}`,B=em.rf(D,"click",O),H=n.useMemo(()=>({...h,path:[G.ON.CONTENTS,G.lM.ASSETS+y,...h.path]}),[h,y]),{folderPath:U}=(0,k.wV)(),[z]=(0,en.ye)(),j=T===k.S5.Assets&&U&&z&&(U?.length??0)>y,{setKeyboardNavigationElement:$,keyboardNavigationItem:Y}=(0,K.M3)({...H,id:(0,ec.V)(e),onFocus:P,disabled:j});(0,el.C0)(Y,_&&T===k.S5.Assets&&!j);let[X]=(0,en.MA)(),Z=(0,e_.N)({colIndex:H.column,rowIndex:H.path[H.path.length-1],isList:"list"===X,keyboardNavigationItem:Y,onComponentInsertSwap:M,onOpenFlyout:L,item:e,sectionNameForTracking:c,sectionPosition:d,shouldRefocusAfterKeyboardInsert:T===k.S5.Recents,sourceForTracking:eR.mZ}),q=(0,eD.F)(e,eK.K.ASSETS_PANEL,d,c),J=function(e,t){let l=(0,ed.d4)(eT.dK),n=e.isLocal&&(0,eh.PN)()?(0,eH.eT)(e.node_id,l).join("-"):e.node_id;return em.rf(`componentThumb.${n}`,"contextmenu",e=>{t(e)})}(e,q);return n.createElement(V.E,{onClick:B,className:W()("asset_panel_tile--focusableElementWrapper--YzHK7","asset_panel_tile--button--oNPUz",{"asset_panel_tile--transparentBackground--ht3B-":b}),ref:$,htmlAttributes:{onKeyDown:Z,onContextMenu:J}},n.createElement(eQ,{asset:e,fileName:t,sourceForTracking:l,thumbLayout:a,thumbHeight:r,thumbWidth:i,displayType:s,viewMode:o,sectionNameForTracking:c,sectionPosition:d,sectionDepth:p,hideInlineName:m,libraryItemTileProps:E,disableClickPropagation:f,isVisualAsset:b,onSuccessfulAssetInsert:v}))}let eJ=(0,ey.fv)();function eQ({asset:e,fileName:t,sourceForTracking:l,thumbHeight:a,thumbWidth:r,sectionNameForTracking:i,sectionPosition:s,sectionDepth:o,hideInlineName:c,displayType:d,libraryItemTileProps:u,isVisualAsset:p,onSuccessfulAssetInsert:m}){let h=(0,ed.wA)(),_=(0,eS.I)(ew.Cn.AssetsPanel),g=(0,ed.d4)(eT.dK),y=(0,ed.d4)(eN.F9),f=(0,eo.useAtomValue)(eM.T),E=_.searchOption?.type===eA.I.ALL,b=n.useMemo(()=>eJ(e),[e]),v=(0,eb.fV)(e.library_key),C=(0,R.fd)(e.library_key),k=(0,eV.H)(e.library_key),S=n.useMemo(()=>({fileKey:b,libraryKey:e.library_key}),[b,e.library_key]),w=(0,eR._9)(S,"asset_panel_visual_assets"),N=E&&(v||C||k),T=n.useRef(null),I=(0,ek.kH)(e.name),A=(0,eg.NG)({text:I,textRef:T}),x=n.useRef(null),M=(0,eg.NG)({text:t??"",textRef:x}),P=!!_.query,L=(0,eO.n)(e),O=(0,ep.ZC)(L);n.useEffect(()=>{L&&!O&&h(eE.jD())},[L,h,O]);let D=e.isLocal&&(0,eh.PN)()?(0,eH.eT)(e.node_id,g).join("-"):e.node_id,F="Local components"===i||"Local private components"===i||e.isLocal,B="grid"===d,K=!c&&B,G=(0,j.kc)().api_asset_search_with_scores,V=(0,eF.Y)(e),H=n.useCallback(()=>{(0,eI.$z)(),k&&w(!0),m?.()},[w,k,m]),U={showName:!0,height:a,width:r,draggable:n.useMemo(()=>({sourceForTracking:l,clickToInsert:!1,afterSuccessfulInsert:H,sectionNameForTracking:i,sectionDepth:o}),[H,o,i,l]),shouldHideTooltip:!0,recordingNodePath:D,isSearch:P,useBaseTile:!0,hideNameOverlay:K,numVariants:V,displayType:B?"grid":"list-no-padding",sectionPosition:s,showTooltipImmediately:!1,fileName:A||M?t:void 0,alwaysShowBorder:!1,thumbWrapperClassName:eY},z=F?n.createElement(eB.MT,{item:e,isFilePublished:y,...U}):n.createElement(eB.lX,{item:e,...U,...u});return n.createElement("div",{className:p?"asset_panel_tile--visualAssetsGridWrapper--zA9N1 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt":B?e$:ej},n.createElement("div",{className:W()(B?eX:eZ,{"asset_panel_tile--shownInFlyout--7Luo3":L,"asset_panel_tile--selectedFlyoutFocus--GGV8E":L&&f})},z),K&&n.createElement("div",{className:eW,style:{width:r-2}},n.createElement("span",{className:"asset_panel_tile--name--FG9hg ellipsis--ellipsis--Tjyfa",ref:T},I),n.createElement("div",{className:"asset_panel_tile--caret--x-Vya asset_panel_tile--_caretBase--IZ44d"},n.createElement(eu.e,{"aria-hidden":!0}))),K&&!!t&&n.createElement(ef.Y,{spacing:0,direction:"horizontal",height:"hug-contents"},n.createElement("div",{className:W()(eU,ez),ref:x,style:N?{maxWidth:r-ev.J-2}:{width:r-2}},t),N&&n.createElement(ev.P,{libraryKey:e.library_key,showPresetTooltip:!0,tooltipDelay:500,tooltipLocation:"below",compact:!0})),G&&n.createElement(n.Fragment,null,n.createElement("div",{className:W()(eU,ez),style:N?{maxWidth:r-ev.J-2}:{width:r-2}},"Score: "+("score"in e?e.score?.toFixed(2)??"N/A":"N/A")),n.createElement("div",{className:W()(eU,ez),style:N?{maxWidth:r-ev.J-2}:{width:r-2}},"(L:"+(e.lexical_score?.toFixed(2)??"N/A")+", AI:"+(e.ai_score?.toFixed(2)??"N/A")+", F:"+(e.fuse_score?.toFixed(2)??"N/A")+")")))}var e0=l(736041),e1=l(215802),e5=l(58590),e3=l(588352);function e4(){let e=n.useContext(ex.U);return e?.isUi3?e:{...e,width:0}}function e2({width:e,children:t}){let l=function(e){let t=(0,ed.wA)(),{query:l,searchSessionId:a}=(0,e1.Gq)(),r=(0,et.ht)(),i=(0,K.q_)(),s=(0,e5.LR)(),o=(0,ed.d4)(e=>e.universalInsertModal.showing),c=n.useCallback(()=>{o&&s()},[s,o]),d=n.useCallback((n,s,o,d)=>{c(),t((0,e0.to)({type:e3.m,data:{asset:n,searchSessionId:a??void 0,query:l??void 0,sectionPosition:s,sectionNameForTracking:o,assetTypeDropdownSelection:r,containerWidth:e,onGetKeyboardNavigationItemById:i,sectionDepth:d}}))},[c,t,a,l,r,e,i]);return n.useMemo(()=>({onOpenFlyout:d,assetTypeDropdownSelection:r,isUi3:!0,width:e}),[d,r,e])}(e);return n.createElement(ex.U.Provider,{value:l},t)}var e6=l(489018);let e7="asset_panel_virtualization--virtualRow--TxsS-",e8="asset_panel_virtualization--virtualRowFirst--mdR2j asset_panel_virtualization--virtualRow--TxsS-",e9="asset_panel_virtualization--virtualRowList--COnhA",te=(0,D.jz)(e6.Nz),tt=(0,D.jz)(e6.cP),tl=(0,D.jz)(e6.FX),tn=(0,D.jz)(q.$c),ta=(0,D.jz)(q.d5),tr=(0,D.jz)(e6.ZI),ti=(0,eo.atom)(!1);function ts(e,t,l={}){if("list"===t)return tr;let n=e;return l.hideAssetName||(n+=te),l.showFileName&&(n+=tt),l.hasTopPadding&&(n+=tl),l.showAiDebugScores&&(n+=2*(0,D.jz)(e6.uY)),n}function to(e,t,l,a,r,i,s){let o=[],c=e.some(e=>!!e.file_name);for(let d=0;d<e.length;d+=t){let u=e.slice(d,d+t),p=[];u.forEach((e,o)=>{if(e){let c=d+o,u=s?.getFileName?.(e);(0,j.kc)().asset_search_return_file_name&&e.file_name&&(u=e.file_name),p.push(n.createElement(eq,{key:`${l}-${(0,ec.V)(e)}`,asset:e,fileName:u,sectionDepth:s?.depth,sectionNameForTracking:r,sectionPosition:d+o,keyboardPosition:(0,el.pg)(i,c,t,s?.hasHeader),isFirstTile:s?.includesFirstTile&&0===c,keyboardPanelDepth:s?.keyboardPanelDepth,isExample:s?.isExample,...a}))}}),o.push({element:n.createElement("div",{className:"list"===a.displayType?e9:0===d?e8:e7,role:"row"},p),key:`${l}:row-${d/t}`,keys:u.map(e=>(0,ec.V)(e)),height:ts(a.thumbHeight,a.displayType,{showFileName:(0,j.kc)().asset_search_return_file_name&&c||!!s?.getFileName,hasTopPadding:0!==d,showAiDebugScores:!!(0,j.kc)().api_asset_search_with_scores})})}return o.length>0&&(o.unshift({element:n.createElement(ei.hK,{height:tn}),key:`${l}:spacer-top`,height:tn}),o.push({element:n.createElement(ei.hK,{height:ta}),key:`${l}:spacer-bottom`,height:ta})),o}function tc({elements:e,hideScrollbar:t,initialScrollTop:l,onScroll:a,anchorScroll:r,role:i}){let s=n.useRef(null),o=(0,es.Te)({count:e.length,getScrollElement:()=>s.current,estimateSize:t=>e[t].height,getItemKey:t=>e[t].key,paddingEnd:8,overscan:6,initialOffset:l}),c=function({scrollContainerRef:e,initialScrollTop:t,onScroll:l,enabled:a,virtualizer:r,getKeys:i}){let[s,o]=n.useState(t??e.current?.scrollTop),[c,d]=n.useState(e.current?.scrollHeight),{width:u}=e4(),p=(0,ep.ZC)(u),m=n.useCallback((e,t)=>{if(!t)return{keys:[],offset:void 0};let l=e.getVirtualItems().find(e=>e.start>=t);return l?{keys:i(l),offset:l.start-t}:{keys:[],offset:void 0}},[i]),[h,_]=n.useState(()=>m(r,t??e.current?.scrollTop)),g=n.useCallback((e,t)=>{l?.(e,t),a&&(o(e),_(m(r,e)))},[a,m,l,r]);return n.useEffect(()=>{let t=p&&u&&p!==u,l=e.current?.scrollHeight&&c&&e.current?.scrollHeight!==c;if(t&&d(e.current?.scrollHeight),void 0!==s&&void 0!==h.offset&&a&&t&&l){let t=r.getVirtualItems().find(e=>i(e).some(e=>h.keys.includes(e)));if(t)r.scrollToOffset(t.start-h.offset);else{let t=s/c,l=e.current.scrollHeight*t;r.scrollToOffset(l)}}},[h.keys,h.offset,a,i,p,e,c,s,r,u]),g}({enabled:r,scrollContainerRef:s,initialScrollTop:l,onScroll:a,virtualizer:o,getKeys:n.useCallback(t=>{let l=e[t.index];return l?l.keys??[l.key]:[]},[e])}),[d,u]=(0,eo.useAtom)(ti);return n.useEffect(()=>{if(!d)return;let t=e.findIndex(e=>"preset_libraries_header"===e.key);-1!==t&&(o.scrollToIndex(t,{align:"start"}),u(!1))},[e,o,u,d]),n.createElement(ei.xU,{scrollContainerRef:s,hideScrollbar:t,initialScrollTop:l,onScroll:c},n.createElement("div",{style:{height:`${o.getTotalSize()}px`,width:"100%",position:"relative"},role:i},o.getVirtualItems().map(t=>n.createElement("div",{key:t.key,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${t.start}px)`}},e[t.index].element))))}var td=l(834825),tu=l(33011),tp=l(769849),tm=l(906597),th=l(957020),t_=l(817395),tg=l(587518),ty=l(813951);function tf(e){let t=(0,ek.ke)(e.name),l=e.type===th.PW.RESPONSIVE_SET?e.containingFrame?.name:e.containing_frame?.name;return l?[l,...t]:t}function tE(e,t="",{isPreset:l,sortingFn:n}={isPreset:!1,sortingFn:void 0}){let a=new Map,r=[];n?e.sort(n):(0,F.gO)(e,{sortFn:e=>tf(e).join("/"),priorityFn:e=>(0,F.Nz)(e,{isPreset:l})});let i=Object.create(null);for(let l of e){let e=tf(l),n="";for(let s=0;s<e.length;s++){let o=e[s],c=n,d=s<e.length-1;n+=o+(d?"/":"");let u=null;if(i[c]&&(u=i[c]),d){let l=i[n]??{name:o,key:`${t}-${e.slice(0,s+1).join("/")}`,items:[],subtrees:new Map,type:tp.l$.NAME_GROUP,previewAsset:void 0};i[n]||(i[n]=l,u?u.subtrees.set(o,l):a.set(o,l))}d||(u?u.items.push(l):r.push(l))}}return a.forEach(e=>{(function e(t){t.previewAsset=tS(t),t.subtrees.forEach(t=>e(t))})(e)}),{sortedItems:r,sortedSubtrees:a}}function tb(e,t,{isPreset:l}){let n=new Map,{itemsByPageId:a,pageNamesByPageId:r,itemsWithoutPage:i}=(0,t_.tz)(e,e=>e),{itemsByPageId:s,pageNamesByPageId:o,itemsWithoutPage:d}=(0,t_.tz)(t,e=>e),u={...r,...o};(0,t_.fM)(a,u,i),(0,t_.fM)(s,u,d,!0);let p=Object.keys(u);for(let e of((0,F.gO)(p,{sortFn:e=>u[e],priorityFn:e=>(0,F.dS)(u[e],{isPreset:l})}),p)){let t=u[e],r=e in a?a[e]:void 0,i=r,o=[],d=null,p=null;if(r&&r.length>0){i=r.filter(e=>!(0,F.Nz)(e,{isPreset:l}));let{sortedItems:e,sortedSubtrees:t}=tE(o=r.filter(e=>(0,F.Nz)(e,{isPreset:l})),"examples",{isPreset:l});o.length>0&&(p={name:(0,c.t)("design_systems.assets_panel.examples"),items:e,subtrees:t,key:G.nE,type:tp.l$.COMPONENTS,previewAsset:void 0})}if(i&&i.length>0){let{sortedItems:e,sortedSubtrees:t}=tE(i,"components",{isPreset:l});d={name:(0,c.t)("design_systems.assets_panel.components"),items:e,subtrees:t,key:G.c_,type:tp.l$.COMPONENTS,previewAsset:void 0}}let m=null,h=s[e];if(h&&h.length>0){let{sortedItems:e,sortedSubtrees:t}=tE(h,"templates",{isPreset:l});m={name:(0,c.t)("design_systems.assets_panel.templates"),items:e,subtrees:t,key:G.JS,type:tp.l$.TEMPLATES,previewAsset:void 0}}let{sortedItems:_,sortedSubtrees:g}=tE([...o??[],...i??[],...h??[]],"assets",{isPreset:l}),y={name:t,items:_,subtrees:g,key:G.Mk,type:tp.l$.COMPONENTS,previewAsset:void 0},f={name:t,id:e,previewAsset:function({componentSubtree:e,exampleSubtree:t,templateSubtree:l}){let n=tS(t),a=tS(l),r=tS(e);return n||a||r}({componentSubtree:d,exampleSubtree:p,templateSubtree:m}),components:d,examples:p,templates:m,assets:y,type:G.yW.DESIGN};n.set(e,f)}return n}function tv(e,t,l,n){let a=new Map,{itemsByPageId:r,pageNamesByPageId:i,itemsWithoutPage:s}=(0,t_.tz)(e,e=>({containing_frame:e.containingFrame??void 0}));(0,t_.fM)(r,i,s);let o=Object.keys(i);for(let e of((0,td.v7)(o,e=>i[e]),o)){let n=i[e],s=r[e]??[];if(!n||0===s.length)continue;let{sortedItems:o,sortedSubtrees:c}=tE(s,"assets",{sortingFn:l}),d={name:n,items:o,subtrees:c,key:G.Mk,type:tp.l$.RESPONSIVE_SETS,previewAsset:void 0},u={name:n,id:e,previewAsset:t[e]??tS(d),assets:d,type:G.yW.SITE,numAssets:function e(t){return t.items.length+Array.from(t.subtrees.values()).reduce((t,l)=>t+e(l),0)}(d)};a.set(e,u)}if(n){let e=(0,ty.u)();if(e.length>0){let t={name:(0,c.t)("design_systems.assets_panel.embeds"),id:"embeds",embeds:e,previewAsset:void 0,assets:{name:"",items:[],subtrees:new Map,key:"EMPTY_ASSETS_NOT_USED",type:tp.l$.COMPONENTS,previewAsset:void 0},type:G.yW.SITE,numAssets:e.length};a.set("embeds",t)}}return a}function tC(e,t){let{allItems:l,publishedItems:n,privateItems:a,numPublished:r}=e;return r>0&&t&&a.length>0?n:l}function tk(e){let t=Array.from(e.items.values());for(let[l,n]of e.subtrees.entries())t.push(...tk(n));return t}function tS(e){let t=e?tk(e):[];return t.length>0?t[0]:void 0}var tw=l(473982),tN=l(805302);let tT=(0,eo.atomFamily)(()=>(0,tw.rt)(0));function tI({libraryKey:e,pageId:t,folderPath:l}={}){let{lastNavAction:a}=(0,tN.ZX)(),r=a===tN.r6.Back||a===tN.r6.Mount||a===tN.r6.ToggleView&&!l,[i,s]=(0,eo.useAtom)(tT("libraries")),[o,c]=(0,eo.useAtom)(tT(`pages-${e}`)),[d,u]=(0,eo.useAtom)(tT(`assets-${e}-${t}-${(l??[]).join("-")}`));return{librariesScrollTop:r?i:0,pagesScrollTop:r?o:0,assetsScrollTop:r?d:0,handleScrollLibraries:n.useCallback(e=>{s(e)},[s]),handleScrollPages:n.useCallback(t=>{e&&c(t)},[c,e]),handleScrollAssets:n.useCallback(l=>{e&&t&&u(l)},[u,e,t])}}function tA({elementMinSize:e,spaceAvailable:t,gap:l}){return Math.max(1,Math.floor((t+l)/(e+l)))}function tx({numElements:e,spaceAvailable:t,gap:l}){return Math.floor((t-(e-1)*l)/e)}function tM({width:e,widthToHeightRatio:t=1,maxHeight:l}){let n=Math.floor(e/t);return void 0===l?Math.max(0,n):Math.max(0,Math.min(l,n))}let tP=(0,D.jz)(q.H0),tL=2*(0,D.jz)(q.Mj),tR={NORMAL:115,WIDE:void 0,SMALL:72},tO={minColumns:2,maxColumns:3,aspectRatio:1,maxHeight:tR.NORMAL},tD={minColumns:1,maxColumns:1,aspectRatio:3.25,maxHeight:tR.WIDE},tF={minColumns:3,maxColumns:5,aspectRatio:1,maxHeight:tR.SMALL},tB=e=>{switch(e){case B.rp.WIDE:return tD;case B.rp.SMALL:return tF;default:return tO}};function tK(e,t){let[l]=(0,en.MA)(),a=n.useMemo(()=>t&&"grid"===l?t:[],[l,t]),r=n.useMemo(()=>a.every(e=>e.fullPage)?.85:Math.max(a.map(e=>e.mainThumbnailInfo.width/e.mainThumbnailInfo.height).reduce((e,t)=>Math.abs(t-1)<Math.abs(e-1)?t:e),.7),[a]),i=e-tL,s=n.useMemo(()=>tA({elementMinSize:144,gap:tP,spaceAvailable:i}),[i]),o=r>1?1:Math.min(2,s),c=n.useMemo(()=>tx({numElements:o,gap:tP,spaceAvailable:i}),[o,i]),d=n.useMemo(()=>tM({width:c,widthToHeightRatio:r,maxHeight:void 0}),[r,c]);return"list"===l||0===a.length?{tileWidth:40,tileHeight:40,numColumns:1}:{tileWidth:c,tileHeight:d,numColumns:o}}function tG(){let{width:e}=e4(),{componentLayouts:t,exampleLayout:l}=function({sidebarWidth:e}){let t=n.useMemo(()=>e-tL,[e]),l=n.useMemo(()=>{let e={};for(let l of[B.rp.NORMAL,B.rp.WIDE,B.rp.SMALL]){let{minColumns:n,maxColumns:a,aspectRatio:r,maxHeight:i}=tB(l),s=Math.max(Math.min(a,tA({elementMinSize:i??t,gap:tP,spaceAvailable:t})),n),o=tx({numElements:s,gap:tP,spaceAvailable:t}),c=tM({width:o,maxHeight:i,widthToHeightRatio:r});e[l]={width:o,height:c,columns:s}}return e},[t]),a=n.useMemo(()=>Math.max(tA({elementMinSize:200,gap:tP,spaceAvailable:t}),1),[t]),r=n.useMemo(()=>tx({numElements:a,gap:tP,spaceAvailable:t}),[a,t]),i=n.useMemo(()=>tM({width:r,widthToHeightRatio:1.5,maxHeight:200}),[r]);return n.useMemo(()=>({componentLayouts:l,exampleLayout:{width:r,height:i,columns:a}}),[l,a,r,i])}({sidebarWidth:e}),[a,r]=n.useMemo(()=>{let e={},l={};for(let[n,a]of Object.entries(t))e[n]={thumbHeight:a.height,thumbWidth:a.width,viewMode:eR.Bk.Grid,thumbLayout:n,sourceForTracking:eR.mZ,displayType:"grid"},l[n]=a.columns;return[e,l]},[t]),i=n.useMemo(()=>({thumbHeight:l.height,thumbWidth:l.width,viewMode:eR.Bk.Grid,thumbLayout:B.rp.NORMAL,sourceForTracking:eR.mZ,displayType:"grid"}),[l.height,l.width]),s=n.useMemo(()=>({thumbHeight:40,thumbWidth:40,viewMode:eR.Bk.List,thumbLayout:B.rp.NORMAL,sourceForTracking:eR.mZ,displayType:"list"}),[]);return n.useMemo(()=>({componentTilePropsByLayout:a,numColumnsByLayout:r,listProps:s,exampleTileProps:i,numExampleColumns:l.columns}),[a,r,s,i,l.columns])}function tV(e,t,l,n=!1){return"list"===t?{props:e.listProps,numColumns:1}:n?{props:e.exampleTileProps,numColumns:e.numExampleColumns}:{props:e.componentTilePropsByLayout[l],numColumns:e.numColumnsByLayout[l]}}var tH=l(271646),tU=l(259577),tz=l(524940),tW=l(285024),tj=l(354592),t$=l(732767);let tY=(0,D.jz)(q._K);function tX({asset:e,sectionNameForTracking:t,sectionDepth:l,sectionPosition:a,keyboardPosition:r,isFirstTile:i=!1,keyboardPanelDepth:s=0,thumbHeight:d,thumbWidth:u,libraryName:p,hideName:m=!1}){let h=(0,ek.kH)(e.name),{currentView:_,folderPath:g}=(0,k.wV)(),[y]=(0,en.ye)(),[f]=(0,en.MA)(),E="list"===f,b=n.useMemo(()=>({...r,path:[G.ON.CONTENTS,G.lM.ASSETS+s,...r.path]}),[r,s]),v=_===k.S5.Assets&&g&&y&&(g?.length??0)>s,{setKeyboardNavigationElement:C,keyboardNavigationItem:S}=(0,K.M3)({...b,id:(0,ec.V)(e),disabled:v});(0,el.C0)(S,i&&_===k.S5.Assets&&!v);let{logInsert:w}=tZ({item:e,sectionNameForTracking:t,sectionPosition:a,sourceForTracking:eR.mZ,isList:E}),N=n.useCallback(()=>{w("drag"),(0,eI.$z)()},[w]),T=n.useMemo(()=>({sourceForTracking:eR.mZ,sectionNameForTracking:t,sectionDepth:l,afterSuccessfulInsert:N}),[l,t,N]),I=function({item:e,sectionNameForTracking:t,sectionPosition:l,sourceForTracking:a,isList:r}){let i=(0,ed.wA)(),{logInsert:s,logKeyboardInsert:o}=tZ({item:e,sectionNameForTracking:t,sectionPosition:l,sourceForTracking:a,isList:r}),c=n.useCallback(()=>{i((0,tz.jR)({item:e,insertAsChildOfCanvas:!1,useSmartPositioning:!0})),(0,eI.$z)()},[i,e]);return n.useCallback(e=>{let t=0===e.detail;t&&o(),s(t?"keyboard":"click"),c()},[c,s,o])}({item:e,sectionNameForTracking:t,sectionPosition:a,sourceForTracking:eR.mZ,isList:E}),A=n.useMemo(()=>(0,tj.NR)(h),[h]),{listProps:x}=tG();return n.createElement(V.E,{className:E?W()("asset_panel_responsive_set_tile--tileList--3j7Tn asset_panel_responsive_set_tile--_tileBase--NnHE4 asset_panel_tile--button--oNPUz",ej):W()("asset_panel_responsive_set_tile--tileGrid--C-Qj3 asset_panel_responsive_set_tile--_tileBase--NnHE4 asset_panel_tile--button--oNPUz",e$),ref:C,onClick:I,"aria-label":A},n.createElement("div",{className:W()(E?eZ:eX,o.s.relative.$)},n.createElement(eB.lX,{item:e,draggable:T,showName:E,height:E?x.thumbHeight:d,width:E?x.thumbWidth:u,alwaysShowBorder:!1,shouldHideTooltip:!0,displayType:E?"list-no-padding":"grid",useBaseTile:!0,thumbWrapperClassName:"asset_panel_responsive_set_tile--thumbWrapper--3Geap asset_panel_tile--thumbWrapper--bNG-Y",sectionPosition:a,thumbPaddingGrid:tY}),e.fullPage&&!E&&n.createElement(tH.Ex,{text:(0,c.tx)("design_systems.assets_panel.responsive"),color:tH.zE.DEFAULT,className:"asset_panel_responsive_set_tile--responsiveBadge---jB7i"})),!m&&!E&&n.createElement(n.Fragment,null,n.createElement("div",{className:eW,style:{width:u-2}},n.createElement(tU.G,{text:A})),p&&n.createElement("div",{style:{width:u-2}},n.createElement(tU.G,{text:p,className:W()(eU,ez)}))))}function tZ({item:e,sectionNameForTracking:t,sectionPosition:l,sourceForTracking:r,isList:i}){let s=(0,t$.Nv)(!0),o=(0,u.tS)(),c=(0,k._m)(),d=(0,e1.Ew)({assetKey:(0,tW.u2)(e),assetLibraryKey:e.sourceLibraryKey,assetType:e.type,isList:i,sectionNameforTracking:t,sectionPosition:l,sourceForTracking:r??eR.mZ,isExample:!1,partnerType:void 0}),p=!!d.searchSessionId,m=n.useCallback(t=>{let{type:l,sectionPosition:n,searchQuery:r,searchSessionId:i,...o}=d;a.az.trackDefinedEvent("asset_search.result_inserted",{...o,aiResultsEnabled:s,assetType:l,position:n,reciprocalRank:1/(1+n),query:r,sessionId:i,entryPoint:eR.mZ}),a.az.trackDefinedEvent("assets_panel.site_kit_inserted",{assetName:(0,tj.NR)((0,ek.kH)(e.name)),type:"responsive set",group:e.containingFrame?.pageName,isFullPage:e.fullPage,fileKey:d.fileKey,fileTeamId:d.fileTeamId,fileOrgId:d.fileOrgId,sectionPosition:n,searchQuery:d.searchQuery,searchSessionId:d.searchSessionId,searchType:p?c?"site kit":"all":void 0,viewMode:d.viewMode?.toLocaleLowerCase(),queryId:d.queryId,action:t})},[d,s,c,p,e.containingFrame?.pageName,e.fullPage,e.name]),h=n.useCallback(()=>{a.az.trackDefinedEvent("assets_panel.keyboard_insert",{...d,aiResultsEnabled:s,assetsPanelVersion:3,fileKey:o??void 0})},[d,s,o]);return n.useMemo(()=>({logInsert:m,logKeyboardInsert:h}),[m,h])}var tq=l(109388),tJ=l(805014),tQ=l(851169),t0=l(612724),t1=l(826943),t5=l(338584),t3=l(284807),t4=l(366172),t2=l(368418),t6=l(787348),t7=l(416630),t8=l(589781),t9=l(83798);let le=2*(0,D.jz)(q.Mj);function lt({embeds:e}){let{thumbWidth:t,thumbHeight:l}=function(){let[e]=(0,en.MA)(),{width:t}=e4(),{listProps:l}=tG();if("list"===e)return{thumbWidth:l.thumbWidth,thumbHeight:l.thumbHeight};let n=Math.floor(t-le),a=Math.floor(n/2);return{thumbWidth:n,thumbHeight:a}}();return n.createElement(n.Fragment,null,e.map((e,a)=>n.createElement(ll,{key:e.name,embed:e,sectionPosition:a,keyboardPosition:{path:[G.ON.CONTENTS,G.lM.ASSETS,a],column:null},thumbHeight:l,thumbWidth:t,isFirstTile:0===a})))}function ll({embed:e,sectionPosition:t,keyboardPosition:l,sectionNameForTracking:r="Site kit",isFirstTile:i=!1,thumbHeight:s,thumbWidth:c,libraryName:d}){var u;let[p]=(0,en.MA)(),m="list"===p,{currentView:h}=(0,k.wV)(),_=function(e,t,l){let[r]=(0,en.MA)(),i=(0,e1.Ew)({assetKey:e.name,assetLibraryKey:(0,tu.l)(tg.z0),assetType:"embed",isList:"list"===r,sectionNameforTracking:l,sectionPosition:t,sourceForTracking:eR.mZ,isExample:!1,partnerType:void 0}),s=(0,k._m)();return n.useCallback(l=>{a.az.trackDefinedEvent("asset_search.result_inserted",{...i,entryPoint:eR.mZ});let n=!!i.searchSessionId;a.az.trackDefinedEvent("assets_panel.site_kit_inserted",{assetName:e.name,type:"embed",group:"Embeds",fileKey:i.fileKey,fileTeamId:i.fileTeamId,fileOrgId:i.fileOrgId,sectionPosition:t,searchQuery:i.searchQuery,searchSessionId:i.searchSessionId,searchType:n?s?"site kit":"all":void 0,viewMode:i.viewMode?.toLocaleLowerCase(),queryId:i.queryId,action:l}),"keyboard"===l&&a.az.trackDefinedEvent("assets_panel.keyboard_insert",i)},[i,e.name,s,t])}(e,t,r),{onInsertableResourcePointerDown:g,dragState:y}=(u={resource:e,clickToInsert_DEPRECATED:!1,afterSuccessfulInsert:()=>{_("drag"),(0,eI.$z)()}},(0,t2.t)({...u},{insertAction:e=>{let t=e.pointerPercentageOffset||new t0.Mi;return la(u.resource,e.dropPosition,t),Promise.resolve()},dragPreviewPointerPosition:t6.N.CENTERED,getDragPreviewSrc:()=>u.resource.preview_url,onPointerDownCallback:()=>{tJ.glU.setShowHTMLWidgetCanvasDragAndDropOutlines(!0,{x:u.resource.width,y:u.resource.height})},onPointerUpCallback:()=>{tJ.glU.setShowHTMLWidgetCanvasDragAndDropOutlines(!1,null)},recordingKey:em.Pt("html-widget",u.resource.name)})),f=tQ.nc.user("insert-embed",g),E=n.useMemo(()=>({...l,path:[G.ON.CONTENTS,G.lM.ASSETS,...l.path]}),[l]),{setKeyboardNavigationElement:b,keyboardNavigationItem:v}=(0,K.M3)({...E});(0,el.C0)(v,i&&h===k.S5.Assets);let C=n.useCallback(t=>{let l=t4.Y5.getViewportInfo();la(e,new t0.Mi(l.offsetX,l.offsetY),new t0.Mi(.5,.5)),_(t),(0,eI.$z)()},[e,_]),S=n.useCallback(()=>C("keyboard"),[C]),w=n.useCallback(()=>C("click"),[C]),N=(0,el.MB)({onKeyDown:S,onClick:w}),T=m?t9.vZ:eW,I=!m&&e.thumbnail_padding?`${e.thumbnail_padding}px`:void 0;return n.createElement(n.Fragment,null,n.createElement(lr,{dragState:y,opacityOverride:.5}),n.createElement(t3.n.div,{onPointerDown:f,className:o.s.flex.if(m,o.s.wFull).$},n.createElement(V.E,{className:m?"site_kit_embeds--buttonList--dJCdj site_kit_embeds--_buttonBase--PU9Mw asset_panel_tile--tileWrapperList--VMlzj asset_panel_tile--_tileWrapperBase--OAJqM library_item_tile--tileListLargeNoPadding--QnDtc library_item_tile--tile--okxBn library_item_tile--_variantHover--xfLPt library_item_tile--_tileListBase--jZpFH":"site_kit_embeds--buttonGrid--iiN-l site_kit_embeds--_buttonBase--PU9Mw",ref:b,onClick:N},n.createElement("div",{className:W()(eY,"site_kit_embeds--thumbContainer--SgHWz"),style:{width:c,height:s}},n.createElement("div",{className:"site_kit_embeds--thumbBackground--6lvXw",style:{backgroundColor:e.background_color,padding:I}},n.createElement(t1.oW,{src:e.thumbnail_url,className:"site_kit_embeds--thumbnail---2jDe"}))),n.createElement("div",{className:T,style:m?void 0:{width:c-2}},n.createElement(tU.G,{text:e.name})),d&&!m&&n.createElement("div",{style:{width:c-2}},n.createElement(tU.G,{text:d,className:W()(eU,ez)})))))}let ln=(0,t7.P)("recently-used-site-embeds","name",t5.object({name:t5.string()}),{transform:e=>({name:e.name})});function la(e,t,l){eo.atomStore.set(ln,e),tQ.l7.user("insert-embed",()=>{tJ.glU.insertEmbed(e.initial_url,{x:t.x,y:t.y,percentOffsetX:l.x,percentOffsetY:l.y},!1,{x:e.width,y:e.height})})}function lr(e){let t=e.dragState;if(!t?.dragPosition||!t?.grabbedPointerPercentageOffset)return null;let l=function(e){let{draggingResource:t}=e,{zoomScale:l,x:n}=t4.Y5.getViewportInfo(),a=e.dragPosition?.x;return(!a||a<n)&&e.draggingThumbSize?e.draggingThumbSize:new t0.Mi(t.width,t.height).scale(l)}(t),a=t.dragPosition;return a=a.subtract(new t0.Mi(t.grabbedPointerPercentageOffset.x*l.x,t.grabbedPointerPercentageOffset.y*l.y)),(0,tq.createPortal)(n.createElement("div",{className:W()(t8.Wy,{[t8.ce]:t.isDraggingOverCanvas}),style:{left:a.x,top:a.y,width:l?.x,height:l?.y,maxWidth:t.draggingThumbMaxDimensions?.x||void 0,maxHeight:t.draggingThumbMaxDimensions?.y||void 0,zIndex:e.zIndexOverride,opacity:e.opacityOverride?e.opacityOverride:1}},n.createElement(t1.oW,{src:t.draggingResource.preview_url,alt:""})),document.getElementById("fullscreen-root"))}let li=(0,D.jz)(q.HE),ls=(0,D.jz)(q._q),lo=(0,D.jz)(q.RQ),lc=(0,D.jz)(q.$c),ld=(0,D.jz)(q.d5);function lu({page:e,libraryKey:t}){let{assetsScrollTop:l,handleScrollAssets:a}=tI({libraryKey:t,pageId:e.id}),[r]=(0,en.MA)(),{width:i}=e4(),s=n.useMemo(()=>tk(e.assets),[e.assets]),{tileHeight:o,tileWidth:c,numColumns:d}=tK(i,s),u=n.useMemo(()=>{let e=[];return e.push(...l_(s,d,c,o,r,"assets","Site kit",[G.tM.COMPONENTS],{includesFirstTile:!0,hideNameForNonFullPageBlocks:!0})),e},[s,r,d,o,c]);return n.createElement(tc,{elements:u,initialScrollTop:l,onScroll:a,anchorScroll:!0,role:r})}function lp({subtree:e,currentFolderPath:t,hideScrollbar:l,onScroll:a,initialScrollTop:r,role:i}){let s=lm({subtree:e,currentFolderPath:t});return n.createElement(tc,{elements:s,hideScrollbar:l,onScroll:a,initialScrollTop:r,role:i})}let lm=({subtree:e,currentFolderPath:t})=>{let{folderPath:l}=(0,k.wV)(),[a]=(0,en.MA)(),{width:r}=e4(),{tileHeight:i,tileWidth:s,numColumns:o}=tK(r,e?.items),c=t.join("/"),d=t.length,u=l?.length??0,p=n.useCallback(({subtree:e,elements:t})=>{let l=e.items.length>0;if(l){let l=[G.tM.COMPONENTS];t.push(...l_(e.items,o,s,i,a,e.key,"Site kit",l,{includesFirstTile:d===u,keyboardPanelDepth:d,depth:d,hideNameForNonFullPageBlocks:!0}))}let r=Array.from(e.subtrees.values());l&&r.length>0&&t.push({element:n.createElement(ei.cG,null),key:"divider",height:lo}),r.forEach((l,r)=>{t.push({element:n.createElement(ea,{subtree:l,index:r+e.items.length,keyPrefix:c,depth:d}),key:l.key,height:"list"===a?li:ls})})},[o,s,i,d,u,c,a]);return n.useMemo(()=>{let t=[];return e&&p({subtree:e,elements:t}),t},[p,e])};function lh(e){return e.type===th.PW.RESPONSIVE_SET}function l_(e,t,l,a,r,i,s,o,c={}){let d=[];for(let u=0;u<e.length;u+=t){let p=e.slice(u,u+t),m=[];p.forEach((e,r)=>{let d=u+r;lh(e)?m.push(n.createElement(tX,{key:`${i}-${(0,ec.V)(e)}`,asset:e,sectionNameForTracking:s,sectionPosition:u+r,sectionDepth:c?.depth,keyboardPosition:(0,el.pg)(o,d,t),isFirstTile:c?.includesFirstTile&&0===d,keyboardPanelDepth:c?.keyboardPanelDepth,thumbHeight:a,thumbWidth:l,libraryName:c.libraryKeyToLibraryName?.(e),hideName:lg(e,!!c.hideNameForNonFullPageBlocks)})):m.push(n.createElement(ll,{embed:e,key:e.name,sectionNameForTracking:s,sectionPosition:u+r,keyboardPosition:(0,el.pg)(o,d,t),isFirstTile:c?.includesFirstTile&&0===d,thumbHeight:a,thumbWidth:l,libraryName:c.libraryKeyToLibraryName?.(e)}))});let h=p[0];d.push({element:n.createElement("div",{className:"list"===r?e9:0===u?e8:e7,role:"row"},m),key:`${i}:row-${u/t}`,keys:p.map(e=>lh(e)?(0,ec.V)(e):e.name),height:ts(a,r,{showFileName:!!c.libraryKeyToLibraryName,hasTopPadding:0!==u,showAiDebugScores:!!(0,j.kc)().api_asset_search_with_scores,hideAssetName:lg(h,!!c.hideNameForNonFullPageBlocks)})})}return d.length>0&&(d.unshift({element:n.createElement(ei.hK,{height:lc}),key:`${i}:spacer-top`,height:lc}),d.push({element:n.createElement(ei.hK,{height:ld}),key:`${i}:spacer-bottom`,height:ld})),d}function lg(e,t){return!!e&&e.type===th.PW.RESPONSIVE_SET&&t&&!e.fullPage}function ly({children:e,index:t,width:l}){let a=(0,eo.useAtomValue)(et.h),r=n.useMemo(()=>e.flat().filter(e=>!!e),[e]),i=n.useMemo(()=>{let e=lf(-Math.min(t,r.length-1)),l=`translateX(${e})`;return{transform:l,WebkitTransform:l}},[r.length,t]),s=W()("slide_carousel--container--1f4th",{"slide_carousel--noTransition--0heGr":a});return n.createElement("div",{style:i,"data-testid":"slide-carousel",className:s},r.map((e,a)=>n.createElement("div",{className:"slide_carousel--item--w20ND",style:{width:l},key:a,"data-testid":"slide-carousel-item","aria-hidden":a!==t},e)))}let lf=e=>`${100*e}%`,lE=(0,D.jz)(q.HE),lb=(0,D.jz)(q._q),lv=(0,D.jz)(q.ce),lC=(0,D.jz)(q.RQ);function lk({page:e,width:t}){let{libraryKey:l,currentView:a}=(0,k.wV)(),{getPage:r}=(0,er.G)(),[i]=(0,en.ye)(),{previousPageId:s}=(0,k.RR)(),o=n.useMemo(()=>a===k.S5.Pages?r(l,s):e,[a,r,l,e,s]);if(!l||!o)return n.createElement("div",{style:{width:t}});if((0,G.AZ)(o))return n.createElement(lA,{page:o});if(i)return n.createElement(lw,{page:o,width:t});switch(o.type){case G.yW.DESIGN:return n.createElement(lS,{page:o,libraryKey:l});case G.yW.SITE:return n.createElement(lu,{page:o,libraryKey:l})}}function lS({page:e,libraryKey:t}){let{assetsScrollTop:l,handleScrollAssets:a}=tI({libraryKey:t,pageId:e.id}),[r]=(0,en.MA)(),i=tG(),{componentSectionNameForTracking:s,templateSectionNameForTracking:o}=(0,et.zf)(),d=n.useMemo(()=>{let t=[];if(e.templates){let l=tk(e.templates),{props:a,numColumns:s}=tV(i,r,B.rp.NORMAL,!0);t.push({element:n.createElement(ei.X3,{title:(0,c.t)("design_systems.assets_panel.templates")}),key:"templates:header",height:lv}),t.push(...to(l,s,"templates",a,o,[G.tM.TEMPLATES],{includesFirstTile:!0}))}if(e.examples){let l=tk(e.examples),{props:n,numColumns:a}=tV(i,r,B.rp.NORMAL,!0);t.push(...to(l,a,"examples",n,s,[G.tM.EXAMPLES],{includesFirstTile:!0,isExample:!0}))}if(e.components){e.templates&&t.push({element:n.createElement(ei.X3,{title:(0,c.t)("design_systems.assets_panel.components")}),key:"components:header",height:lv});let l=tk(e.components),{props:a,numColumns:o}=tV(i,r,(0,B.PI)(l,!0));t.push(...to(l,o,"components",a,s,[G.tM.COMPONENTS],{includesFirstTile:!e.templates&&!e.examples}))}return t},[e.templates,e.examples,e.components,i,r,o,s]);return n.createElement(tc,{elements:d,initialScrollTop:l,onScroll:a,anchorScroll:!0,role:r})}function lw({page:e,width:t}){let{libraryKey:l,pageId:a,folderPath:r}=(0,k.wV)(),{getFolder:i}=(0,er.G)(),{previousFolderPath:s,previousPageId:o}=(0,k.RR)(),[c,d]=n.useMemo(()=>{let t=[],c=s??r??[],d=0;for(let s=-1;s<c.length;s++){let u=c.slice(0,s+1),p=i(l,a??o,u);if(p){if((0,k.xc)(p))continue;t.push(n.createElement(lT,{page:e,currentFolderPath:u,key:`components-${u?u.join("/"):"root"}`})),s===(r??[]).length-1&&(d=t.length-1)}}return[t,d]},[r,i,l,e,a,s,o]);return n.createElement(ly,{index:d,width:t},c)}function lN(e,t){let l=e;for(let e of t){let t=l.subtrees.get(e);if(!t)return null;l=t}return l}function lT({page:e,currentFolderPath:t}){let[l]=(0,en.MA)(),a=n.useMemo(()=>e.type===G.yW.DESIGN?lN(e.assets,t):null,[t,e.assets,e.type]),r=n.useMemo(()=>e.type===G.yW.SITE?lN(e.assets,t):null,[t,e.assets,e.type]),{folderPath:i,pageId:s,libraryKey:o}=(0,k.wV)(),c=(0,R.fd)(o),d=t.length,u=i?.length??0,{assetsScrollTop:p,handleScrollAssets:m}=tI({libraryKey:o,pageId:s,folderPath:t});switch(e.type){case G.yW.DESIGN:return n.createElement(lI,{subtree:a,currentFolderPath:t,hideScrollbar:d<u,onScroll:m,initialScrollTop:p,role:l,isPreset:c});case G.yW.SITE:return n.createElement(lp,{subtree:r,currentFolderPath:t,hideScrollbar:d<u,onScroll:m,initialScrollTop:p,role:l})}}function lI({subtree:e,currentFolderPath:t,isPreset:l,hideScrollbar:a,onScroll:r,initialScrollTop:i,role:s}){let o=lx({subtree:e,currentFolderPath:t,isPreset:l});return n.createElement(tc,{elements:o,hideScrollbar:a,onScroll:r,initialScrollTop:i,role:s})}function lA({page:e}){let[t]=(0,en.MA)();return n.createElement(ei.xU,null,n.createElement("div",{className:"grid"===t?"asset_panel_assets--embeds--kl79b":o.s.flex.flexColumn.itemsCenter.$},n.createElement(lt,{embeds:e.embeds})))}let lx=({subtree:e,currentFolderPath:t,isPreset:l})=>{let a=tG(),{componentSectionNameForTracking:r}=(0,et.zf)(),{folderPath:i}=(0,k.wV)(),[s]=(0,en.MA)(),o=t.join("/"),c=t.length,d=i?.length??0,u=n.useMemo(()=>!!(l&&e?.items)&&e?.items.every(e=>F.Nz(e,{isPreset:l})),[l,e?.items]),p=n.useCallback(e=>{let t=e.subtrees.values().next().value;return t&&(0,F.dS)(t.name,{isPreset:l})},[l]),m=n.useCallback(({subtree:e,elements:t})=>{let l=e.items.length>0,i=p(e);if(l){let l=[G.tM.COMPONENTS],{props:n,numColumns:i}=tV(a,s,(0,B.PI)(e.items,!0),u);t.push(...to(e.items,i,e.key,n,r,l,{hasHeader:!1,includesFirstTile:c===d,keyboardPanelDepth:c,isExample:u}))}let m=Array.from(e.subtrees.values());l&&m.length>0&&!i&&t.push({element:n.createElement(ei.cG,null),key:"divider",height:lC}),m.forEach((l,a)=>{t.push({element:n.createElement(ea,{subtree:l,index:a+e.items.length,keyPrefix:o,depth:c}),key:l.key,height:"list"===s?lE:lb}),0===a&&i&&m.length>1&&t.push({element:n.createElement(ei.cG,null),key:"examples_divider",height:lC})})},[p,a,s,u,r,c,d,o]);return n.useMemo(()=>{let t=[];return e&&m({subtree:e,elements:t}),t},[m,e])};var lM=l(632673),lP=l(62528),lL=l(236891),lR=l(139879),lO=l(918091),lD=l(910164),lF=l(47795),lB=l(692783),lK=l(265769),lG=l(85092),lV=l(378614),lH=l(165093);let lU="asset-panel-library-context-menu",lz=em.Pt("assetsLibrary","contextMenu"),lW=lO.ms,lj=lO.c$,l$=n.memo(({dropdownShown:e,usePortal:t})=>{let[{data:l}]=(0,lR.IT)((0,R.Re)(e?.data?.partnerType));if(!e||e.type!==lU)return null;let{data:a}=e;if(!a)return null;let{libraryHref:r,position:i,isLocalLibrary:s,hideUnsubscribe:o=!1,onGoToLibrary:d,onPublish:u,onUnsubscribe:p,onSendFeedback:m}=a,h=s?n.createElement(lj,{onClick:u,recordingKey:em.Pt(lz,"publishLibrary")},(0,c.tx)("design_systems.assets_panel.publish_library")):null,_=[h,o||s?null:n.createElement(lj,{onClick:p,recordingKey:em.Pt(lz,"unsubscribe")},(0,c.tx)("design_systems.assets_panel.remove_library_from_file")),s||!r?null:n.createElement(lj,{href:r,target:"_blank",recordingKey:em.Pt(lz,"goToLibrary"),onClick:d},(0,c.tx)("design_systems.assets_panel.go_to_library")),!s&&l?n.createElement(lj,{href:l,target:"_blank",recordingKey:em.Pt(lz,"sendFeedback"),onClick:m},(0,c.tx)("design_systems.assets_panel.send_feedback_to_creator")):null].filter(lL.Vq);if(!i||!_.length)return null;let g=n.createElement(lW,{style:lD.sx.add({top:`${i.top}px`,right:`${i.right}px`,bottom:`${i.bottom}px`,left:`${i.left}px`}).add(lD.sx.fixed).$},..._);return t?tq.createPortal(g,document.body):g});var lY=l(245954);let lX="asset-panel-page-context-menu",lZ=em.Pt("assetsLibrary","contextMenu"),lq=lO.ms,lJ=lO.c$,lQ=n.memo(({dropdownShown:e,usePortal:t})=>{if(!e||e.type!==lX)return null;let{data:l}=e;if(!l)return null;let{libraryPageHref:a,position:r,isLocalLibrary:i,onClickLocalPage:s,onClickSubscribedPage:o}=l;if(!r)return null;let d=i?n.createElement(lJ,{recordingKey:em.Pt(lZ,"goToLibrary"),onClick:s},(0,c.tx)("design_systems.assets_panel.go_to_page")):a?n.createElement(lJ,{href:a,target:"_blank",recordingKey:em.Pt(lZ,"goToLibrary"),onClick:o},(0,c.tx)("design_systems.assets_panel.go_to_page")):null;if(!d)return null;let u=n.createElement(lq,{style:lD.sx.add({top:`${r.top}px`,right:`${r.right}px`,bottom:`${r.bottom}px`,left:`${r.left}px`}).add(lD.sx.fixed).$},d);return t?tq.createPortal(u,document.body):u});function l0(){let e=(0,ed.d4)(e=>e.dropdownShown),t=(0,ed.d4)(lM.hK),l=e?.type===eK.K.ASSETS_PANEL&&!!e?.data?.component,a=e?.type===lX&&!!e?.data?.pageId,r=e?.type===lU&&!!e?.data,i=(0,lP.K)(!0),s=n.useContext(ex.U);return n.createElement(n.Fragment,null,l&&n.createElement(eK.h,{selectedView:t,dropdownShown:e,onJumpToLocalComponent:i,onOpenFlyout:s?.onOpenFlyout,usePortal:!0}),a&&n.createElement(lQ,{dropdownShown:e,usePortal:!0}),r&&n.createElement(l$,{dropdownShown:e,usePortal:!0}))}var l1=l(520244),l5=l(687925),l3=l(179462),l4=l(302246),l2=l(140835),l6=l(69664),l7=l(831231),l8=l(583044),l9=l(506989);let ne="asset_panel_library--library--5bw5-",nt="asset_panel_library--libraryCard--l0q0e",nl="asset_panel_library--libraryCardList--qG5I1 asset_panel_library--libraryCard--l0q0e",nn="asset_panel_library--libraryFooter--jXcDc",na="asset_panel_library--libraryFooterList--x3M2r asset_panel_library--libraryFooter--jXcDc",nr="asset_panel_library--libraryNameAndStats--uiY8T",ni="asset_panel_library--libraryPreviewSection--fRTrr",ns=(0,D.jz)(q.Sx),no=(0,D.jz)(q.T5);function nc({library:e,previewHeight:t,cardWidth:l,keyboardSection:r,rowIndex:i,columnIndex:s=0,hideUnsubscribe:o}){let{focusFirstItem:c,focusSearchBar:d}=(0,el.rl)(),{navigateToLibrary:p}=(0,k.wV)(),m=(0,u.q5)(),h=(0,eV.H)(e.libraryKey),[g]=(0,en.MA)(),y=((0,_.GM)()()?en.$H.LIST:g)===en.$H.LIST,f=(0,et.sN)(),E=n.useCallback(()=>{f("libraryCard",p(e.libraryKey))},[e.libraryKey,f,p]),{currentView:b}=(0,k.wV)(),v=b!==k.S5.Libraries,{setKeyboardNavigationElement:C}=(0,K.M3)({path:[G.ON.CONTENTS,G.lM.LIBRARIES,r,i],column:s,id:e.libraryKey,disabled:v}),S=(0,el.MB)({onBoth:E,onKeyDown:c,onClick:d}),w=n.useMemo(()=>{let t=e.libraryKey===m?.libraryKey?"localLibrary":e.libraryKey;return em.Pt("assetsLibrary",t)},[e.libraryKey,m?.libraryKey]),N=function(e,t=!1){let l=(0,u.q5)(),r=(0,ed.wA)(),i=e.libraryKey===l?.libraryKey,s=(0,eR._9)(e,"assets_panel_library_context_menu"),o=n.useCallback(()=>s(!1),[s]),c=function(){let e=(0,ed.wA)(),t=(0,u.q5)(),l=(0,ed.d4)(e=>e.teams),a=(0,ed.d4)(eN.fA),r=n.useCallback(()=>{e(e0.to({type:lG.dD,data:{entrypoint:lV.RR.ASSET_PANEL_LIBRARY_CONTEXT_MENU}}))},[e]),i=t?.teamId&&l[t.teamId],s=n.useCallback(()=>{e(e0.to({type:lH.$3,data:{afterFileMove:r,team:i||null}}))},[e,r,i]);return n.useCallback(()=>{a?r():s()},[a,r,s])}(),d=(0,lK.X)(e.libraryKey),p=(0,lB.b)({libraryKey:e.libraryKey}),m=p.data?.link,h=n.useCallback(()=>{a.az.trackDefinedEvent("assets_panel.go_to_library",{libraryKey:e.libraryKey,fileKey:l?.key,fileTeamId:l?.teamId??void 0,fileOrgId:l?.parentOrgId??void 0,entryPoint:"library_context_menu"})},[e.libraryKey,l]),_=n.useCallback(()=>{a.az.trackDefinedEvent("assets_panel.send_feedback_to_creator",{libraryKey:e.libraryKey,fileKey:l?.key,fileTeamId:l?.teamId??void 0,fileOrgId:l?.parentOrgId??void 0,entryPoint:"library_context_menu",partnerType:d})},[e.libraryKey,l,d]),g=n.useCallback(()=>{a.az.trackDefinedEvent("assets_panel.open_library_context_menu",{libraryKey:e.libraryKey,fileKey:l?.key,fileTeamId:l?.teamId??void 0,fileOrgId:l?.parentOrgId??void 0})},[e.libraryKey,l]);return n.useCallback(l=>{e.type!==G.yW.SITE&&(l.preventDefault(),l.stopPropagation(),r((0,lF.j7)({type:lU,data:{libraryHref:m,isLocalLibrary:i,partnerType:d,hideUnsubscribe:t,onGoToLibrary:h,onPublish:c,onUnsubscribe:o,onSendFeedback:_,position:{top:l.clientY,left:l.clientX}}})),g())},[e.type,r,m,i,d,t,h,c,o,_,g])}(e,o);return n.createElement($.GG,{className:ne,"aria-label":e.name,onClick:S,onContextMenu:N,forwardedRef:C,tabIndex:v?-1:0,style:{width:y?"100%":l},recordingKey:w},n.createElement(nd,{library:e,previewHeight:t,isList:y,showAuthor:h}))}function nd({library:e,previewHeight:t,isList:l,showAuthor:a}){let{thumbnailUrl:r}=e,[i,s]=n.useState(r),o=n.useMemo(()=>{if(i)return`url(${i})`},[i]),c=n.useCallback(()=>{s(r)},[r]),d=n.useMemo(()=>l?{height:ns,width:no}:{height:t},[l,t]);return n.createElement("div",{className:l?nl:nt},n.createElement("div",{className:ni},n.createElement("div",{style:{backgroundImage:o,...d},className:e.thumbnailShouldCover?"asset_panel_library--libraryPreviewCover---Jx5R asset_panel_library--libraryPreview--jl-5n":"asset_panel_library--libraryPreview--jl-5n"}),r&&n.createElement(t1.oW,{src:r,onLoad:c,className:"asset_panel_library--hiddenImage--a-LoJ",alt:""})),n.createElement(np,{library:e,isList:l,showAuthor:a}))}function nu({isList:e,previewHeight:t,cardWidth:l}){let a=n.useMemo(()=>e?{height:ns,width:no}:{height:t},[e,t]);return n.createElement("div",{className:ne,style:{width:e?"100%":l,pointerEvents:"none"},"data-testid":"asset-panel-loading-library"},n.createElement("div",{className:e?nl:nt},n.createElement("div",{className:W()(ni,o.s.radiusMedium.overflowHidden.$)},n.createElement(l9.Qp,{className:o.s.wFull.$,style:{...a},animationType:l9.JR.LIGHT_SHIMMER})),n.createElement("div",{className:e?na:nn},n.createElement("div",{className:W()(o.s.gap2.$,nr)},n.createElement(l9.Wi,{className:o.s.h16.$,style:{width:"15ch"},animationType:l9.JR.LIGHT_SHIMMER}),n.createElement(l9.Wi,{className:o.s.h16.$,style:{width:"10ch"},animationType:l9.JR.LIGHT_SHIMMER})))))}function np({library:e,isList:t,showAuthor:l}){let a=(0,eo.useAtomValue)(eV.Rs),r=(0,j.kc)().dse_editor_templates_v1,i=e.type!==G.yW.SITE,s=n.useMemo(()=>{if(e.type===G.yW.SITE)return"";let t=[];return e.numComponents>0&&t.push((0,c.t)("design_systems.assets_panel.num_components",{numComponents:e.numComponents})),r&&e.numTemplates>0&&t.push((0,c.t)("design_systems.assets_panel.num_templates",{numTemplates:e.numTemplates})),t.join(", ")},[e,r]),o=a?.[e.libraryKey]?.author_name||e.authorName;return n.createElement("div",{className:t?na:i?nn:"asset_panel_library--libraryFooterWithoutLibraryStats--FnrKN asset_panel_library--libraryFooter--jXcDc"},n.createElement("div",{className:nr},n.createElement("div",{className:"asset_panel_library--nameAndIconForList--UCm5F"},n.createElement("h3",{className:"asset_panel_library--libraryName--aege1 ellipsis--ellipsis--Tjyfa"},e.name),n.createElement("div",{className:"asset_panel_library--libraryIcon--6s19b"},n.createElement(ev.P,{libraryKey:e.libraryKey,compact:!0,showPresetTooltip:!0,colorPrimaryOnHover:!0,tooltipDelay:500,tooltipLocation:"below"}))),i&&n.createElement("div",{className:"asset_panel_library--libraryStats--JL9eF ellipsis--ellipsis--Tjyfa"},l?(0,c.tx)("community.by_publisher",{publisher:o}):s)))}function nm(){return n.createElement("svg",{width:"74px",height:"45px",viewBox:"0 0 76 46",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.90015 39.6787)",fill:"url(#pattern0_4378_11285)"}),n.createElement("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.90015 39.6787)",fill:"url(#pattern1_4378_11285)"}),n.createElement("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.90015 39.6787)",fill:"#85C9E4"}),n.createElement("g",{filter:"url(#filter0_dd_4378_11285)"},n.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 73 6)",fill:"url(#pattern2_4378_11285)"}),n.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 73 6)",fill:"url(#pattern3_4378_11285)"}),n.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 73 6)",fill:"#E5F4FF"}),n.createElement("g",{clipPath:"url(#clip0_4378_11285)"},n.createElement("g",{filter:"url(#filter1_d_4378_11285)"},n.createElement("rect",{x:"40.7627",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),n.createElement("rect",{x:"40.8477",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),n.createElement("path",{d:"M38.7913 22.7412L56.2288 40.1787M56.2288 22.7412L38.7913 40.1787M44.6973 22.46V40.46M47.5097 22.46V40.46M50.3225 22.46V40.46M56.51 28.6475L38.51 28.6475M56.51 31.4599L38.51 31.4599M56.51 34.2726L38.51 34.2726M53.135 31.46C53.135 34.5666 50.6166 37.085 47.51 37.085C44.4034 37.085 41.885 34.5666 41.885 31.46C41.885 28.3534 44.4034 25.835 47.51 25.835C50.6166 25.835 53.135 28.3534 53.135 31.46ZM50.3225 31.46C50.3225 33.0133 49.0633 34.2725 47.51 34.2725C45.9567 34.2725 44.6975 33.0133 44.6975 31.46C44.6975 29.9067 45.9567 28.6475 47.51 28.6475C49.0633 28.6475 50.3225 29.9067 50.3225 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),n.createElement("path",{d:"M46.8393 29.3914H46.3369C46.0243 29.3914 45.8679 29.3914 45.7485 29.4522C45.6435 29.5057 45.5582 29.591 45.5047 29.6961C45.4438 29.8155 45.4438 29.9719 45.4438 30.2845V32.4054C45.4438 32.718 45.4438 32.8742 45.5047 32.9936C45.5582 33.0986 45.6435 33.1841 45.7485 33.2376C45.8678 33.2984 46.024 33.2984 46.336 33.2984H48.4587C48.7706 33.2984 48.9266 33.2984 49.0459 33.2376C49.1509 33.1841 49.2365 33.0985 49.2901 32.9935C49.3508 32.8742 49.3508 32.7182 49.3508 32.4062V31.903M49.6299 30.5077V29.1123M49.6299 29.1123H48.2345M49.6299 29.1123L47.6764 31.0658",stroke:"#007BE5",strokeWidth:"0.558837",strokeLinecap:"round",strokeLinejoin:"round"}))),n.createElement("g",{clipPath:"url(#clip1_4378_11285)"},n.createElement("g",{filter:"url(#filter2_d_4378_11285)"},n.createElement("rect",{x:"55.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),n.createElement("rect",{x:"55.7447",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),n.createElement("path",{d:"M53.6882 22.7412L71.1257 40.1787M71.1257 22.7412L53.6882 40.1787M59.5943 22.46V40.46M62.4066 22.46V40.46M65.2194 22.46V40.46M71.407 28.6475L53.407 28.6475M71.407 31.4599L53.407 31.4599M71.407 34.2726L53.407 34.2726M68.032 31.46C68.032 34.5666 65.5136 37.085 62.407 37.085C59.3004 37.085 56.782 34.5666 56.782 31.46C56.782 28.3534 59.3004 25.835 62.407 25.835C65.5136 25.835 68.032 28.3534 68.032 31.46ZM65.2195 31.46C65.2195 33.0133 63.9603 34.2725 62.407 34.2725C60.8537 34.2725 59.5945 33.0133 59.5945 31.46C59.5945 29.9067 60.8537 28.6475 62.407 28.6475C63.9603 28.6475 65.2195 29.9067 65.2195 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),n.createElement("path",{d:"M64.911 33.9649L63.704 32.758M63.704 32.758C64.1063 32.3557 64.3552 31.7999 64.3552 31.186C64.3552 29.9582 63.3599 28.9629 62.1321 28.9629C60.9043 28.9629 59.9089 29.9582 59.9089 31.186C59.9089 32.4138 60.9043 33.4091 62.1321 33.4091C62.746 33.4091 63.3017 33.1603 63.704 32.758Z",stroke:"#007BE5",strokeWidth:"0.555781",strokeLinecap:"round",strokeLinejoin:"round"}))),n.createElement("g",{clipPath:"url(#clip2_4378_11285)"},n.createElement("g",{filter:"url(#filter3_d_4378_11285)"},n.createElement("rect",{x:"25.7114",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),n.createElement("rect",{x:"25.7964",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),n.createElement("path",{d:"M23.7397 7.68945L41.1772 25.127M41.1772 7.68945L23.7397 25.127M29.6458 7.4082V25.4082M32.4582 7.4082V25.4082M35.2709 7.4082V25.4082M41.4585 13.5957L23.4585 13.5957M41.4585 16.4081L23.4585 16.4081M41.4585 19.2209L23.4585 19.2209M38.0835 16.4082C38.0835 19.5148 35.5651 22.0332 32.4585 22.0332C29.3519 22.0332 26.8335 19.5148 26.8335 16.4082C26.8335 13.3016 29.3519 10.7832 32.4585 10.7832C35.5651 10.7832 38.0835 13.3016 38.0835 16.4082ZM35.271 16.4082C35.271 17.9615 34.0118 19.2207 32.4585 19.2207C30.9052 19.2207 29.646 17.9615 29.646 16.4082C29.646 14.8549 30.9052 13.5957 32.4585 13.5957C34.0118 13.5957 35.271 14.8549 35.271 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),n.createElement("path",{d:"M31.0159 13.8096C30.3787 13.8096 29.8621 14.3262 29.8621 14.9634V17.5596V17.848C29.8621 18.4852 30.3787 19.0019 31.0159 19.0019H33.9005C34.5377 19.0019 35.0544 18.4852 35.0544 17.848V17.5596V14.9634C35.0544 14.3262 34.5377 13.8096 33.9005 13.8096H31.0159ZM31.0159 14.3865H33.9005C34.2193 14.3865 34.4774 14.6447 34.4774 14.9634L34.4786 16.7507C34.2542 16.5424 34.0254 16.4121 33.7742 16.4057C33.7652 16.4054 33.7655 16.4057 33.7563 16.4057C33.4283 16.4057 33.0637 16.6578 32.8188 16.9737C32.7562 16.8324 32.693 16.6927 32.6203 16.5589C32.2799 15.9303 31.9081 15.5412 31.4486 15.5403C31.058 15.5395 30.7228 15.8588 30.4367 16.2961L30.439 14.9634C30.439 14.6447 30.6972 14.3865 31.0159 14.3865ZM33.6121 14.9634C33.4528 14.9634 33.3236 15.0926 33.3236 15.2519C33.3236 15.4111 33.4528 15.5403 33.6121 15.5403C33.7713 15.5403 33.9005 15.4111 33.9005 15.2519C33.9005 15.0926 33.7713 14.9634 33.6121 14.9634ZM31.4486 16.1173C31.6165 16.1175 31.8715 16.3789 32.1155 16.8295C32.2124 17.0077 32.2993 17.2042 32.3772 17.3974C32.4239 17.5128 32.4599 17.6011 32.4761 17.6496C32.5548 17.8852 32.8745 17.9187 32.9991 17.7038C33.0115 17.6824 33.034 17.6415 33.0712 17.5867C33.1335 17.4944 33.2045 17.4009 33.2786 17.3161C33.4638 17.1038 33.6423 16.9826 33.7563 16.9826C33.8714 16.9855 34.0491 17.1064 34.234 17.3161C34.309 17.4012 34.3782 17.4944 34.4414 17.5867C34.4613 17.6155 34.4642 17.6291 34.4774 17.6496V17.848C34.4774 18.1668 34.2193 18.4249 33.9005 18.4249H31.0159C30.6972 18.4249 30.439 18.1668 30.439 17.848V17.6046C30.4572 17.5532 30.4814 17.4924 30.52 17.3974C30.5988 17.2042 30.6842 17.008 30.7817 16.8295C31.0277 16.378 31.281 16.117 31.4486 16.1173Z",fill:"#007BE5"}))),n.createElement("g",{clipPath:"url(#clip3_4378_11285)"},n.createElement("g",{filter:"url(#filter4_d_4378_11285)"},n.createElement("rect",{x:"40.7627",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),n.createElement("rect",{x:"40.8477",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),n.createElement("path",{d:"M38.7915 7.68945L56.229 25.127M56.229 7.68945L38.7915 25.127M44.6975 7.4082V25.4082M47.5099 7.4082V25.4082M50.3227 7.4082V25.4082M56.5103 13.5957L38.5103 13.5957M56.5103 16.4081L38.5103 16.4081M56.5103 19.2209L38.5103 19.2209M53.1353 16.4082C53.1353 19.5148 50.6169 22.0332 47.5103 22.0332C44.4037 22.0332 41.8853 19.5148 41.8853 16.4082C41.8853 13.3016 44.4037 10.7832 47.5103 10.7832C50.6169 10.7832 53.1353 13.3016 53.1353 16.4082ZM50.3228 16.4082C50.3228 17.9615 49.0636 19.2207 47.5103 19.2207C45.957 19.2207 44.6978 17.9615 44.6978 16.4082C44.6978 14.8549 45.957 13.5957 47.5103 13.5957C49.0636 13.5957 50.3228 14.8549 50.3228 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),n.createElement("g",{clipPath:"url(#clip4_4378_11285)"},n.createElement("path",{d:"M47.6765 15.2739C47.0718 13.8547 44.9556 14.0058 44.9556 15.8198C44.9556 17.6338 47.6765 19.1454 47.6765 19.1454C47.6765 19.1454 50.3974 17.6338 50.3974 15.8198C50.3974 14.0058 48.2811 13.8547 47.6765 15.2739Z",stroke:"#007BE5",strokeWidth:"0.605407",strokeLinecap:"round",strokeLinejoin:"round"})))),n.createElement("g",{clipPath:"url(#clip5_4378_11285)"},n.createElement("g",{filter:"url(#filter5_d_4378_11285)"},n.createElement("rect",{x:"55.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),n.createElement("rect",{x:"55.7447",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),n.createElement("path",{d:"M53.6885 7.68945L71.126 25.127M71.126 7.68945L53.6885 25.127M59.5945 7.4082V25.4082M62.4069 7.4082V25.4082M65.2197 7.4082V25.4082M71.4072 13.5957L53.4072 13.5957M71.4072 16.4081L53.4072 16.4081M71.4072 19.2209L53.4072 19.2209M68.0322 16.4082C68.0322 19.5148 65.5138 22.0332 62.4072 22.0332C59.3006 22.0332 56.7822 19.5148 56.7822 16.4082C56.7822 13.3016 59.3006 10.7832 62.4072 10.7832C65.5138 10.7832 68.0322 13.3016 68.0322 16.4082ZM65.2197 16.4082C65.2197 17.9615 63.9605 19.2207 62.4072 19.2207C60.8539 19.2207 59.5947 17.9615 59.5947 16.4082C59.5947 14.8549 60.8539 13.5957 62.4072 13.5957C63.9605 13.5957 65.2197 14.8549 65.2197 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),n.createElement("path",{d:"M60.2761 16.3467V18.4809C60.2761 18.7755 60.515 19.0144 60.8097 19.0144H64.011C64.3056 19.0144 64.5445 18.7755 64.5445 18.4809V16.3467",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M60.8088 14.6122C60.8088 14.2439 61.1074 13.9453 61.4758 13.9453V13.9453C61.9914 13.9453 62.4095 14.3633 62.4095 14.879V15.2792H61.4758C61.1074 15.2792 60.8088 14.9806 60.8088 14.6122V14.6122Z",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinejoin:"round"}),n.createElement("path",{d:"M64.0107 14.6122C64.0107 14.2439 63.7121 13.9453 63.3438 13.9453V13.9453C62.8281 13.9453 62.4101 14.3633 62.4101 14.879V15.2792H63.3438C63.7121 15.2792 64.0107 14.9806 64.0107 14.6122V14.6122Z",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinejoin:"round"}),n.createElement("path",{d:"M60.009 15.2803H64.811V16.3474H60.009V15.2803Z",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M62.4099 16.3467V19.0144",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinecap:"round",strokeLinejoin:"round"}))),n.createElement("g",{clipPath:"url(#clip6_4378_11285)"},n.createElement("g",{filter:"url(#filter6_d_4378_11285)"},n.createElement("rect",{x:"25.7114",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),n.createElement("rect",{x:"25.7964",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),n.createElement("path",{d:"M23.74 22.7412L41.1775 40.1787M41.1775 22.7412L23.74 40.1787M29.646 22.46V40.46M32.4584 22.46V40.46M35.2712 22.46V40.46M41.4587 28.6475L23.4587 28.6475M41.4587 31.4599L23.4587 31.4599M41.4587 34.2726L23.4587 34.2726M38.0837 31.46C38.0837 34.5666 35.5653 37.085 32.4587 37.085C29.3521 37.085 26.8337 34.5666 26.8337 31.46C26.8337 28.3534 29.3521 25.835 32.4587 25.835C35.5653 25.835 38.0837 28.3534 38.0837 31.46ZM35.2712 31.46C35.2712 33.0133 34.012 34.2725 32.4587 34.2725C30.9054 34.2725 29.6462 33.0133 29.6462 31.46C29.6462 29.9067 30.9054 28.6475 32.4587 28.6475C34.012 28.6475 35.2712 29.9067 35.2712 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),n.createElement("path",{d:"M32.3423 28.5566C31.3514 28.5566 30.6687 29.2395 30.6687 30.2303C30.6687 30.3656 30.6687 30.7798 30.6687 30.7882C30.6687 30.878 30.6233 30.9391 30.4682 31.0671C30.4506 31.0816 30.3768 31.145 30.3549 31.1631C30.0019 31.4549 29.8282 31.7282 29.8318 32.1829C29.8356 32.6426 30.2103 33.0144 30.6687 33.0197H31.5546C31.5546 33.0197 31.5055 33.1902 31.5055 33.2987C31.5055 33.7609 31.8801 34.1355 32.3423 34.1355C32.8045 34.1355 33.1792 33.7609 33.1792 33.2987C33.1792 33.1902 33.1323 33.0197 33.1323 33.0197H34.016C34.4734 33.0214 34.8534 32.6446 34.8528 32.1829C34.8523 31.7316 34.6782 31.4535 34.3298 31.1631C34.3069 31.1438 34.226 31.0822 34.2076 31.0671C34.0559 30.9405 34.016 30.8769 34.016 30.7882C34.016 30.4395 34.016 30.2303 34.016 30.2303C34.016 29.2395 33.3331 28.5566 32.3423 28.5566ZM32.3423 29.1145C33.0252 29.1145 33.4581 29.5474 33.4581 30.2303C33.4581 30.2303 33.4581 30.4395 33.4581 30.7882C33.4581 31.0844 33.5831 31.2713 33.8503 31.4942C33.8715 31.5118 33.961 31.5821 33.9811 31.5988C34.2149 31.7938 34.2946 31.9257 34.2949 32.1829C34.2952 32.3346 34.1652 32.4624 34.016 32.4618C33.9633 32.4616 33.1513 32.4616 32.3423 32.4618C31.5335 32.4621 30.7279 32.4624 30.6687 32.4618C30.513 32.4599 30.391 32.3377 30.3897 32.1829C30.3877 31.9263 30.4674 31.7941 30.7035 31.5988C30.7228 31.5829 30.8053 31.5109 30.8256 31.4942C31.097 31.2699 31.2266 31.0872 31.2266 30.7882C31.2266 30.7798 31.2266 30.3656 31.2266 30.2303C31.2266 29.5474 31.6596 29.1145 32.3423 29.1145ZM32.3423 33.0197C32.4963 33.0197 32.6213 33.1447 32.6213 33.2987C32.6213 33.4527 32.4963 33.5776 32.3423 33.5776C32.1884 33.5776 32.0634 33.4527 32.0634 33.2987C32.0634 33.1447 32.1884 33.0197 32.3423 33.0197Z",fill:"#007BE5"}))),n.createElement("g",{clipPath:"url(#clip7_4378_11285)"},n.createElement("g",{filter:"url(#filter7_d_4378_11285)"},n.createElement("rect",{x:"10.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),n.createElement("rect",{x:"10.7447",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),n.createElement("path",{d:"M8.68848 7.68945L26.126 25.127M26.126 7.68945L8.68848 25.127M14.5945 7.4082V25.4082M17.4069 7.4082V25.4082M20.2197 7.4082V25.4082M26.4072 13.5957L8.40723 13.5957M26.4072 16.4081L8.40723 16.4081M26.4072 19.2209L8.40723 19.2209M23.0322 16.4082C23.0322 19.5148 20.5138 22.0332 17.4072 22.0332C14.3006 22.0332 11.7822 19.5148 11.7822 16.4082C11.7822 13.3016 14.3006 10.7832 17.4072 10.7832C20.5138 10.7832 23.0322 13.3016 23.0322 16.4082ZM20.2197 16.4082C20.2197 17.9615 18.9605 19.2207 17.4072 19.2207C15.8539 19.2207 14.5947 17.9615 14.5947 16.4082C14.5947 14.8549 15.8539 13.5957 17.4072 13.5957C18.9605 13.5957 20.2197 14.8549 20.2197 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),n.createElement("path",{d:"M18.1308 16.0168L17.0145 17.1331L16.4564 16.5749M15.061 17.6354V16.143C15.061 15.9939 15.061 15.9193 15.0792 15.8499C15.0952 15.7884 15.1218 15.7302 15.1575 15.6776C15.1978 15.6183 15.2538 15.5691 15.366 15.4709L16.706 14.2984C16.914 14.1164 17.018 14.0253 17.1352 13.9907C17.2385 13.9601 17.3486 13.9601 17.4519 13.9907C17.5692 14.0254 17.6734 14.1165 17.8817 14.2988L19.2212 15.4709C19.3335 15.5691 19.3895 15.6183 19.4298 15.6776C19.4654 15.7302 19.4918 15.7884 19.5079 15.8499C19.526 15.9193 19.5262 15.9939 19.5262 16.143V17.6364C19.5262 17.9484 19.5262 18.1045 19.4654 18.2238C19.4119 18.3288 19.3263 18.4141 19.2212 18.4677C19.102 18.5284 18.946 18.5284 18.634 18.5284H15.9532C15.6412 18.5284 15.485 18.5284 15.3657 18.4677C15.2607 18.4141 15.1754 18.3288 15.1219 18.2238C15.061 18.1044 15.061 17.948 15.061 17.6354Z",stroke:"#007BE5",strokeWidth:"0.558837",strokeLinecap:"round",strokeLinejoin:"round"}))),n.createElement("g",{clipPath:"url(#clip8_4378_11285)"},n.createElement("g",{filter:"url(#filter8_d_4378_11285)"},n.createElement("rect",{x:"10.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),n.createElement("rect",{x:"10.7447",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),n.createElement("path",{d:"M8.68823 22.7412L26.1257 40.1787M26.1257 22.7412L8.68823 40.1787M14.5943 22.46V40.46M17.4066 22.46V40.46M20.2194 22.46V40.46M26.407 28.6475L8.40698 28.6475M26.407 31.4599L8.40698 31.4599M26.407 34.2726L8.40698 34.2726M23.032 31.46C23.032 34.5666 20.5136 37.085 17.407 37.085C14.3004 37.085 11.782 34.5666 11.782 31.46C11.782 28.3534 14.3004 25.835 17.407 25.835C20.5136 25.835 23.032 28.3534 23.032 31.46ZM20.2195 31.46C20.2195 33.0133 18.9603 34.2725 17.407 34.2725C15.8537 34.2725 14.5945 33.0133 14.5945 31.46C14.5945 29.9067 15.8537 28.6475 17.407 28.6475C18.9603 28.6475 20.2195 29.9067 20.2195 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),n.createElement("path",{d:"M17.2926 28.5586C15.752 28.5586 14.5032 29.8074 14.5032 31.348C14.5032 32.8886 15.752 34.1374 17.2926 34.1374C18.8332 34.1374 20.082 32.8886 20.082 31.348C20.082 29.8074 18.8332 28.5586 17.2926 28.5586ZM17.2926 29.1165C17.6608 29.1165 18.0653 29.9622 18.1269 31.0682L16.4616 31.0716C16.523 29.9656 16.9244 29.1165 17.2926 29.1165ZM16.3076 29.3405C16.0678 29.8071 15.9394 30.4258 15.9085 31.0696L15.0772 31.0671C15.1604 30.307 15.6722 29.6693 16.3076 29.3405ZM18.2789 29.3419C18.9144 29.6707 19.4131 30.2905 19.5093 31.0716L18.6784 31.0691C18.6522 30.3996 18.504 29.811 18.2789 29.3419ZM15.0789 31.6281L15.9099 31.6211C15.9408 32.2649 16.07 32.8942 16.3088 33.3558C15.6415 33.0214 15.1749 32.3667 15.0789 31.6281ZM16.4572 31.6303L18.1224 31.6267C18.0611 32.7324 17.6608 33.5795 17.2926 33.5795C16.9244 33.5795 16.5185 32.7363 16.4572 31.6303ZM18.6798 31.6275L19.5071 31.625C19.4112 32.3639 18.9448 33.0239 18.2778 33.3528C18.5255 32.8406 18.6488 32.2713 18.6798 31.6275Z",fill:"#007BE5"})))),n.createElement("defs",null,n.createElement("pattern",{id:"pattern0_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},n.createElement("use",{xlinkHref:"#image0_4378_11285",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})),n.createElement("pattern",{id:"pattern1_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},n.createElement("use",{xlinkHref:"#image1_4378_11285",transform:"matrix(0.000916004 0 0 0.00166667 -0.0496025 0)"})),n.createElement("filter",{id:"filter0_dd_4378_11285",x:"4",y:"4",width:"72",height:"42",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"1"}),n.createElement("feGaussianBlur",{stdDeviation:"1.5"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"0.25"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_4378_11285",result:"effect2_dropShadow_4378_11285"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_4378_11285",result:"shape"})),n.createElement("pattern",{id:"pattern2_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},n.createElement("use",{xlinkHref:"#image0_4378_11285",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})),n.createElement("pattern",{id:"pattern3_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},n.createElement("use",{xlinkHref:"#image1_4378_11285",transform:"matrix(0.000909091 0 0 0.00166667 -0.0454545 0)"})),n.createElement("filter",{id:"filter1_d_4378_11285",x:"4.51214",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),n.createElement("filter",{id:"filter2_d_4378_11285",x:"19.4091",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),n.createElement("filter",{id:"filter3_d_4378_11285",x:"-10.5394",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),n.createElement("filter",{id:"filter4_d_4378_11285",x:"4.51239",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),n.createElement("filter",{id:"filter5_d_4378_11285",x:"19.4094",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),n.createElement("filter",{id:"filter6_d_4378_11285",x:"-10.5391",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),n.createElement("filter",{id:"filter7_d_4378_11285",x:"-25.5906",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),n.createElement("filter",{id:"filter8_d_4378_11285",x:"-25.5909",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"13.5991"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})),n.createElement("clipPath",{id:"clip0_4378_11285"},n.createElement("rect",{x:"40.7627",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),n.createElement("clipPath",{id:"clip1_4378_11285"},n.createElement("rect",{x:"55.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),n.createElement("clipPath",{id:"clip2_4378_11285"},n.createElement("rect",{x:"25.7114",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),n.createElement("clipPath",{id:"clip3_4378_11285"},n.createElement("rect",{x:"40.7627",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),n.createElement("clipPath",{id:"clip4_4378_11285"},n.createElement("rect",{width:"7.25582",height:"7.25582",fill:"white",transform:"translate(44.0486 12.9473)"})),n.createElement("clipPath",{id:"clip5_4378_11285"},n.createElement("rect",{x:"55.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),n.createElement("clipPath",{id:"clip6_4378_11285"},n.createElement("rect",{x:"25.7114",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),n.createElement("clipPath",{id:"clip7_4378_11285"},n.createElement("rect",{x:"10.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})),n.createElement("clipPath",{id:"clip8_4378_11285"},n.createElement("rect",{x:"10.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"}))))}function nh(){return n.createElement("svg",{width:"74px",height:"45px",viewBox:"0 0 76 46",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.89844 39.6787)",fill:"url(#pattern0_4378_11342)"}),n.createElement("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.89844 39.6787)",fill:"url(#pattern1_4378_11342)"}),n.createElement("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.89844 39.6787)",fill:"#F8D4C4"}),n.createElement("g",{filter:"url(#filter0_dd_4378_11342)"},n.createElement("g",{clipPath:"url(#clip0_4378_11342)"},n.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"url(#pattern2_4378_11342)"}),n.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"url(#pattern3_4378_11342)"}),n.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"#FFFBEB"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.9114 27.9895C23.8542 28.1061 23.6358 28.1415 23.4926 28.1662C22.3258 28.3713 17.2683 28.4774 16.7815 28.0637C16.3556 27.7102 16.5918 21.933 17.007 21.6996C17.5439 21.385 23.3996 21.3249 23.8076 21.6466C24.1047 21.8906 24.2908 27.1727 23.9114 27.9895ZM23.7181 21.7208C23.3924 21.4521 17.6728 21.6537 17.1573 21.9012C16.8817 22.6295 16.7028 27.2046 16.9712 27.8551C17.4079 28.1521 22.7589 28.1415 23.6931 27.8551C24.0582 26.9889 23.9222 21.8906 23.7181 21.7208ZM38.1462 21.1021C38.2881 21.342 38.4798 21.5495 38.7086 21.7109C38.9375 21.8724 39.1984 21.9842 39.4741 22.0391C39.4825 22.0369 39.4914 22.0367 39.4999 22.0385C39.5085 22.0402 39.5165 22.0439 39.5234 22.0492C39.5303 22.0545 39.5359 22.0612 39.5397 22.069C39.5436 22.0767 39.5456 22.0852 39.5456 22.0939C39.5456 22.1025 39.5436 22.111 39.5397 22.1187C39.5359 22.1265 39.5303 22.1333 39.5234 22.1385C39.5165 22.1438 39.5085 22.1475 39.4999 22.1492C39.4914 22.151 39.4825 22.1508 39.4741 22.1487C38.8441 22.3113 38.0245 21.7456 38.0245 21.1233C38.0216 21.1074 38.0253 21.091 38.0347 21.0777C38.0441 21.0645 38.0585 21.0554 38.0746 21.0526C38.0907 21.0498 38.1073 21.0534 38.1208 21.0627C38.1342 21.072 38.1433 21.0862 38.1462 21.1021ZM41.0704 17.9378V18.2913C41.0704 18.3382 41.0516 18.3832 41.018 18.4163C40.9845 18.4495 40.9389 18.4681 40.8915 18.4681C40.8443 18.4672 40.7993 18.4483 40.7659 18.4153C40.7326 18.3824 40.7134 18.3379 40.7125 18.2913V17.9378C40.7125 17.8909 40.7314 17.8459 40.7649 17.8128C40.7985 17.7796 40.844 17.761 40.8915 17.761C40.9389 17.761 40.9845 17.7796 41.018 17.8128C41.0516 17.8459 41.0704 17.8909 41.0704 17.9378ZM37.5019 18.2736C37.5019 18.3205 37.4831 18.3655 37.4495 18.3986C37.4159 18.4318 37.3704 18.4504 37.3229 18.4504C37.2755 18.4504 37.23 18.4318 37.1964 18.3986C37.1628 18.3655 37.144 18.3205 37.144 18.2736V17.8352C37.144 17.7883 37.1628 17.7434 37.1964 17.7102C37.23 17.6771 37.2755 17.6584 37.3229 17.6584C37.3704 17.6584 37.4159 17.6771 37.4495 17.7102C37.4831 17.7434 37.5019 17.7883 37.5019 17.8352C37.5162 17.9873 37.5019 18.164 37.5019 18.2736Z",fill:"black"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.7486 43.8508C16.7721 43.8114 16.8054 43.7785 16.8453 43.7553C17.1531 43.6068 18.8282 43.6811 19.1754 43.6952C19.1145 34.4214 24.0611 28.6371 31.2411 26.9789C32.5583 26.6749 32.5619 26.6536 32.5976 26.6749L32.841 26.0137C32.1538 25.9925 31.5919 25.4692 30.9619 25.5753C30.4859 25.6531 30.2461 26.0703 29.7772 26.2471C28.9826 26.544 27.5688 26.0879 27.1357 25.3419C26.9138 24.953 27.1106 24.55 26.971 24.2813C26.7205 24.0656 26.0082 23.7191 25.8042 23.4681C25.3854 22.9519 25.3675 21.7957 25.5572 21.1699C25.8997 20.4618 26.3662 19.819 26.9352 19.2713C27.5543 18.6821 28.1031 18.025 28.571 17.3126C29.1472 16.1777 29.1687 14.6079 29.6447 13.4234C30.1694 12.354 30.9817 11.4477 31.9928 10.8036C32.9802 10.1146 34.1708 9.76773 35.3787 9.81713C36.5062 9.88784 36.9465 10.3616 37.4726 10.5243C37.9988 10.6869 38.1097 10.5243 38.9652 10.8955C39.3048 11.0999 39.6073 11.3593 39.86 11.6627C39.9674 11.7759 39.9602 11.7829 40.1427 11.79C40.3393 11.7754 40.5367 11.7754 40.7333 11.79C41.0685 11.8635 41.389 11.9913 41.6818 12.1683C43.6755 13.3492 43.1386 15.7251 43.8902 17.4717C44.4021 18.6597 45.8266 19.8017 45.9483 21.0427C45.9914 21.6133 45.8672 22.1841 45.5904 22.6867C44.7206 24.1964 43.4715 23.012 42.8236 23.9348C42.6196 24.2247 42.4657 24.5075 42.0863 24.5641C41.6031 24.6277 40.9445 24.2494 40.5508 23.9701C40.4681 24.0654 40.3744 24.1508 40.2716 24.2247C39.9227 24.457 39.548 24.6492 39.1549 24.7975L40.064 26.0526C41.7677 25.8617 44.3842 26.4062 46.07 26.9188C46.1309 26.4945 46.6606 22.9908 47.0615 22.8211C47.6163 22.5806 53.4397 23.2489 53.7941 23.6272C54.0554 23.903 53.5865 29.1533 53.0782 29.9382C53.0031 30.0584 52.7454 30.062 52.6022 30.0655C53.4397 30.6312 54.2487 31.204 54.5386 31.4126C54.7641 30.6418 55.9488 26.5653 56.3855 25.897C56.5108 25.7026 56.6253 25.7061 57.2016 25.897C57.53 24.2782 57.9458 22.6778 58.4471 21.1028C58.2592 20.7975 58.109 20.4711 57.9997 20.1305C57.8663 19.591 57.8468 19.0301 57.9425 18.4829C57.5058 18.6278 54.8965 19.335 54.4741 19.1299C54.3607 19.0499 54.2766 18.9358 54.2343 18.8046C53.7726 17.8076 52.9816 14.4028 52.9207 13.3244C52.8957 13.1864 52.9197 13.044 52.9888 12.9214C53.4075 12.49 59.0413 10.8884 59.5173 11.1006C59.8073 11.2314 60.5911 13.7735 60.6734 14.074C61.3571 16.3403 61.0099 15.8418 61.3893 15.9726C61.826 16.1246 62.2018 17.0333 62.3557 17.454C62.5096 17.8748 62.6707 18.4405 62.4881 18.7728C62.5623 18.908 62.5921 19.0625 62.5735 19.2152C62.5549 19.3678 62.4888 19.5109 62.3843 19.6249C62.4982 19.7502 62.5724 19.9057 62.5978 20.0722C62.6232 20.2387 62.5988 20.4089 62.5275 20.5618C62.4237 20.8836 61.7759 21.0957 61.4537 21.1876C61.7081 21.8646 61.9196 22.5566 62.0873 23.2595C62.3728 24.3502 62.601 25.4548 62.7709 26.5688C62.8768 27.1101 62.9117 27.6627 62.8747 28.2128L63.4617 28.4745C63.4843 28.4847 63.5034 28.5012 63.5167 28.5219C63.5301 28.5426 63.5371 28.5666 63.5369 28.5912C63.5369 28.5912 63.4259 32.8763 61.9978 36.4366C60.2726 40.7465 57.4342 42.1891 53.114 40.5768C53.0751 40.9151 52.9908 41.2469 52.8635 41.5633C52.799 41.6764 52.5807 41.6976 52.434 41.7118C51.1633 41.7529 49.8913 41.7139 48.6256 41.5951L47.5518 48.3127C47.8418 49.14 51.1311 58.5659 51.0846 59.4428C51.0846 59.5347 51.0488 59.6054 50.8949 59.6761C49.9464 60.111 40.9588 61.2707 40.6188 60.3019C40.5329 60.065 40.3253 58.5553 40.2859 58.269L35.2284 57.7174L30.4071 58.0321C30.3552 58.5089 30.2691 58.9815 30.1494 59.4463C30.1065 59.5524 30.0564 59.609 29.9311 59.5983C29.455 59.5524 26.9173 59.0998 26.2158 58.969C23.5242 58.467 23.585 58.4245 23.6638 58.1629C23.8535 57.5442 25.6145 52.7181 26.3017 50.4659C25.2964 50.5719 24.2825 50.5719 23.2772 50.4659C23.2663 50.5042 23.2459 50.5391 23.2178 50.5676C23.1896 50.596 23.1547 50.617 23.1162 50.6285C22.4612 50.8654 16.609 50.5366 16.1294 50.0628C15.6963 49.6845 16.4229 44.3882 16.7486 43.8508ZM59.5102 11.2526C59.4708 11.1925 59.4851 11.1677 59.1702 11.2137C57.8566 11.3975 53.5614 12.7658 53.1892 13.0876C53.1176 13.8972 54.1806 18.3415 54.5994 18.8789C54.9037 18.9814 56.9224 18.4723 57.2338 18.391C59.6032 17.7793 59.5102 17.6838 60.0507 17.5601C60.3298 17.4646 60.3585 17.4611 60.3513 17.4222C60.3504 17.4135 60.3463 17.4053 60.3396 17.3995C60.333 17.3936 60.3244 17.3903 60.3155 17.3904C59.9934 17.3904 59.1308 17.3656 58.9196 17.1181C58.873 17.0678 58.8382 17.0079 58.8177 16.9428C58.7973 16.8776 58.7916 16.8088 58.8012 16.7413C58.8108 16.6737 58.8353 16.6091 58.8731 16.552C58.9109 16.4949 58.961 16.4468 59.0198 16.411C59.4798 16.229 59.9606 16.1031 60.4515 16.0362C60.5983 16.008 60.7772 15.9585 60.9562 15.9373C60.7092 14.8341 59.8932 11.8395 59.5102 11.2526ZM62.5848 28.0962V27.5482C62.5526 26.8764 62.2268 25.1121 62.1302 24.6277C61.9727 23.8428 61.9369 23.6661 61.4788 21.9619C61.4788 21.9159 61.2032 21.1558 61.2032 21.1558C61.1982 21.1426 61.1962 21.1285 61.1972 21.1145C61.1982 21.1004 61.2022 21.0868 61.209 21.0744C61.2158 21.062 61.2252 21.0512 61.2365 21.0427C61.2478 21.0342 61.2609 21.0281 61.2748 21.025C61.3141 21.025 62.2447 20.7987 62.3485 20.5052C62.4523 20.2118 62.4738 19.8582 62.2125 19.7027C62.2029 19.6958 62.1951 19.6867 62.1897 19.6763C62.1843 19.6658 62.1815 19.6543 62.1815 19.6426C62.1815 19.6308 62.1843 19.6193 62.1897 19.6088C62.1951 19.5984 62.2029 19.5893 62.2125 19.5825C62.3269 19.4897 62.4039 19.3595 62.4295 19.2155C62.4551 19.0716 62.4277 18.9233 62.3521 18.7976C62.2698 18.6314 62.7101 18.7127 62.1875 17.5212C62.055 17.2277 61.6076 16.3262 61.3034 16.2272C61.034 16.2012 60.7621 16.2313 60.5052 16.3156C60.0566 16.3854 59.6156 16.4966 59.188 16.6479C59.1609 16.6623 59.1374 16.6828 59.1195 16.7076C59.1016 16.7325 59.0898 16.7611 59.085 16.7912C59.0801 16.8213 59.0824 16.8521 59.0916 16.8813C59.1008 16.9104 59.1166 16.937 59.1379 16.959C59.2952 17.0471 59.4675 17.1058 59.6462 17.1323C60.7737 17.3515 60.5732 17.1075 60.72 17.4858C61.1507 17.4609 61.5813 17.5372 61.9763 17.7086C62.1302 17.7404 62.0658 17.8394 61.9548 17.8217C61.4753 17.6665 60.9624 17.6409 60.4694 17.7475C60.1834 17.7991 59.9038 17.8809 59.6355 17.9914C59.3921 18.0891 59.176 18.2431 59.0055 18.4405C58.9751 18.5153 58.9637 18.5963 58.9724 18.6765C58.9812 18.7566 59.0097 18.8334 59.0556 18.9001C59.1415 19.0309 59.5567 18.9425 59.7142 18.9001C59.929 18.8364 60.1545 18.7834 60.3656 18.7162C60.6627 18.6243 60.6305 18.5996 60.7236 18.6066C61.0518 18.6526 61.3729 18.7393 61.6792 18.8647C61.6879 18.8657 61.6962 18.8686 61.7036 18.8733C61.7109 18.8779 61.7171 18.8841 61.7216 18.8915C61.7262 18.8989 61.7289 18.9071 61.7297 18.9157C61.7305 18.9243 61.7293 18.9329 61.7263 18.941C61.7232 18.949 61.7183 18.9563 61.7119 18.9622C61.7055 18.9681 61.6979 18.9725 61.6896 18.975C61.6812 18.9775 61.6724 18.9781 61.6638 18.9768C61.6552 18.9755 61.647 18.9722 61.6398 18.9673C61.3657 18.8909 61.0855 18.8377 60.8023 18.8082C60.6412 18.8082 60.745 18.8082 60.3406 18.9673C60.158 19.0344 59.9826 19.0875 59.7894 19.1511C59.665 19.1932 59.5367 19.2228 59.4064 19.2395C59.1773 19.4516 59.0127 19.9466 59.3205 20.035C59.4414 20.0556 59.5658 20.0409 59.6784 19.9926C60.4981 19.7274 59.9433 19.5365 61.7222 19.8971C61.7367 19.8989 61.75 19.9061 61.7594 19.9173C61.7687 19.9285 61.7733 19.9428 61.7723 19.9572C61.7723 20.0492 61.7114 19.9926 60.7271 19.9572C60.6081 19.9454 60.4882 19.9454 60.3692 19.9572C60.0614 20.1128 59.6032 20.378 59.2489 20.2754C58.8158 20.1375 58.8301 19.6638 59.1093 19.3173C59.2095 19.1971 59.2203 19.2324 59.1344 19.2183C59.0715 19.2116 59.0108 19.1921 58.956 19.161C58.9012 19.13 58.8534 19.0881 58.8158 19.038C58.731 18.9225 58.6836 18.7843 58.6798 18.6417C58.676 18.4991 58.7159 18.3587 58.7943 18.2389L58.193 18.4157C58.074 18.9633 58.0838 19.5306 58.2216 20.0739C58.26 20.2065 58.3103 20.3355 58.372 20.4593C58.6333 21.0038 58.7299 21.0214 58.6977 21.124C58.2003 22.7215 57.7905 24.3443 57.47 25.9854C58.8194 26.4521 61.2927 27.5269 62.5848 28.0962ZM34.262 52.665C32.7301 52.7287 29.4371 52.8454 27.9267 52.7994C28.0305 53.2449 28.0949 53.5277 28.1128 53.5914C28.8323 53.5914 33.4817 52.7959 34.262 52.665ZM27.3469 52.4847C28.3061 52.7075 40.7584 52.2266 41.825 51.7776C41.714 50.9856 40.6689 46.5343 40.4577 45.6257C39.5183 45.9097 38.541 46.0528 37.5585 46.0499C37.2006 46.2338 36.61 46.552 36.2557 46.7182C36.295 47.0187 36.3917 47.7293 36.1769 47.9415C35.9622 48.1536 31.0192 49.9462 26.6847 50.4482C26.8595 51.1408 27.0808 51.8211 27.3469 52.4847ZM40.5723 43.9745C40.7371 43.9251 40.8895 43.842 41.0197 43.7306C41.1127 43.6316 41.0805 43.3311 41.0197 43.1896C40.9864 43.1209 40.9273 43.0676 40.855 43.0411C40.7676 43.0036 40.6745 42.9809 40.5794 42.974C40.551 42.9733 40.5234 42.9641 40.5005 42.9476C40.4775 42.931 40.4602 42.9079 40.4508 42.8814C40.4415 42.8549 40.4406 42.8262 40.4482 42.7991C40.4558 42.7721 40.4716 42.7479 40.4935 42.73C40.7029 42.5558 40.8487 42.3186 40.9087 42.0547C40.9087 41.8603 40.8335 41.6587 40.5186 41.4819C40.1606 41.5102 39.0869 42.3871 38.5893 41.8815C38.0918 41.3759 38.6788 40.1915 38.124 40.0925C37.5693 39.9935 37.2901 41.641 37.1934 41.8214C36.8713 42.4401 36.0051 42.882 35.5112 43.3912C35.8095 44.445 36.0484 45.5144 36.227 46.5944C36.9429 46.2161 37.4726 45.8873 37.5263 45.8873C38.2744 45.8625 40.2823 45.6575 40.8049 45.1307C40.8978 45.0598 40.9615 44.9578 40.9839 44.844C41.0063 44.7301 40.9859 44.6121 40.9266 44.512C40.8885 44.4455 40.8372 44.3874 40.7756 44.3412C40.7141 44.295 40.6437 44.2617 40.5687 44.2432C40.538 44.2358 40.5108 44.2184 40.4915 44.1937C40.4721 44.1691 40.4618 44.1387 40.4622 44.1075C40.4627 44.0763 40.4738 44.0462 40.4937 44.022C40.5137 43.9979 40.5414 43.9811 40.5723 43.9745ZM36.585 32.201C37.2499 32.1382 37.9179 32.1122 38.5858 32.1232C38.6717 32.1232 38.7433 32.1656 38.7683 32.247C38.8292 32.4732 39.8421 39.8273 39.8922 40.1879C40.107 36.6523 40.3289 32.9293 40.4935 30.1999C39.2479 32.1621 39.1406 32.3566 38.9437 32.2187C38.28 31.6795 37.6523 31.0985 37.0646 30.4792C36.9572 30.8716 36.7854 31.5116 36.585 32.201ZM33.3099 30.96C33.5533 30.6064 33.7931 30.2529 33.8826 30.1221L32.7265 27.2476L33.3099 30.96ZM32.476 26.9011C31.1222 27.1769 29.8022 27.5953 28.5388 28.1492C28.5924 28.3154 29.2832 30.4014 30.1101 32.8904C30.4895 32.8445 32.6621 32.5828 33.3314 32.5121L32.476 26.9011ZM33.9399 30.5145L33.3743 31.356L33.5533 32.4874L34.1081 32.4167C34.0258 31.6494 33.9685 30.9211 33.9399 30.5145ZM24.0575 34.2446C24.062 34.7049 24.1075 35.1639 24.1935 35.6164C25.4212 35.3053 36.1304 32.7031 37.2185 33.3147C37.7625 33.6258 39.5522 40.8809 39.724 41.535L39.8528 41.4713C39.2873 37.5433 38.5357 32.3919 38.5357 32.3778C37.3151 32.2399 25.5572 33.5551 24.0575 34.2446ZM30.3033 41.6375C31.1051 41.5845 34.2871 41.4289 34.9564 41.8673C35.0602 41.938 35.1031 41.9522 35.4718 43.2603C35.9478 42.7618 36.746 42.2916 37.0145 41.7365C37.1362 41.4925 37.333 39.7106 38.167 39.8485C39.2909 40.0359 37.8556 42.3234 39.5164 41.6163C39.409 41.1673 37.648 33.6789 37.1576 33.4031C36.1196 32.8197 24.7984 35.6659 23.3667 36.0654C23.449 36.9281 24.5013 41.5314 24.6946 42.3729C26.5483 42.0211 28.421 41.7755 30.3033 41.6375ZM35.8154 16.906C35.615 17.0404 35.6221 17.3621 35.6579 17.5954C35.9085 19.1759 37.512 20.134 38.6251 18.6208C38.8793 18.2672 39.0761 17.1429 38.9043 16.8954C38.7898 16.7504 37.8663 16.7434 37.6802 16.7434C37.3366 16.7469 35.9944 16.7999 35.8297 16.906H35.8154ZM40.0783 17.1606C40.0783 17.8253 40.3038 18.9284 40.9016 19.2466C41.8644 19.7416 42.8415 18.9567 42.8666 17.9349C42.9033 17.5618 42.8852 17.1855 42.8129 16.8176L42.7771 16.7999C42.8344 16.7009 40.3181 16.6691 40.0926 16.8919C40.085 16.9813 40.085 17.0712 40.0926 17.1606H40.0783ZM38.8327 24.8576C38.2135 25.0343 37.2149 24.9495 36.7353 24.4651C36.7252 24.4546 36.7196 24.4407 36.7196 24.4262C36.7196 24.4118 36.7252 24.3978 36.7353 24.3873C36.8176 24.2883 36.7353 24.4793 37.6659 24.6171C38.5965 24.755 39.1585 24.6171 40.0998 24.0126C40.5325 23.6199 40.8565 23.1246 41.0411 22.5736C41.4265 21.641 41.6679 20.6566 41.757 19.6532C41.4201 19.7077 41.0744 19.6518 40.7727 19.4941C40.4798 19.3249 40.2529 19.0634 40.1284 18.7516C40.2492 19.1252 40.3484 19.5053 40.4255 19.89C40.4423 19.9393 40.4448 19.9922 40.4328 20.0428C40.4208 20.0934 40.3947 20.1397 40.3575 20.1764C40.11 20.3259 39.8186 20.3882 39.5307 20.3532C39.5222 20.3554 39.5134 20.3556 39.5048 20.3538C39.4963 20.352 39.4883 20.3484 39.4814 20.3431C39.4745 20.3378 39.4689 20.331 39.4651 20.3233C39.4612 20.3155 39.4592 20.307 39.4592 20.2984C39.4592 20.2898 39.4612 20.2813 39.4651 20.2735C39.4689 20.2658 39.4745 20.259 39.4814 20.2537C39.4883 20.2484 39.4963 20.2448 39.5048 20.243C39.5134 20.2413 39.5222 20.2415 39.5307 20.2436C39.743 20.2203 39.948 20.1528 40.132 20.0456C40.2143 19.989 40.1785 20.0244 40.1535 19.9077C40.1284 19.7911 39.6631 18.1046 39.6381 17.9985C39.5271 17.9985 39.1048 17.9419 39.1048 17.8394C39.1048 17.7369 39.4412 17.7086 39.5665 17.7157C39.5665 17.6697 39.545 17.6308 39.5343 17.5954C39.5286 17.5814 39.5288 17.5657 39.5348 17.5517C39.5409 17.5378 39.5522 17.5268 39.5665 17.5212C39.5807 17.5156 39.5966 17.5158 39.6107 17.5217C39.6248 17.5277 39.636 17.539 39.6416 17.553C39.7669 17.7934 39.681 17.705 39.8492 17.7475C39.7847 17.4206 39.7847 17.0844 39.8492 16.7575C40.0533 16.4464 41.281 16.5171 41.6818 16.5418C41.4778 15.3574 40.6832 14.774 40.1964 13.8265C40.0601 13.6066 39.8783 13.4174 39.6631 13.2714C39.5557 13.2431 39.3446 13.5083 39.2157 13.5719C39.0869 13.6356 38.9652 13.9856 38.8578 14.1058C38.5202 14.4855 38.1311 14.8175 37.7017 15.0922C37.3438 15.3433 36.7854 15.3822 36.542 15.7039C36.4392 15.9775 36.3894 16.2677 36.3953 16.5595C36.857 16.5312 38.7826 16.5029 39.0117 16.8282C39.2193 17.0899 39.1298 18.2849 38.8256 18.7445C38.0596 19.89 36.882 19.9608 35.9622 18.9284C35.8633 18.8065 35.7792 18.6736 35.7116 18.5324C35.0244 19.5931 34.4839 20.2259 34.4589 21.4705C34.4302 23.0473 34.8812 25.6601 33.1524 25.989L32.8554 26.7986C34.2871 30.3554 34.2119 30.1327 34.2119 30.168C34.2119 30.2034 34.2799 31.2287 34.4052 32.4025C35.0924 32.3318 35.7331 32.2717 36.3022 32.2257C36.3451 32.0808 36.8785 30.2069 36.8677 30.168C36.814 29.9913 37.0825 29.6448 37.2901 29.3372C38.0686 28.2238 38.9186 27.1609 39.8349 26.1551L38.8327 24.8576ZM40.0926 26.2506C40.0318 26.3425 37.4547 29.1427 37.1397 30.1716C37.7188 30.8056 38.3445 31.3965 39.0117 31.9394C39.2515 31.6282 39.8994 30.6029 40.515 29.6448C40.6259 27.7956 40.7011 26.5087 40.719 26.24C40.5186 26.2258 40.2931 26.2364 40.107 26.2506H40.0926ZM52.8742 29.7862C53.2823 29.0791 53.8478 24.4828 53.7153 23.7757C53.7153 23.712 53.7153 23.6908 53.4147 23.6095C52.1333 23.2807 47.6377 22.9024 47.1653 23.0615C46.8074 23.7509 46.0235 28.2517 46.2096 28.9447C46.5747 29.2346 51.8219 29.9665 52.8885 29.7862H52.8742ZM52.6237 41.4183C53.0353 40.6193 53.3395 35.4962 53.1355 35.3017C52.8313 35.0118 47.1187 34.7643 46.5783 34.9729C46.2204 35.7154 45.7121 40.2763 45.9233 40.895C46.4101 41.2557 51.779 41.6092 52.638 41.4183H52.6237ZM44.4522 35.4926C44.1945 35.4255 42.3977 34.9729 42.1829 34.8456C42.029 34.7572 41.8536 35.0436 44.8638 26.8835C44.5059 26.5582 41.3776 26.141 40.8837 26.293C40.8837 26.4875 40.4148 34.7396 40.0461 41.3617C40.2215 41.2769 40.4756 41.1461 40.6367 41.2345C41.3096 41.588 41.3525 42.1749 40.855 42.7477C40.9479 42.7702 41.0342 42.8139 41.107 42.8753C41.1797 42.9367 41.2368 43.0141 41.2738 43.1012C41.3312 43.234 41.3556 43.3783 41.345 43.5222C41.3344 43.6661 41.2891 43.8055 41.2129 43.9286C41.1295 44.0075 41.0341 44.0731 40.9302 44.123C41.0371 44.1938 41.1215 44.2931 41.1736 44.4094C41.2205 44.5096 41.2484 44.6175 41.2559 44.7276L44.4522 35.4926ZM35.5434 57.4947L40.2179 58.0073C40.1964 57.8376 39.6703 53.7399 39.5021 52.3504C38.5285 52.4352 37.3545 52.5095 36.0982 52.5766C35.8906 55.1258 35.5255 56.8865 35.5577 57.4947H35.5434ZM35.2964 57.4664C35.2463 56.6603 35.9192 52.6191 35.9228 52.5837L35.5649 52.6014C34.3479 52.8241 31.2125 53.3722 30.8724 53.4287C30.7579 54.5672 30.4716 57.2189 30.4036 57.7634C35.7402 57.424 35.164 57.4522 35.3143 57.4664H35.2964ZM16.3048 49.9002C16.6627 50.183 21.9207 50.6568 23.0052 50.4235C23.424 49.6209 23.7211 44.5013 23.517 44.3069C23.2092 44.0134 17.4967 43.773 16.9634 43.9781C16.6269 44.717 16.1079 49.2956 16.3191 49.9002H16.3048Z",fill:"black"}))),n.createElement("defs",null,n.createElement("pattern",{id:"pattern0_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},n.createElement("use",{xlinkHref:"#image0_4378_11342",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})),n.createElement("pattern",{id:"pattern1_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},n.createElement("use",{xlinkHref:"#image1_4378_11342",transform:"matrix(0.000916004 0 0 0.00166667 -0.0496025 0)"})),n.createElement("filter",{id:"filter0_dd_4378_11342",x:"3.99829",y:"4",width:"72",height:"42",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"1"}),n.createElement("feGaussianBlur",{stdDeviation:"1.5"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11342"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"0.25"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_4378_11342",result:"effect2_dropShadow_4378_11342"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_4378_11342",result:"shape"})),n.createElement("pattern",{id:"pattern2_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},n.createElement("use",{xlinkHref:"#image0_4378_11342",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})),n.createElement("pattern",{id:"pattern3_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},n.createElement("use",{xlinkHref:"#image1_4378_11342",transform:"matrix(0.000909091 0 0 0.00166667 -0.0454545 0)"})),n.createElement("clipPath",{id:"clip0_4378_11342"},n.createElement("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"white"})),n.createElement("image",{id:"image0_4378_11342",width:"1200",height:"687"}),n.createElement("image",{id:"image1_4378_11342",width:"1200",height:"600"})))}function n_({type:e}){let{navigateToVisualAssets:t}=(0,k.wV)(),l=(0,et.sN)(),a=n.useCallback(e=>{l("visualAssetPacks",e)},[l]),r=n.useCallback(()=>{a(t(e))},[t,a,e]);return n.createElement("div",{className:"asset_panel_visual_asset_packs--assetPanelRow--zIB-D"},n.createElement("button",{onClick:r,className:"asset_panel_visual_asset_packs--assetPackContainer--hci-7"},n.createElement(ng,{type:e})))}function ng({type:e}){let t=e===k.G3.IconSets?n.createElement(nm,null):n.createElement(nh,null),l=e===k.G3.IconSets?(0,c.t)("design_systems.assets_panel.icon_sets"):(0,c.t)("design_systems.assets_panel.illustrations");return n.createElement("div",{className:"asset_panel_visual_asset_packs--assetPack--cBQV4"},t,n.createElement("h3",{className:"asset_panel_visual_asset_packs--title--NDdZn ellipsis--ellipsis--Tjyfa"},l))}let ny=(0,D.jz)(q.RU)+1,nf=(0,D.jz)(q.nT),nE=16/9;function nb({sidebarWidth:e,minCardWidth:t=180,previewPadding:l=ny,widthToHeightRatio:a=nE,rowPadding:r=nf}){let i=e-2*r,s=n.useMemo(()=>tA({elementMinSize:t,spaceAvailable:i,gap:0}),[t,i]),o=n.useMemo(()=>tx({numElements:s,spaceAvailable:i,gap:0}),[s,i]),c=n.useMemo(()=>o-2*l,[o,l]),d=n.useMemo(()=>tM({width:c,widthToHeightRatio:a}),[c,a]);return n.useMemo(()=>({cardWidth:o,previewWidth:c,previewHeight:d,numColumns:s}),[o,c,d,s])}var nv=l(900097);function nC(){let e=(0,u._G)(),{getLibrary:t}=(0,er.G)(),{libraries:l,presets:a,siteLibraries:r,librariesForConnectedProject:i}=(0,nv.g)(),s=n.useMemo(()=>t(e??void 0),[t,e]),o=n.useMemo(()=>!s||(s.type===G.yW.DESIGN?0===s.numComponents&&0===s.numTemplates:0===s.numResponsiveSets),[s]),c=0===l.length,d=0===a.length,p=0===i.length;return n.useMemo(()=>o&&c&&d&&p&&"disabled"===r.status,[o,c,d,p,r])}var nk=l(212552);let nS="asset_panel_libraries--row--nHi0j",nw="asset_panel_libraries--libraryPrimaryButton--hs6a7",nN=(0,D.jz)(q.YJ),nT=(0,D.jz)(q.RQ),nI=(0,D.jz)(q.ce),nA=(0,D.jz)(q.Kv),nx=(0,D.jz)(q.PK),nM=(0,D.jz)(q.vr),nP=(0,D.jz)(q.GU);function nL({width:e,hideScrollbar:t,localAssets:l}){let{libraries:a,presets:r,siteLibraries:i,librariesForConnectedProject:s}=(0,nv.g)();return nC()?n.createElement("div",{style:{width:e}},n.createElement(l7.od,null)):n.createElement(nR,{localAssets:l,subscribedLibraries:a,librariesForConnectedProject:s,presetLibraries:r,siteLibraries:i,hideScrollbar:t,width:e})}function nR({localAssets:e,subscribedLibraries:t,presetLibraries:l,siteLibraries:a,librariesForConnectedProject:r,width:i,hideScrollbar:s}){let{librariesScrollTop:o,handleScrollLibraries:d}=tI(),u=!!(0,_.GM)()(),p=(0,l5.H)(),{currentView:m}=(0,k.wV)(),[g]=(0,en.MA)(),y=u?en.$H.LIST:g,{cardWidth:f,previewHeight:E,numColumns:b}=nb({sidebarWidth:i}),{libraryKeys:v}=(0,eo.useAtomValue)(nk.AS),C=v.length+1,S=y===en.$H.GRID?b:1,w="grid"===y?nN+E+2:nA,N=t.length>0,T=e.numComponents+e.numTemplates>0,I=l.length>0,A=p&&r.length>0,x=A&&(N||T||"disabled"!==a.status),M=I&&(A||N||T||"disabled"!==a.status),P=n.useMemo(()=>{let i=[];if("disabled"!==a.status&&(0,j.kc)().ds_sts_kit){let e=a.data??[],t=w;if("grid"===y&&(t-=nP),0===e.length)for(let e=0;e<C;e+=S){let l=Math.min(C-e,S);i.push({element:n.createElement("div",{className:nS},[...Array(l)].map((t,l)=>n.createElement(nu,{key:`site kit loading-${e+l}`,previewHeight:E,cardWidth:f,isList:g===en.$H.LIST}))),key:`site kit loading-${e}`,keys:[`site kit loading-${e}`],height:t})}else for(let l=0;l<e.length;l+=S){let a=e.slice(l,l+S);i.push({element:n.createElement("div",{className:nS},a.map((e,t)=>n.createElement(nc,{key:e.libraryKey,library:e,keyboardSection:G.gP.SITE_KIT,rowIndex:l,columnIndex:t,cardWidth:f,previewHeight:E}))),key:a.map(e=>e.libraryKey).join("-"),keys:a.map(e=>e.libraryKey),height:t})}(T||N)&&(i.push({element:n.createElement(ei.cG,null),key:"kits_divider",height:nT}),i.push({element:n.createElement(ei.X3,{title:(0,c.t)("design_systems.assets_panel.dropdown_type_all_libraries")}),key:"all_libraries_header",height:nI}))}let s=[];T&&s.push(e),N&&s.push(...t);for(let e=0;e<s.length;e+=S){let t=s.slice(e,e+S);i.push({element:n.createElement("div",{className:nS},t.map((t,l)=>n.createElement(nc,{key:t.libraryKey,library:t,keyboardSection:G.gP.LOCAL_AND_SUBSCRIBED,rowIndex:e,columnIndex:l,cardWidth:f,previewHeight:E}))),key:t.map(e=>e.libraryKey).join("-"),keys:t.map(e=>e.libraryKey),height:w})}if(p){x&&(i.push({element:n.createElement(ei.cG,null),key:"connected_project_divider",height:nT}),i.push({element:n.createElement(ei.X3,{title:(0,c.t)("design_systems.libraries_modal.connected_project_libraries")}),key:"connected_project_header",height:nI}));for(let e=0;e<r.length;e+=S){let t=r.slice(e,e+S);i.push({element:n.createElement("div",{className:nS},t.map((t,l)=>n.createElement(nc,{key:t.libraryKey,library:t,keyboardSection:G.gP.LOCAL_AND_SUBSCRIBED,rowIndex:e,columnIndex:l,cardWidth:f,previewHeight:E}))),key:t.map(e=>e.libraryKey).join("-"),keys:t.map(e=>e.libraryKey),height:w})}}M&&(i.push({element:n.createElement(ei.cG,null),key:"presets_divider",height:nT}),i.push({element:n.createElement(ei.X3,{title:(0,c.t)("design_systems.assets_panel.ui_kits")}),key:"preset_libraries_header",height:nI}));for(let e=0;e<l.length;e+=S){let t=l.slice(e,e+S);i.push({element:n.createElement("div",{className:nS},t.map((t,l)=>n.createElement(nc,{key:t.libraryKey,library:t,keyboardSection:G.gP.PRESETS,rowIndex:e,columnIndex:l,cardWidth:f,previewHeight:E}))),key:t.map(e=>e.libraryKey).join("-"),keys:t.map(e=>e.libraryKey),height:w})}return u&&(i.push({element:n.createElement(ei.cG,null),key:"va_packs_divider",height:nT}),i.push({element:n.createElement(ei.X3,{title:(0,c.t)("design_systems.assets_panel.assets_from_community"),onboardingKey:h.Bs}),key:"visual_assets_header",height:nI}),i.push({element:n.createElement(n_,{type:k.G3.IconSets}),key:"visual_assets_icon_sets",height:nM}),i.push({element:n.createElement(n_,{type:k.G3.Illustrations}),key:"visual_assets_illustrations",height:nM})),i.push(u?{element:n.createElement(nD,null),key:"browse_more_assets_button",height:nx}:{element:n.createElement(nO,null),key:"add_more_libraries_button",height:nx}),i},[a.status,a.data,T,N,p,M,u,w,y,C,S,E,f,g,e,t,x,r,l]);return n.createElement(tc,{elements:P,hideScrollbar:s,initialScrollTop:o,onScroll:d,anchorScroll:m===k.S5.Libraries})}function nO(){let{onToggleLibraryModal:e}=(0,l6.u)({entrypoint:l8.r6.ASSETS_PANEL_ADD_MORE_LIBRARIES,modalType:"editor",initialTab:th.Wv.RECOMMENDED});return n.createElement("div",{className:nw},n.createElement(l1.$n,{variant:"secondary",onClick:e,recordingKey:"assetsLibrary.addMoreLibraries"},(0,c.tx)("design_systems.assets_panel.add_more_libraries")))}function nD(){return n.createElement(l2.o3,{trackingEventName:"cmty_category",trackingProperties:{name:"visual_assets_browse_more_assets_clicked",text:"Browse more assets"},to:new l4.IE({categorySlug:l3.LJ.icons}).to,className:nw,target:"_blank"},n.createElement(l1.$n,{variant:"secondary",recordingKey:"assetsLibrary.browseMoreAssets"},(0,c.tx)("design_systems.assets_panel.browse_more_assets")))}var nF=l(463844);function nB({page:e,index:t}){let l=(0,et.sN)(),[r]=(0,en.MA)(),{navigateToPage:i,libraryKey:s,currentView:o}=(0,k.wV)(),c=n.useCallback(()=>{l("pageRow",i(e.id))},[l,i,e.id]),d=e.id,p=o!==k.S5.Pages,{keyboardNavigationItem:m,setKeyboardNavigationElement:h}=(0,K.M3)({path:[G.ON.CONTENTS,G.lM.PAGES,t],id:e.id,disabled:p}),{focusFirstItem:_,focusSearchBar:g}=(0,el.rl)();(0,el.C0)(m,o===k.S5.Pages&&0===t);let y=(0,el.MB)({onBoth:c,onKeyDown:_,onClick:g}),f=function(e,t){let l=(0,u.q5)(),r=(0,ed.wA)(),i=e===l?.libraryKey,s=e&&!!t,o=(0,lB.b)({libraryKey:e,nodeId:t}),c=n.useMemo(()=>{if(o.data?.type==="team")return o.data.link},[o]),d=n.useCallback(()=>(0,lY.UN)().setCurrentPageAsync(t??""),[t]),p=n.useCallback(()=>{a.az.trackDefinedEvent("assets_panel.go_to_page",{libraryKey:e??"",pageId:t,fileKey:l?.key,fileTeamId:l?.teamId??void 0,fileOrgId:l?.parentOrgId??void 0,isLocal:i})},[i,e,l?.key,l?.parentOrgId,l?.teamId,t]),m=n.useCallback(()=>{d(),p()},[d,p]),h=n.useCallback(()=>{a.az.trackDefinedEvent("assets_panel.open_page_context_menu",{libraryKey:e??"",pageId:t,fileKey:l?.key,fileTeamId:l?.teamId??void 0,fileOrgId:l?.parentOrgId??void 0})},[e,l?.key,l?.parentOrgId,l?.teamId,t]),_=(0,R.fd)(e);return n.useCallback(e=>{s&&!_&&(e.preventDefault(),e.stopPropagation(),r((0,lF.j7)({type:lX,data:{libraryPageHref:c,pageId:t,isLocalLibrary:i,onClickLocalPage:m,onClickSubscribedPage:p,position:{top:e.clientY,left:e.clientX}}})),h())},[s,_,r,c,t,i,m,p,h])}(s,e.id),E=n.useMemo(()=>"list"===r?"icon":"preview",[r]);return n.createElement(ee,{keyPrefix:d,name:e.name,onClick:y,onContextMenu:f,previewAssetOrUrl:e.previewAsset,recordingKey:`assetsPage.${e.id}`,ref:h,disabled:p,variant:E})}var nK=l(94489);let nG="performance.ds_eco.asset_panel_pages_view_loading",nV=new nK.jk(nG,{});function nH({didFinishLoading:e}){let t=nV.stop();(0,a.sx)(nG,{elapsedMs:t,isNewAssetPanelFetch:!0,didFinishLoading:e},{forwardToDatadog:!0})}var nU=l(538887);let nz=(0,D.jz)(q.Mj),nW=(0,D.jz)(q.$c),nj=(0,D.jz)(q.d5),n$=2*nz,nY=(0,D.jz)(q.Kd),nX=(0,D.jz)(q.y4),nZ=(0,D.jz)(q.Gd),nq=(0,D.jz)(q.xP);function nJ({page:e,thumbWidth:t,thumbHeight:l,row:a,column:r}){let i=(0,et.sN)(),{navigateToPage:s,currentView:c}=(0,k.wV)(),d=n.useCallback(()=>{i("pageRow",s(e.id))},[i,s,e.id]),u=c!==k.S5.Pages,{keyboardNavigationItem:p,setKeyboardNavigationElement:m}=(0,K.M3)({path:[G.ON.CONTENTS,G.lM.PAGES,a],column:r,id:e.id,disabled:u}),{focusFirstItem:h,focusSearchBar:_}=(0,el.rl)();(0,el.C0)(p,c===k.S5.Pages&&0===a&&0===r);let g=(0,el.MB)({onBoth:d,onKeyDown:h,onClick:_}),{widthForCentering:y,textRef:f,iconRef:E}=function(e){let[t,l]=n.useState(void 0),a=n.useCallback(e=>l(e?.scrollWidth),[]),[r,i]=n.useState(void 0);return{textRef:a,iconRef:n.useCallback(e=>i(e?.scrollWidth),[]),widthForCentering:n.useMemo(()=>t&&r?Math.max(Math.min(e-(t+r)-1,r),0):-1,[r,t,e])}}(t),b=(0,G.AZ)(e)?e.embeds[0]?.thumbnail_url:e.previewAsset;return n.createElement(V.E,{className:"site_kit_pages--tile--GWdsc",onClick:g,ref:m,"aria-label":e.name,disabled:u},b?n.createElement(Y.V,{previewAssetOrUrl:b,type:"no-padding",height:l,width:t,keyPrefix:e.id}):n.createElement("div",{className:Z,style:{height:l,width:t}}),n.createElement("div",{className:o.s.flex.flexColumn.itemsCenter.wFull.$,style:{width:t}},n.createElement("span",{className:"site_kit_pages--pageName--ARhz3 site_kit_pages--text--gyBIU"},y>0&&n.createElement("div",{className:o.s.flexShrink0.$,style:{width:y}}),n.createElement(tU.G,{text:e.name,ref:f}),n.createElement("div",{className:"site_kit_pages--chevron--MPDzd",ref:E},n.createElement(nU.k,null)))))}let nQ=(0,D.jz)(q.RQ),n0=(0,D.jz)(q._q),n1=(0,D.jz)(q.HE);function n5({library:e,width:t,hideScrollbar:l,isLoading:a}){!function({isLoading:e}){let{currentView:t}=(0,k.wV)(),l=(0,ep.ZC)(t);n.useEffect(()=>(l===k.S5.Libraries&&t===k.S5.Pages&&nV.start(),t===k.S5.Pages&&!e&&nV.isRunning&&nH({didFinishLoading:!0}),()=>{l===k.S5.Pages&&t!==k.S5.Pages&&nV.isRunning&&nH({didFinishLoading:!1})}),[e,t,l])}({isLoading:a});let[r]=(0,en.MA)(),{pagesScrollTop:i,handleScrollPages:s}=tI({libraryKey:e?.libraryKey}),o=n.useMemo(()=>e?Array.from(e.pages):[],[e]),c=(0,R.fd)(e?.libraryKey),{thumbWidth:d,thumbHeight:u,numColumns:p}=function(){let{width:e}=e4(),t=n.useMemo(()=>e-n$,[e]),l=Math.max(Math.min(3,tA({elementMinSize:98,gap:nY,spaceAvailable:t})),2),a=tx({numElements:l,gap:nY,spaceAvailable:t})-2*nZ;return{thumbWidth:a,thumbHeight:a,numColumns:l}}(),m=n.useMemo(()=>{if(e?.type===G.yW.SITE&&"grid"===r)return function(e,t,l,a){let r=Array.from(e.pages),i=[],s=l+2*nZ+nX+nq;for(let e=0;e<r.length;e+=a){let o=0===e?"site_kit_pages--virtualRowFirst--pNAgS site_kit_pages--virtualRow--F7pf9":"site_kit_pages--virtualRow--F7pf9",c=r.slice(e,e+a),d=[],u=c.map(([e])=>e);c.forEach(([a,r],i)=>{r&&d.push(n.createElement(nJ,{key:a,page:r,row:e,column:i,thumbWidth:t,thumbHeight:l}))}),i.push({element:n.createElement("div",{className:o,style:{gap:nY},role:"row"},d),key:u.join("-"),keys:u,height:s+(0===e?0:nz)})}return i.length>0&&(i.unshift({element:n.createElement(ei.hK,{height:nW}),key:"spacer-top",height:nW}),i.push({element:n.createElement(ei.hK,{height:nj}),key:"spacer-bottom",height:nj})),i}(e,d,u,p);let t=[];return o.forEach(([e,l],a)=>{t.push({element:n.createElement(nB,{page:l,index:a}),height:"list"===r?n1:n0,key:e}),0===a&&(0,F.dS)(l.name,{isPreset:c})&&t.push({element:n.createElement(ei.cG,null),key:"examples_divider",height:nQ})}),t},[e,r,o,d,u,p,c]);return a?n.createElement("div",{className:"asset_panel_pages--loadingContainer--fyofJ",style:{width:t},"data-testid":"asset-panel-pages-spinner"},n.createElement(nF.k,null)):0===o.length?n.createElement("div",{style:{width:t}}):n.createElement(tc,{elements:m,hideScrollbar:l,initialScrollTop:i,onScroll:s})}var n3=l(568116),n4=l(567095),n2=l(552371),n6=l(89865),n7=l.n(n6),n8=l(615875),n9=l(15092);function ae(){let e=nk.ce().data?.assetsByLibraryKey,t=n.useMemo(()=>e?[...e.values()].flat():[],[e]),l=n.useMemo(()=>(0,ty.u)(),[]),a=(0,n8.o)(th.PW.RESPONSIVE_SET),r=(0,eo.useAtomValue)(ln),i=(0,n9.TA)(),s=n.useMemo(()=>{if(!i)return[];let e=[...a,...r].filter(e=>e.lastAddedAtUserId[i]);return(0,td.hR)(e,e=>-(e.lastAddedAtUserId[i]??0)),e},[a,r,i]);return n.useMemo(()=>{let e=n7()(t??[],"key"),n=n7()(l,"name");return s.map(t=>"key"in t?e[t.key]:n[t.name]).filter(n2.Gh)},[s,t,l])}let at="asset_panel_recents--resultsWrapper--k79Vy",al="asset_panel_recents--resultsWrapperList--peuzW";function an(){let{productComponents:e}=(0,n3.g5)(n4.$A.Design),t=ae(),{getLibrary:l}=(0,er.G)(),[a]=(0,en.MA)(),r="list"===a,i=n.useCallback(e=>{let t=l(e);return t?.name||""},[l]),s=tG(),{props:o,numColumns:d}=n.useMemo(()=>tV(s,a,B.rp.NORMAL),[s,a]),{componentSectionNameForTracking:u}=(0,et.zf)(),p=e.length>0,m=(0,j.kc)().ds_sts_kit&&t.length>0;return n.createElement(ei.xU,null,m&&n.createElement(n.Fragment,null,n.createElement(ei.X3,{title:(0,c.t)("design_systems.assets_panel.site_blocks")}),n.createElement("div",{className:r?al:at},t.map((e,t)=>"embed"===e.type?n.createElement(ll,{embed:e,key:e.name,sectionNameForTracking:"Recently used site kit assets",sectionPosition:t,keyboardPosition:(0,el.pg)([G.tM.SITE_KIT],t,d),thumbHeight:o.thumbHeight,thumbWidth:o.thumbWidth,libraryName:(0,c.t)("design_systems.assets_panel.site_interactive_elements")}):n.createElement(tX,{key:`assetPanelRecents:siteKit:${(0,ec.V)(e)}`,asset:e,sectionNameForTracking:"Recently used site kit assets",sectionPosition:t,keyboardPosition:(0,el.pg)([G.tM.SITE_KIT],t,d),thumbHeight:o.thumbHeight,thumbWidth:o.thumbWidth,libraryName:i(e.sourceLibraryKey)})))),m&&p&&n.createElement("div",{className:"asset_panel_recents--buffer--URYGQ"}),p&&n.createElement(n.Fragment,null,m&&n.createElement(ei.X3,{title:(0,c.t)("design_systems.assets_panel.dropdown_type_all_libraries")}),n.createElement("div",{className:r?al:at},e.map((e,t)=>n.createElement(eq,{key:`assetPanelRecents:component:${(0,ec.V)(e)}`,asset:e,fileName:i(e.library_key),sectionNameForTracking:u,sectionPosition:t,keyboardPosition:(0,el.pg)([G.tM.COMPONENTS],t,d),...o})))),n.createElement("div",{className:"asset_panel_recents--bottomPadding--9BTkl"}))}var aa=l(747579),ar=l(126049),ai=l(746643),as=l(788843),ao=l(608520),ac=l(827473),ad=l(575232),au=l(835878),ap=l(354465),am=l(767731),ah=l(62257);let a_=function({isLoading:e,children:t}){return e?n.createElement("div",{className:"maybe_loading--loadingContainer--Wfq03"},n.createElement(nF.k,null)):n.createElement(n.Fragment,null,t)};var ag=l(217950),ay=l(653798),af=l(73041),aE=l(314540);let ab=new(l(484930)).KH({keys:[{name:"name",weight:.6},{name:"containingFrame.name",weight:.1},{name:"containingFrame.pageName",weight:.1},{name:"description",weight:.05}],threshold:.3,tokenize:!0,shouldSort:!0});function av(){var e;let t=(0,af.lg)()===aE._Y.SITES&&(0,j.kc)().ds_sts_kit,l=(0,nk.ce)(),a=l.data?.assetsByLibraryKey,r=n.useMemo(()=>(0,ty.u)(),[]),s=n.useMemo(()=>{let e=a?[...a?.values()].flat():[];return e?[...e,...r]:void 0},[a,r]),{query:o,searchOption:c}=(0,eS.I)(ew.Cn.AssetsPanel),d=t&&c&&[eA.I.SITE_KIT,eA.I.ALL].includes(c?.type),u=(0,M.$)(s),p=(0,ep.ZC)(o),[m,h]=n.useState([]),[_,g]=n.useState(!1);return n.useLayoutEffect(()=>{(async function(){if(u&&ab.set(s??[]),!o||0===ab.list().length){h([]);return}p||g(!0);let e=[];try{e=(await ab.search(o)).map(e=>e.item)}catch(e){(0,ay.x1)(ag.e.DESIGN_SYSTEMS_ECOSYSTEM,"error in site kit search",{message:e.message},{reportAsSentryError:!0})}h(e),g(!1)})()},[s,p,o,u]),e=m.length,n.useEffect(()=>{(0,tW.hw)(e)},[e]),(0,i.h)(()=>()=>(0,tW.hw)(0)),{results:d?m:[],loading:_,query:o}}let aC="asset_panel_search_results--empty--72Hqc",ak=(0,D.jz)(q.ce),aS=(0,D.jz)(q.GH),aw=(0,D.jz)(q.RX),aN="Search keywords and filter results by specific libraries, templates, and components.",aT=({moreResults:e,query:t,assetType:l,showMoreDefault:a})=>{let r=!!(0,_.GM)()(),[i,s]=n.useState(!1),o=a||i||r,d=n.useCallback(()=>s(!0),[]);n.useEffect(()=>s(!1),[t]);let{visualAssetsType:u}=(0,k.wV)(),p=r&&!!u,m=n.useMemo(()=>e.map(e=>e.library_key),[e]),{data:h}=(0,ad.U)(m),g=n.useCallback(e=>h?.[e.library_key]??"",[h]),[y]=(0,en.MA)(),f=tG(),E="templates"===l,{props:b,numColumns:v}=n.useMemo(()=>tV(f,y,B.rp.NORMAL,E),[f,y,E]),{componentSectionNameForTracking:C,templateSectionNameForTracking:S}=(0,et.zf)({moreSearchResults:!0}),w=n.useMemo(()=>to(e,v,`${l}:moreResults`,b,E?S:C,[E?G.tM.TEMPLATES:G.tM.COMPONENTS,1],{getFileName:g}),[e,v,l,b,E,S,C,g]);return n.useMemo(()=>{if(0===e.length)return[];let t=[];return p||t.push({element:n.createElement("div",{className:r?"asset_panel_search_results--visualAssetsShowMoreText--sxfrf asset_panel_search_results--visualAssetsShowMore--MJbt7":"asset_panel_search_results--showMoreText--mEcU5 asset_panel_search_results--showMore--yo9-j"},o&&(0,c.tx)("design_systems.assets_panel.showing_results_from_all_libraries"),!o&&n.createElement("button",{className:"asset_panel_search_results--showMoreLink--3-Ww3 asset_panel_search_results--showMore--yo9-j blue_link--blueLink--9rlnd",onClick:d},(0,c.tx)("design_systems.assets_panel.more_results_in_all_libraries",{results:e.length}))),key:`${l}:showMoreText`,height:r?aw:aS}),o&&t.push(...w),t},[l,e.length,o,d,w,p,r])};function aI({components:e,moreComponents:t,templates:l,moreTemplates:a,siteKitAssets:r,query:i,getLibraryNameFromKey:s}){let o=aR(e),d=aR(t),u=(0,j.kc)().dse_editor_templates_v1,p=o.length+d.length>0,m=l.length+a.length>0,h=r.length>0,_=n.useCallback(e=>s(e.library_key),[s]),[g]=(0,en.MA)(),y=tG(),{props:f,numColumns:E}=n.useMemo(()=>tV(y,g,B.rp.NORMAL),[y,g]),{componentSectionNameForTracking:b,templateSectionNameForTracking:v}=(0,et.zf)(),C=n.useMemo(()=>to(o,E,"components",f,b,[G.tM.COMPONENTS,0],{getFileName:_}),[o,E,f,b,_]),{props:k,numColumns:S}=n.useMemo(()=>tV(y,g,B.rp.NORMAL),[y,g]),w=n.useMemo(()=>to(l,S,"templates",k,v,[G.tM.TEMPLATES,0],{getFileName:_}),[l,S,k,v,_]),N=aT({moreResults:d,query:i,assetType:"components",showMoreDefault:0===o.length&&d.length>0}),T=aT({moreResults:a,query:i,assetType:"templates"}),I=aO(r),A=n.useMemo(()=>(0,j.kc)().ds_sts_kit?l_(r,E,f.thumbWidth,f.thumbHeight,g,"assets","Site kit search results",[G.tM.SITE_KIT],{libraryKeyToLibraryName:I}):[],[g,E,f.thumbHeight,f.thumbWidth,I,r]),x=n.useMemo(()=>{let e=[];return h&&(e.push({element:n.createElement(ei.X3,{title:(0,c.t)("design_systems.assets_panel.site_blocks"),numResults:r.length}),key:"sitesHeader",height:ak}),e.push(...A)),u&&m&&(e.push({element:n.createElement(ei.X3,{title:(0,c.t)("design_systems.assets_panel.templates")}),key:"templatesHeader",height:ak}),e.push(...w),e.push(...T)),p&&(m?e.push({element:n.createElement(ei.X3,{title:(0,c.t)("design_systems.assets_panel.components")}),key:"componentsHeader",height:ak}):h&&e.push({element:n.createElement(ei.X3,{title:(0,c.t)("design_systems.assets_panel.dropdown_type_all_libraries"),numResults:o.length}),key:"componentsHeader",height:ak}),e.push(...C),e.push(...N)),e},[h,u,m,p,r.length,A,w,T,C,N,o.length]);return n.createElement(tc,{elements:x,anchorScroll:!0})}function aA(){return(0,k._m)()?n.createElement(aM,null):n.createElement(ax,null)}function ax(){let{query:e,results:t,isLoading:l}=(0,eS.I)(ew.Cn.AssetsPanel),{normalizedSearchResults:a,unsubscribedSearchResults:r}=t,i=av(),s=(0,ah.U)(),{libraryKey:o}=(0,k.wV)(),{getLibrary:d}=(0,er.G)(),u=n.useMemo(()=>a.map(e=>e.library_key),[a]),{data:p,status:m}=(0,ad.U)(u),h=aP(e),_="loading"===m,g=_&&h,y=n.useCallback(e=>p?.[e]??d(e)?.name??"",[p,d]),f=n.useMemo(()=>o?d(o)?.name:void 0,[d,o]),[E,b]=n.useMemo(()=>(0,au._2)(a.filter(e=>y(e.library_key))),[a,y]),[v,C]=n.useMemo(()=>(0,au._2)(r),[r]),S=b.length+C.length>0,w=E.length+v.length>0,N=i.results.length>0,T=g||l||s||i.loading;return aL({query:e,isLoading:T,isLoadingBreakdown:{isLibraryNamesLoadingWithTimeout:g,isSearchLoading:l,isSubscribedComponentsLoading:s},additionalLogData:{isLibraryNamesLoading:_,isLibraryNamesLoadingTimerActive:h}}),e?n.createElement(a_,{isLoading:T},S||w||N?n.createElement(aI,{components:b,moreComponents:C,templates:E,moreTemplates:v,siteKitAssets:i.results,query:e,getLibraryNameFromKey:y}):n.createElement("div",{className:aC},f?(0,c.tx)("design_systems.assets_panel.no_results_for_query_in_library",{searchQuery:e,libraryName:f}):(0,c.tx)("design_systems.assets_panel.no_results_for_query",{searchQuery:e}))):n.createElement("div",{className:aC},aN)}function aM(){let{results:e,loading:t,query:l}=av(),{libraryKey:a}=(0,k.wV)(),[r]=(0,en.MA)(),{getLibrary:i}=(0,er.G)(),s=n.useMemo(()=>a?i(a)?.name:void 0,[i,a]),{width:o}=e4(),{tileHeight:d,tileWidth:u,numColumns:p}=function(e){let[t]=(0,en.MA)(),l=e-tL,a=Math.min(n.useMemo(()=>tA({elementMinSize:120,gap:tP,spaceAvailable:l}),[l]),3),r=n.useMemo(()=>tx({numElements:a,gap:tP,spaceAvailable:l}),[a,l]),i=n.useMemo(()=>tM({width:r,widthToHeightRatio:1,maxHeight:void 0}),[r]);return"list"===t?{tileWidth:40,tileHeight:40,numColumns:1}:{tileWidth:r,tileHeight:i,numColumns:a}}(o),m=n.useMemo(()=>l_(e,p,u,d,r,"assets","Site kit search results",[G.tM.COMPONENTS],{includesFirstTile:!0}),[r,p,e,d,u]);return l?n.createElement(a_,{isLoading:t},e.length>0?n.createElement(tc,{elements:m,anchorScroll:!0}):n.createElement("div",{className:aC},(0,c.tx)("design_systems.assets_panel.no_results_for_query_in_library",{searchQuery:l,libraryName:s}))):n.createElement("div",{className:aC},aN)}let aP=e=>{let t=(0,ep.ZC)(e),{isActive:l,start:a}=(0,ao.Z)(ai.lQ);return n.useEffect(()=>{e!==t&&a(1e4)},[e,t,a]),l},aL=({isLoading:e,isLoadingBreakdown:t,additionalLogData:l,query:r})=>{let i=(0,ep.ZC)(e),s=(0,ep.ZC)(r),[o,c]=n.useState(null),d=(0,n9.iZ)(),m=(0,aa.DP)().version,h=(0,e1.tM)(),_=(0,ep.ZC)(h),g=(0,p.je)(),y=(0,ed.d4)(e=>e.fileVersion),f=(0,ed.d4)(e=>e.loadingState),E=(0,u.q5)(),b=E?.key,v=(0,ap.oh)(as.fi),C=n.useCallback(n=>{if(!o)return;let r=Date.now()-o;if(r<5e3)return;let i=g.data?.map(e=>{let t=ac.Mb(e.libraryKey);return{libraryKey:e.libraryKey,isLoading:!ap.D2(f,t)}}),s=E&&null!=y&&(0,am.yD)(E.key)||null,c=!(null!=s&&(0,ap.D2)(f,s));a.az.trackDefinedEvent("assets_panel.search_long_loading",{...t,...l,fileKey:b,userId:d?.id,uiThemeVersion:m,queryId:h??_??void 0,loadingTimeMS:r,isLoading:e,queryCancelled:n,isLoadingSubscribedComponentsAndStateGroups:c,isLoadingRecentlyUsedItems:v,subscribedLibariesLoading:JSON.stringify(i)})},[g,y,f,E,o,e,t,v,b,l,d?.id,m,h,_]),k=(0,ar.A)(C,100,{leading:!0,trailing:!1}),S=n.useRef(C);n.useEffect(()=>{S.current=C},[C]);let{start:w,cancel:N}=(0,ao.Z)(()=>k(!1)),T=n.useCallback(()=>{C(!0),c(Date.now()),w(5e3)},[C,w]);n.useEffect(()=>{e&&!i?T():!e&&i&&(N(),C(!1),c(null))},[e,i,T,C,N]),n.useEffect(()=>{r!==s&&T()},[r,s,T]),n.useEffect(()=>()=>{S.current(!0)},[])},aR=e=>{let{visualAssetsType:t}=(0,k.wV)(),l=!!(0,_.GM)()(),a=(0,eo.useAtomValue)(eV.QN),r=(0,eo.useAtomValue)(eV.r9),i=l&&!!t;return n.useMemo(()=>i?e.filter(e=>e.hub_file_id&&(t===k.G3.IconSets?a.includes(e.library_key):r.includes(e.library_key))):e,[i,e,t,a,r])},aO=e=>{let t=n.useMemo(()=>e.map(e=>e.type===th.PW.RESPONSIVE_SET?e.sourceLibraryKey:(0,tu.l)(tg.Yl)),[e]),{getLibrary:l}=(0,er.G)(),{data:a,status:r}=(0,ad.U)(t);return n.useCallback(e=>{let t=e.type===th.PW.RESPONSIVE_SET?e.sourceLibraryKey:(0,tu.l)(tg.Yl);return a?.[t]??l(t)?.name??""},[a,l])};var aD=l(206814);function aF({libraryKey:e,numComponents:t,size:l}){let{focusSearchBar:a}=(0,el.rl)(),{navigateToLibrary:r}=(0,k.wV)(),i=(0,et.sN)(),s=n.useCallback(()=>{i("visualAssetMoreTile",r(e))},[e,i,r]),o=n.useCallback(e=>{e.stopPropagation(),s(),a()},[a,s]),c=t-11,d=c>=1e3?(c/1e3).toFixed(1)+"k":c.toString();return n.createElement("button",{onClick:o,className:"asset_panel_visual_asset_more_tile--tile--r9fF-",style:{width:l,height:l}},n.createElement("div",{className:"asset_panel_visual_asset_more_tile--moreText--QNS99 text--fontPos13--xW8hS text--_fontBase--QdLsd"},"+",d))}function aB({libraryKey:e,sectionIndex:t}){let{width:l}=e4(),a=(0,eo.useAtomValue)(eV.Rs),{getLibrary:r}=(0,er.G)(),i=r(e),s=i?.type===G.yW.DESIGN?i.numComponents:0,o=n.useMemo(()=>{if(i?.type===G.yW.DESIGN)return Array.from(i.pages.values())},[i]),c=[];if(o?.[0]?.components&&i?.fileKey){let e=a?.[i?.libraryKey]?.asset_panel_component_ids||[];if(e.length>=11){let t=[];o.forEach(l=>{if(l.components){let n=tk(l.components).filter(t=>"component_key"in t&&e.includes(t.component_key||""));t.push(...n)}});let l=t.reduce((e,t)=>("component_key"in t&&t.component_key&&(e[t.component_key||""]=t),e),{});c=e.map(e=>l[e]).filter(e=>!!e)}else c=tk(o[0].components).slice(0,11)}let d=(0,B.PI)(c,!0),u=(l-24-24)/4,p={showName:!1,noBackground:!0};return c.length?n.createElement("div",{className:"asset_panel_visual_asset_components--container--qLYh4"},[0,1,2].map(l=>n.createElement("div",{className:"asset_panel_visual_asset_components--row--leYBr",key:l},c.slice(4*l,(l+1)*4).map((e,a)=>n.createElement(eq,{asset:e,fileName:void 0,key:`$visualAssetsPanel:component:${(0,ec.V)(e)}`,sourceForTracking:"visual-assets-panel",sectionNameForTracking:"Visual assets panel",thumbLayout:d,thumbHeight:u,isFirstTile:!1,sectionPosition:l*a,sectionDepth:a,keyboardPosition:{path:[t,l],column:a},thumbWidth:u,viewMode:eR.Bk.Grid,displayType:"grid",libraryItemTileProps:p,disableClickPropagation:!0,hideInlineName:!0,isVisualAsset:!0})),2===l&&n.createElement(aF,{libraryKey:e,numComponents:s,size:u})))):null}function aK({library:e,sectionIndex:t}){let{navigateToLibrary:l}=(0,k.wV)(),a=(0,u.q5)(),[r,i]=n.useState(!1),s=(0,et.sN)(),o=n.useCallback(()=>{s("visualAssetLibraryCard",l(e.libraryKey))},[e,s,l]),c=n.useMemo(()=>{let t=e.fileKey===a?.key?"localLibrary":e.fileKey;return em.Pt("assetsLibrary",t)},[a?.key,e.fileKey]);return n.createElement($.GG,{className:W()("asset_panel_visual_asset_library--library--ta4FR",{"asset_panel_visual_asset_library--hovered--r37Mn":r}),"aria-label":e.name,onClick:o,style:{width:"100%"},recordingKey:c},n.createElement("div",{className:"asset_panel_visual_asset_library--libraryCard--ljr--"},n.createElement(aB,{libraryKey:e.libraryKey,sectionIndex:t}),n.createElement(aG,{library:e,setHovered:i})))}function aG({library:e,setHovered:t}){let l=(0,eo.useAtomValue)(eV.Rs),a=l?.[e.libraryKey]?.author_name||e.authorName;return n.createElement("div",{className:"asset_panel_visual_asset_library--libraryFooter--WtYtC",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1)},n.createElement("div",{className:"asset_panel_visual_asset_library--libraryNameAndAuthor---pya2"},n.createElement("div",{className:"asset_panel_visual_asset_library--nameAndIconForList--Opwld"},n.createElement("h3",{className:"asset_panel_visual_asset_library--libraryName--y8FNs ellipsis--ellipsis--Tjyfa"},e.name),n.createElement("div",{className:"asset_panel_visual_asset_library--libraryIcon--FWTh-"},n.createElement(ev.P,{libraryKey:e.libraryKey,compact:!0,showPresetTooltip:!0,colorPrimaryOnHover:!0,tooltipDelay:500,tooltipLocation:"below"}))),a&&n.createElement("div",{className:"asset_panel_visual_asset_library--libraryStats--NtW2u ellipsis--ellipsis--Tjyfa"},(0,c.tx)("community.by_publisher",{publisher:a}))))}var aV=l(764917);function aH({width:e}){let{visualAssetsType:t}=(0,k.wV)(),l=(0,ep.qd)(t),a=t??l,[r]=(0,en.MA)(),i="list"===r,s=(0,aD.lY)(),o=s.length>0,c=(0,eo.useAtomValue)(eV.QN),d=(0,eo.useAtomValue)(eV.r9),{cardWidth:u,previewHeight:p}=nb({sidebarWidth:e}),m=s.filter(e=>a===k.G3.IconSets?c.includes(e.library_key):d.includes(e.library_key));return n.createElement(ei.xU,null,o&&n.createElement(n.Fragment,null,n.createElement("div",{className:W()("asset_panel_visual_assets--list--APKhG",{"asset_panel_visual_assets--gridGap--DCeF2":!i})},m.map((e,t)=>{let l=(0,aV.x)(e);return i?n.createElement(nc,{key:e.library_file_key,library:l,keyboardSection:G.gP.VISUAL_ASSETS,rowIndex:t,columnIndex:0,cardWidth:u,previewHeight:p,hideUnsubscribe:!0}):n.createElement(aK,{key:e.library_file_key,library:l,sectionIndex:t})}))),n.createElement("div",{className:"asset_panel_visual_assets--bottomPadding--OULyc"}))}var aU=l(971158);let az=(e,t,l)=>e===k.S5.Libraries?0:l?e===k.S5.VisualAssets?1:e===k.S5.Pages||t?2:3:e===k.S5.Pages||t?1:2;function aW({assetPanelItemsByLibraryKey:e,width:t}){let{libraryKey:l,pageId:r,currentView:i,isNavigatingVisualAssets:s}=(0,k.wV)(),{previousLibraryKey:o}=(0,k.RR)(),c=aj(),d=!!(0,_.GM)()(),{getPage:p,getLibrary:m}=(0,er.G)(),h=(0,ah.q)()(l);(0,O.A)(e),a$(),(0,P.S)();let g=n.useMemo(()=>m(l??o),[m,l,o]),y=n.useMemo(()=>p(l,r),[p,l,r]),f=az(i,c,d&&s),{libraries:E,presets:b,librariesForConnectedProject:v}=(0,nv.g)(),{localAssets:C}=e;return!function(e,t,l,r){let i=(0,u.q5)(),[s,o]=(0,eo.useAtom)(aU.GT),c=t.length+l.length+r.length;e.numComponents+e.numTemplates>0&&(c+=1),n.useEffect(()=>{if(!s){o(!0);let e=aU._o.stop();e&&(0,a.sx)(aU.YS,{elapsedMs:e,fileKey:i?.key,teamId:i?.teamId,orgId:i?.parentOrgId,isUi3RedesignedAssetPanel:!0,numLibraries:c,numComponents:0,numComponentsShown:0,numSectionsShown:c},{forwardToDatadog:!0})}},[s,o,c,i])}(C,E,b,v),n.createElement(n.Fragment,null,n.createElement(l0,null),i===k.S5.Search?n.createElement(aA,null):i===k.S5.Recents?n.createElement(an,null):n.createElement(ly,{index:f,width:t},n.createElement(nL,{width:t,hideScrollbar:0!==f,localAssets:C}),d&&s&&n.createElement(aH,{width:t}),!c&&n.createElement(n5,{library:g,width:t,isLoading:h,hideScrollbar:1!==f}),n.createElement(lk,{page:y,width:t})))}let aj=()=>{let{getLibrary:e}=(0,er.G)(),{libraryKey:t}=(0,k.wV)(),l=(0,ah.q)()(t),n=e(t);return!!n&&!l&&!!(0,k.Cg)(n)},a$=()=>{let{libraryKey:e}=(0,k.wV)(),t=(0,L.R)(),l=(0,M.$)(e),a=(0,R.fd)(e);n.useEffect(()=>{a&&l&&t({updateSource:"ui3_library_expand"})},[l,a,t])};var aY=l(138225),aX=l(809471),aZ=l(797187),aq=l(920432),aJ=l(930263),aQ=l(515217),a0=l(451843),a1=l(843708),a5=l(972192),a3=l(682807);let a4=k.S5.Libraries,a2=(0,eo.atom)({suggestions:[],analyticsData:aq.YQ});function a6({suggestions:e,analyticsData:t,hasLibraries:l}){let a=function(){let e=tG();return Math.max(n.useMemo(()=>{let t=e.numColumnsByLayout[B.rp.NORMAL];return Math.ceil(aJ.lS/t)*(ts(e.componentTilePropsByLayout[B.rp.NORMAL].thumbHeight,en.$H.GRID)+16)},[e]),150)}(),r=n.useCallback(()=>{(0,aq.gb)(t,aq.GG.RESULT_INSERTED)},[t]),i=tG(),s=n.useMemo(()=>{let{props:t,numColumns:l}=tV(i,en.$H.GRID,B.rp.NORMAL);return e.slice(0,aJ.lS).map((e,a)=>n.createElement(eq,{key:`${e.id}-${a}`,asset:e,fileName:e.file_name,sectionPosition:a,keyboardPosition:(0,el.pg)([G.ON.SUGGESTIONS],a,l),onSuccessfulAssetInsert:r,...t}))},[e,i,r]);n.useEffect(()=>{e.length>0&&t.sessionId&&(0,aq.gb)(t,aq.GG.RESULTS_SHOWN)},[e,t]);let d=(0,c.tx)("auto_suggest.asset_panel.no_libraries"),u=(0,c.tx)("auto_suggest.suggestion_shelf_no_suggestions"),p=n.createElement("div",{className:o.s.wFull.flexGrow1.flexBasis0.pb16.$},n.createElement("div",{className:at},s));return n.createElement("div",{className:o.s.flex.flexColumn.itemsCenter.justifyCenter.$,style:{minHeight:a}},l?s.length>0?p:u:d)}function a7(){let e;let{width:t}=e4(),l=(0,p.He)().size>0,a=!l,{suggestions:r,isLoading:i,analyticsData:s,debugString:d,suggestionsNodeGuid:u,isInitialized:m}=(0,aQ.$i)(a),[h,_]=(0,eo.useAtom)(a2),g=(0,ep.ZC)(h);n.useEffect(()=>{r.length>0&&_({suggestions:r.slice(0,aJ.lS),analyticsData:s})},[r,s,_]);let y=(0,aZ.ut)(tJ.Ez5?.editorPreferences().showAssetAutoSuggest,!0),[f,E]=n.useState(!1),b=y&&h.suggestions.length>0&&l&&m||f,v=n.useCallback(()=>{let e=!b;tJ.Ez5?.editorPreferences().showAssetAutoSuggest.set(e),E(e),(0,aq.gb)(h.analyticsData,e?aq.GG.PANEL_OPENED:aq.GG.PANEL_CLOSED)},[b,h.analyticsData]),[C,S]=n.useState(!1);n.useEffect(()=>{b||h===g?b&&S(!1):S(h.suggestions.length>0)},[m,b,h,g]);let{currentView:w}=(0,k.wV)(),N=w===k.S5.Libraries?0:1;return a||(!m&&0===h.suggestions.length||b&&i?e=n.createElement(nF.k,{size:"md"}):b||(e=n.createElement("div",{className:o.s.w20.h20.m2.flex.itemsCenter.justifyCenter.bRadiusHalf.if(C,o.s.colorBgSelected.colorTextSelected,o.s.colorBgSecondary.colorTextSecondary).$},h.suggestions.length))),n.createElement("div",{className:o.s.bSolid.bb1.colorBorder.mb8.$},n.createElement(a1.B,null,n.createElement(a5.H,null,n.createElement(V.E,{onClick:v,className:o.s.flexGrow1.$},n.createElement(a3.g,{isExpanded:b}),(0,c.tx)("auto_suggest.asset_panel.title")),n.createElement("div",{className:o.s.flex.itemsCenter.$},e))),b&&n.createElement(ly,{index:N,width:t},n.createElement("div",null,n.createElement(a6,{...h,hasLibraries:l}),(0,j.kc)().anticipation_trigger_debug&&u&&n.createElement("div",{className:o.s.wFull.p8.$},d)),n.createElement("div",null)))}function a8(){let e=(0,a0.r8)(),{currentView:t}=(0,k.wV)();return(function(){let e=(0,eo.useAtomValue)(k.W9),t=(0,ep.ZC)(e),{suggestions:l,analyticsData:a}=(0,eo.useAtomValue)(a2),{currentView:r}=(0,k.wV)(),i=(0,ep.ZC)(r);n.useEffect(()=>{!1===t&&!0===e&&l.length>0&&a.sessionId&&i===a4&&(0,aq.gb)(a,aq.GG.STARTED_SEARCH)},[t,e,l,a,i])}(),e&&(0,j.kc)().anticipation_asset_panel&&t===a4)?n.createElement(a7,null):null}var a9=l(900956),re=l.n(a9),rt=l(535461),rl=l(125682),rn=l(688656),ra=l(298679),rr=l(864941),ri=l(829700),rs=l(313449),ro=l(785965),rc=l(413050),rd=l(948595),ru=l(368152);function rp(){(0,rc.K)();let{subscribedFileDataByLibraryKey:e,hubFilesById:t,hubFilesByLibraryKey:l}=(0,rd.N)(),a=(0,ed.d4)(u.tB),r=(0,ed.d4)(eN.e_),i=(0,ed.d4)(eN.MH),s=(0,ed.d4)(eN.dM),o=(0,ed.d4)(eN.h3),d=(0,ed.d4)(ro.P),p=(0,rr.Ck)(),m=(0,eb.Fl)(),h=(0,eo.useAtomValue)(eV.lj),_=n.useMemo(()=>a?.teamId?d[a.teamId]:null,[a?.teamId,d]),g=n.useMemo(()=>!!_&&(0,rs.w5)(_),[_]),y=n.useMemo(()=>(0,eR.Sg)(i,s),[i,s]),f=n.useMemo(()=>(0,eR.ND)(o),[o]),E=(0,eR.$1)({library:r,fileDataByLibraryKey:e}),b=(0,eR.Tk)(r,t),v=(0,eR.oV)({library:r,hubFilesByLibraryKey:l,visualAssetLibraryKeys:h}),C=n.useMemo(()=>p()?b:null,[p,b]),k=n.useMemo(()=>p()?v:null,[p,v]);(0,ri.jP)(C,k);let{url:S,shouldCover:w}=(0,ru.t)(),N=(0,nk.Nn)(),T=n.useMemo(()=>{let e=[];for(let t of N)t.data&&e.push(t.data);return e},[N]),I=(0,nk.fi)(),A=(0,nk.Bv)(),x=(0,eo.useAtomValue)(eG.TG);return n.useMemo(()=>(function({localComponentsInfo:e,localTemplatesInfo:t,localThumbnailUrl:l,localThumbnailShouldCover:n,subscribedComponentsInfo:a,subscribedCommunityComponentsInfo:r,canPublish:i,openFileKey:s,openFileLibraryKey:o,approvedLibraryKeysByResourceType:d,siteKitsAssetData:u,siteKitThumbnailComponents:p,siteKitSortingFn:m,presetLibraryKeys:h}){let{libraryKeyToSubscribedItems:_,subscribedFiles:g}=a,y=function({subscribedFiles:e,libraryKeyToSubscribedComponents:t,approvedLibraryKeysByResourceType:l}){let n=new Map;for(let a of(0,et.uo)(e,l)){if(!a.library_key)continue;let e=(0,tu.l)(a.library_key),l=t[e]??[],r=tb(l,[],{isPreset:!1}),i={name:a.name,fileKey:a.key,libraryKey:(0,tu.l)(a.library_key??""),pages:r,numComponents:l.length,numTemplates:0,thumbnailUrl:a.thumbnail_url_override??a.thumbnail_url,thumbnailShouldCover:!!a.thumbnail_guid,type:G.yW.DESIGN,libraryType:"team"};n.set(e,i)}return n}({subscribedFiles:[...g],libraryKeyToSubscribedComponents:_,approvedLibraryKeysByResourceType:d}),f=function(e,t){if(!e)return new Map;let{libraryKeyToSubscribedItems:l,subscribedHubFiles:n}=e??{hubFileIdToSubscribedItems:{},subscribedHubFiles:[]},a=new Map;for(let e of(0,et.LH)(n)){if(!e.library_key)continue;let n=(0,tu.l)(e.library_key),r=l[n]??[],i=tb(r,[],{isPreset:t.has(e.library_key)});if(r.length>0){let t={name:(0,tm.oA)(e),fileKey:e.id,libraryKey:(0,tu.l)(e.library_key??""),pages:i,numComponents:r.length,numTemplates:0,thumbnailUrl:e.thumbnail_url,thumbnailShouldCover:!0,type:G.yW.DESIGN,libraryType:"community"};a.set(n,t)}}return a}(r,h),E=function(e,t,l,n,a,r,i,s){let{privateItems:o,numPublished:d}=e,{privateItems:u,numPublished:p}=t??{privateItems:[],numPublished:0},m=d+p>0&&a&&o.length+u.length>0,h=tC(e,a),_=t?tC(t,a):[],g=!!s?.has(i),y=tb(h,_,{isPreset:g}),f={name:(0,c.t)("design_systems.assets_panel.created_in_this_file"),fileKey:r,libraryKey:i,pages:y,numComponents:h.length,numTemplates:_.length,thumbnailUrl:l,thumbnailShouldCover:n,type:G.yW.DESIGN,libraryType:"team"};if(m){let e=null;if(o.length>0){let{sortedItems:t,sortedSubtrees:l}=tE(o,"p_components",{isPreset:g});e={name:(0,c.t)("design_systems.assets_panel.components"),items:t,subtrees:l,key:G.c_,type:tp.l$.COMPONENTS,previewAsset:void 0}}let t=null;if(u.length>0){let{sortedItems:e,sortedSubtrees:l}=tE(u,"p_templates",{isPreset:g});t={name:(0,c.t)("design_systems.assets_panel.templates"),items:e,subtrees:l,key:G.JS,type:tp.l$.TEMPLATES,previewAsset:void 0}}let{sortedItems:l,sortedSubtrees:n}=tE([...o??[],...u??[]],"assets",{isPreset:g}),a={name:(0,c.t)("design_systems.assets_panel.assets"),items:l,subtrees:n,key:G.Mk,type:tp.l$.COMPONENTS,previewAsset:void 0},r={name:(0,c.t)("design_systems.assets_panel.hidden"),id:G.o8,previewAsset:o[0]??u[0],components:e,examples:null,templates:t,assets:a,type:G.yW.DESIGN};f.pages.set(G.o8,r)}return f}(e,t,l,n,i,s,o,h),b=new Map([...y,...f]);b.set(E.libraryKey,E);let v=null;if(u){for(let e of(v=new Map,u)){let t=(0,tg.Pv)(e);if(!t)continue;let l=t.library.libraryKey,n=tv(t.assets,p[l]??{},m,l===tg.Yl),a={...t.library,pages:n};v.set(l,a),b.set(l,a)}let e=(0,ty.V)();if(e){let t=tv([],{},m,!0),l={...e,pages:t};v.set((0,tu.l)(tg.Yl),l),b.set((0,tu.l)(tg.Yl),l)}}return{localAssets:E,libraries:y,presets:f,siteKits:v,allLibrariesUnsorted:b}})({localComponentsInfo:y,localTemplatesInfo:f,localThumbnailUrl:S,localThumbnailShouldCover:w,subscribedComponentsInfo:E,subscribedCommunityComponentsInfo:k??void 0,canPublish:g,openFileKey:a?.key??"",openFileLibraryKey:(0,tu.l)(a?.libraryKey??""),approvedLibraryKeysByResourceType:m,siteKitsAssetData:T.length>0?T:void 0,siteKitThumbnailComponents:I,siteKitSortingFn:A,presetLibraryKeys:x}),[y,f,S,w,g,a?.key,a?.libraryKey,m,T,I,A,E,k,x])}let rm="asset_panel_collapsible_breadcrumb--buttonStub--4S8VP asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P",rh="asset_panel_collapsible_breadcrumb--libraryStubStatic--VAyz1 asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862",r_="asset_panel_collapsible_breadcrumb--allLibraries--6vL0- asset_panel_collapsible_breadcrumb--libraryStubStatic--VAyz1 asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862";function rg({stubs:e}){let{collapsibleStubs:t,lastStub:l,numHiddenStubs:a,breadcrumbRef:r,ellipsisRef:i,stubRefs:s}=ry(e),c=n.useCallback(()=>i.current?{top:i.current.getBoundingClientRect().bottom,left:i.current.getBoundingClientRect().left}:{top:0,left:0},[i]),d=a===t.length;return n.createElement("div",{className:o.s.flex.itemsCenter.overflowHidden.flexShrink1.flexGrow1.$,style:lD.sx.add({flexBasis:"content"}).$,ref:r,role:"navigation","data-onboarding-key":ra.we},n.createElement(rb,{shouldEllipsize:d}),a>0&&n.createElement(rE,{allStubs:t,numHiddenStubs:a,getDropdownTarget:c,ref:i}),t.map((e,t)=>t<a?null:n.createElement(rv,{key:t,i:t,name:e,ref:e=>s.current[t]=e})),e.length>0?n.createElement(rC,{name:l,firstSlash:0===t.length,shouldEllipsize:d}):null)}let ry=e=>{let[t,l]=n.useMemo(()=>0===e.length?[[],void 0]:[e.slice(0,-1),e[e.length-1]],[e]),[a,r]=n.useState([]),i=n.useRef([]);n.useEffect(function(){i.current.length>t.length&&(i.current=i.current.slice(0,t.length)),a.length>t.length&&r(e=>e.slice(0,t.length))},[t,a.length,e.length]);let s=n.useRef(null),o=n.useRef(null),{width:c}=e4();return n.useLayoutEffect(function(){let e=s.current;if(!e)return;let t=e.children,l=e.offsetWidth-re()(Array.from(t).map(e=>e.scrollWidth));if(l<0){let e=i.current[a.length];e&&r(t=>[...t,e.scrollWidth])}else if(0===l)return;else if(a.length>0){let e=a.length-1;l>a[e]-(o.current&&1===a.length?o.current.scrollWidth:0)&&r(e=>e.slice(0,-1))}},[a,i,e,c]),{collapsibleStubs:t,lastStub:l,numHiddenStubs:a.length,breadcrumbRef:s,ellipsisRef:o,stubRefs:i}},rf="asset-panel-ellipsis-menu",rE=n.forwardRef(({numHiddenStubs:e,allStubs:t,getDropdownTarget:l},a)=>{let r=(0,et.sN)(),i=(0,rl.Um)(),s=i?.type===rf,c=(0,ed.wA)(),d=n.useCallback(()=>c((0,lF.oB)()),[c]),u=n.useCallback(()=>c((0,lF.j7)({type:rf,data:{position:l()}})),[c,l]),{isCurrentlySkippingPage:p,isCurrentlySkippingFirstFolder:m,navigateBackToPathIndex:h}=(0,k.wV)(),_=n.useMemo(()=>t.slice(0,e),[t,e]),g=n.useMemo(()=>_.join(" / "),[_]),y=n.useMemo(()=>{if(s)return i.data?.position},[i?.data?.position,s]),f=n.useCallback(e=>{r("breadcrumb",h(rS(e,p,m)))},[m,p,r,h]),{focusBackButton:E,focusSearchBar:b}=(0,el.rl)(),v=(0,el.NR)({onBoth:e=>()=>{f(e)},onKeyDown:()=>()=>{setTimeout(()=>E(),0)},onClick:()=>b}),{setKeyboardNavigationElement:C}=(0,K.M3)({path:[G.ON.BREADCRUMB],column:G.Yv.ELLIPSIS}),S=W()(rm,{"asset_panel_collapsible_breadcrumb--dropdownOpen--YMRPh":s});return n.createElement("div",null,n.createElement("div",{ref:a,className:o.s.flex.itemsCenter.$},n.createElement(rk,null),n.createElement("button",{ref:C,className:S,onClick:u,"data-tooltip-type":rn.Ib.TEXT,"data-tooltip":g,"aria-label":g,"aria-haspopup":"listbox","aria-expanded":s},"\u2026")),s&&tq.createPortal(n.createElement(lO.X3,{className:rt.Dm,positionAbsolute:!0,style:y,id:"asset-panel-ellipsis-menu",hideDropdown:d,autofocusPrevElementOnEsc:!0},_.map((e,t)=>n.createElement(lO.c$,{key:e,onClick:v(t)},e))),document.body))});function rb({shouldEllipsize:e}){let t=(0,u._G)(),{allLibrariesByLibraryKey:l}=(0,nv.g)(),{currentView:a,libraryKey:r,visualAssetsType:i,navigateToLibrary:s,isCurrentlySkippingPage:d,isCurrentlySkippingFirstFolder:p,folderPath:m}=(0,k.wV)(),{setLastNavAction:h}=(0,tN.ZX)(),{focusBackButton:_,focusSearchBar:g}=(0,el.rl)(),y=function(){let{libraries:e,siteLibraries:t,librariesForConnectedProject:l}=(0,nv.g)(),a=rp().localAssets,r=(0,l5.H)()&&l.length>0,i=n.useMemo(()=>{let l=e.length>0,n=a.numComponents+a.numTemplates>0;return l||n||"disabled"!==t.status},[e,t.status,a]);return r&&!i}(),f=(0,l5.H)(),E=n.useMemo(()=>r?r===t?(0,c.t)("design_systems.assets_panel.created_in_this_file"):l.get(r)?.name:void 0,[r,t,l]),b=(0,et.sN)(),v=a===k.S5.Libraries,C=a===k.S5.Pages,S=a===k.S5.Recents,w=a===k.S5.VisualAssets,N=n.useMemo(()=>!!C||!!d&&(!m||!!p&&1===m.length),[m,p,d,C]),T=n.useCallback(e=>{let t=s(e);h(tN.r6.Back),b("breadcrumb",t)},[b,s,h]),I=(0,el.MB)({onBoth:()=>T(r??(0,tu.l)("")),onKeyDown:_,onClick:g}),{setKeyboardNavigationElement:A}=(0,K.M3)({path:[G.ON.BREADCRUMB],column:G.Yv.LIBRARY}),x=W()(C?rh:"asset_panel_collapsible_breadcrumb--libraryStub--PU1iu asset_panel_collapsible_breadcrumb--buttonStub--4S8VP asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862",{"asset_panel_collapsible_breadcrumb--ellipsized--vFJ6x ellipsis--ellipsis--Tjyfa":e}),M=(0,nk.HR)();return v?f&&y?n.createElement("div",{className:r_,style:{marginLeft:3}},(0,c.tx)("design_systems.libraries_modal.connected_project_libraries")):n.createElement("div",{className:r_,style:{marginLeft:3}},M&&(0,j.kc)().ds_sts_kit?(0,c.tx)("design_systems.assets_panel.blocks"):(0,c.tx)("design_systems.assets_panel.dropdown_type_all_libraries")):S?n.createElement("div",{className:rh,style:{marginLeft:3}},(0,c.tx)("design_systems.assets_panel.dropdown_type_recents")):w?n.createElement("div",{className:rh,style:{marginLeft:3}},i===k.G3.IconSets?(0,c.tx)("design_systems.assets_panel.icon_sets"):(0,c.tx)("design_systems.assets_panel.illustrations")):n.createElement("div",{className:o.s.flex.overflowHidden.$},n.createElement("button",{onClick:I,className:x,disabled:N,ref:A,type:"button"},E))}let rv=n.forwardRef(({name:e,i:t},l)=>{let{isCurrentlySkippingPage:a,isCurrentlySkippingFirstFolder:r,navigateBackToPathIndex:i}=(0,k.wV)(),s=(0,et.sN)(),c=n.useCallback(e=>{s("breadcrumb",i(e))},[s,i]),d=n.useMemo(()=>rS(t,a,r),[t,r,a]),{setKeyboardNavigationElement:u}=(0,K.M3)({path:[G.ON.BREADCRUMB],column:G.Yv.STUBS+t}),{focusBackButton:p,focusSearchBar:m}=(0,el.rl)(),h=(0,el.MB)({onBoth:()=>c(d),onKeyDown:p,onClick:m});return e?n.createElement("div",{ref:l,className:o.s.flex.itemsCenter.$},n.createElement(rk,null),n.createElement("button",{ref:u,onClick:h,className:rm},e)):null});function rC({name:e,shouldEllipsize:t}){let l=n.useRef(null),{pageId:a,folderPath:r}=(0,k.wV)(),{width:i}=e4(),[s,c]=n.useState(!1);return(n.useEffect(()=>{c(!!(0,eg._C)({text:e??"",textRef:l}))},[e,i]),n.useEffect(()=>{setTimeout(()=>c(!!(0,eg._C)({text:"",textRef:l})),0)},[a,r]),e)?n.createElement("div",{className:o.s.noWrap.flex.itemsCenter.if(t,o.s.overflowHidden).$},n.createElement(rk,null),n.createElement("div",{"data-tooltip-type":rn.Ib.TEXT,"data-tooltip":s?e:void 0,ref:l,className:o.s.mx4.px2.if(t,o.s.overflowHidden.pre.ellipsis).$,"aria-current":"location"},e)):null}function rk(){return n.createElement("div",{className:"asset_panel_collapsible_breadcrumb--breadcrumbSlash--XWfHn","aria-hidden":!0}," / ")}let rS=(e,t,l)=>{let n=e;return t&&n++,l&&n++,n-1};var rw=l(154626),rN=l(316251),rT=l(666308),rI=l(747484),rA=l(544178);let rx="asset_panel_search--libraryChip--1nfYR asset_panel_search--horizontalFlex---CG1k",rM="asset_panel_search--libraryChipRemove--kJiJn",rP="asset_panel_search--libraryChipText--3TsfE ellipsis--ellipsis--Tjyfa";function rL({libraryName:e}){let t=(0,ed.wA)(),{currentView:l,startSearch:r,onBack:i,libraryKey:s,visualAssetsType:o}=(0,k.wV)(),d=l===k.S5.Search,p=(0,k._m)(),{inputRef:m,focusSearchBar:h}=(0,el.rl)(),_=(0,ed.d4)(e=>e.leftPanel.shouldFocusSearchBar),{query:g,setQuery:y,setSearchOption:f}=(0,eS.I)(ew.Cn.AssetsPanel),E=(0,u._G)(),{allLibrariesByLibraryKey:b}=(0,nv.g)(),v=n.useCallback(()=>{d&&i()},[d,i]),C=n.useMemo(()=>s?s===E?{type:eA.I.LOCAL}:p?{type:eA.I.SITE_KIT}:{type:eA.I.FILE,libraryKey:s,fileKey:b.get(s)?.fileKey??""}:{type:eA.I.ALL},[b,p,s,E]),S=n.useCallback(e=>{y(e),f(C),""===e?v():d||r()},[y,f,C,v,d,r]),w=n.useRef(void 0),N=(0,t$.Nv)(!0);n.useEffect(()=>{d&&(g&&w.current!==s&&(a.az.trackDefinedEvent("asset_search.misc_feature_usage",{aiResultsEnabled:N,entryPoint:"asset-panel",featureSlug:"library-filter-usage"}),f(C)),w.current=s)},[t,d,g,C,N,f,s]);let T=n.useCallback(()=>{""===g&&v()},[v,g]),I=n.useCallback(()=>{S(""),h(),v()},[S,h,v]),A=(0,ed.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);n.useEffect(()=>{let e=e=>{(rI.Ay.chromeos?e.altKey&&e.shiftKey&&e.keyCode===rT.Uz.KEY_2:e.altKey&&e.keyCode===rT.Uz.KEY_2)&&A!==tJ.m1T.TEXT&&(h(),e.preventDefault())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[A,h]);let x=n.useMemo(()=>e?(0,c.t)("design_systems.assets_panel.search_library"):o?o===k.G3.IconSets?(0,c.t)("design_systems.assets_panel.search_all_icon_sets"):(0,c.t)("design_systems.assets_panel.search_all_illustrations"):(0,c.t)("design_systems.assets_panel.search_all_libraries"),[e,o]);return n.createElement("div",{className:"asset_panel_search--container--u0qoH asset_panel_search--horizontalFlex---CG1k"},n.createElement(rw.h,null),n.createElement(rA.E1,{path:[G.ON.HEADER,G.my.SEARCH_AND_FILTER],column:G.Wy.SEARCH,isNewAssetsPanel:!0,query:g,onChange:S,onFocus:ai.lQ,onBlur:T,onClearSearch:I,forwardedRef:m,isVisible:!0,entryPointForTracking:"editor:assets_panel",autofocus:_,recordingKey:"componentsLibrarySearch",placeholder:x,selectOnFocus:!0}))}function rR({library:e}){let{navigateToTop:t}=(0,k.wV)(),{focusSearchBar:l}=(0,el.rl)(),a=(0,et.sN)(),r=n.useCallback(()=>{a("searchFilterChip",t()),l()},[l,a,t]),{setKeyboardNavigationElement:i}=(0,K.M3)({path:[G.ON.HEADER,G.my.LIBRARY_SEARCH_CHIP]});return e?n.createElement("div",{className:rx,"data-testid":"asset-panel-search-chip"},n.createElement("span",{className:rP},e.name),(0,j.kc)().dse_fpl_wave_1?n.createElement(V.E,{className:rM,onClick:r,recordingKey:"asset-panel-search-chip","aria-label":(0,c.t)("design_systems.assets_panel.search_chip_label"),ref:i},n.createElement(rN.f,null)):n.createElement($.GG,{className:rM,onClick:r,recordingKey:"asset-panel-search-chip","aria-label":(0,c.t)("design_systems.assets_panel.search_chip_label"),forwardedRef:i},n.createElement(rN.f,null))):null}function rO({visualAssetsType:e}){let{navigateToTop:t}=(0,k.wV)(),{focusSearchBar:l}=(0,el.rl)(),a=(0,et.sN)(),r=n.useCallback(()=>{a("visualAssetsSearchFilterChip",t()),l()},[l,a,t]),{setKeyboardNavigationElement:i}=(0,K.M3)({path:[G.ON.HEADER,G.my.LIBRARY_SEARCH_CHIP]});return e?n.createElement("div",{className:rx,"data-testid":"asset-panel-visual-assets-search-chip"},n.createElement("span",{className:rP},e===k.G3.IconSets?(0,c.tx)("design_systems.assets_panel.icon_sets"):(0,c.tx)("design_systems.assets_panel.illustrations")),n.createElement(V.E,{className:rM,onClick:r,recordingKey:"asset-panel-visual-assets-search-chip",ref:i},n.createElement(rN.f,null))):null}var rD=l(32257),rF=l(28819),rB=l(591421),rK=l(48484),rG=l(79096),rV=l(67740),rH=l(64271),rU=l(811407),rz=l(264259),rW=l(764428);let rj="assets-panel-settings";function r$({includeFolderSetting:e=!0}){let t=n.useRef(null),{setKeyboardNavigationElement:l}=(0,K.M3)({path:[G.ON.HEADER,G.my.SEARCH_AND_FILTER],column:G.Wy.SETTINGS}),r=(0,u.tS)(),i=(0,rl.Um)(),s=i?.type===rj,o=(0,ed.wA)(),d=n.useCallback(()=>{s?o((0,lF.oB)()):(o((0,lF.j7)({type:rj,data:{position:{top:t.current?.getBoundingClientRect().bottom,left:t.current?.getBoundingClientRect().left}}})),a.az.trackDefinedEvent("assets_panel.asset_type_dropdown_opened",{fileKey:r??void 0,assetsPanelVersion:3}))},[o,r,s]),p=n.useMemo(()=>{if(s)return i.data?.position},[i?.data?.position,s]);return n.createElement(n.Fragment,null,n.createElement(rD.o,{eventListeners:s?["onMouseDown"]:[]},n.createElement(rF.d,{onClick:d,"aria-expanded":s,ref:(0,rH.A)(t,l),"aria-label":(0,c.t)("design_systems.assets_panel.settings_label"),"aria-haspopup":"listbox",htmlAttributes:{"data-testid":"asset-panel-settings-button"}},n.createElement(rB.A,null))),s&&n.createElement(rY,{position:p,includeFolderSetting:e,buttonRef:t}))}function rY({position:e,includeFolderSetting:t,buttonRef:l}){let r=(0,ed.wA)(),i=n.useCallback(()=>{r((0,lF.oB)())},[r]),s=(0,et.R2)("number"==typeof e?.top?e.top:void 0),{productComponents:d,templates:p}=(0,n3.g5)(n4.$A.Design),m=ae(),[h]=(0,en.ye)(),{currentView:g,libraryKey:y}=(0,k.wV)(),{getLibrary:f}=(0,er.G)(),E=(0,u.tS)(),b=(0,u._G)(),[v]=(0,en.MA)(),C=!!(0,_.GM)()()&&g===k.S5.Libraries,S=C?en.$H.LIST:v,w=(0,l5.H)(),N=n.useMemo(()=>g!==k.S5.Search&&(d.length>0||p.length>0||m.length>0),[g,d.length,p.length,m.length]),T=n.useMemo(()=>E&&b?f(b):void 0,[f,E,b]),I=T?.type===G.yW.DESIGN&&(T.numComponents>0||T.numTemplates>0),{libraries:A,presets:x,siteLibraries:M,librariesForConnectedProject:P}=(0,nv.g)(),{goToLibrary:L,goToAll:R,goToRecents:O,changeAssetsView:D,toggleShowFolders:F}=function(e){let t=(0,u.q5)(),l=(0,et.sN)(),{navigateToLibrary:r,navigateToTop:i,navigateToRecents:s}=(0,k.wV)(),{setLastNavAction:o}=(0,tN.ZX)(),[,c]=(0,en.MA)(),[,d]=(0,en.ye)(),{focusSearchBar:p}=(0,el.rl)(),m=n.useCallback(e=>{l("settingsMenu",e)},[l]),h=n.useCallback(e=>{m(r(e)),p()},[p,r,m]),_=n.useCallback(()=>{m(i()),p()},[p,i,m]),g=n.useCallback(()=>{m(s()),p()},[p,s,m]),y=n.useCallback(()=>e.current?.focus(),[e]),f=n.useCallback(e=>{a.az.trackDefinedEvent("assets_panel.view_mode_changed",{viewMode:e,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0}),c(e),o(tN.r6.ToggleView)},[t?.key,t?.parentOrgId,t?.teamId,c,o]),E=(0,el.NR)({onBoth:e=>()=>f(e),onKeyDown:()=>y}),b=n.useCallback(e=>{a.az.trackDefinedEvent("assets_panel.folder_toggle",{showFolders:e,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0}),d(e)},[t?.key,t?.parentOrgId,t?.teamId,d]);return{goToLibrary:h,goToAll:_,goToRecents:g,changeAssetsView:E,toggleShowFolders:(0,el.NR)({onBoth:e=>()=>b(e),onKeyDown:()=>y})}}(l),B=n.useMemo(()=>{let e=[];if(e.push(rX({text:(0,c.t)("design_systems.assets_panel.dropdown_type_all_libraries"),checked:g===k.S5.Libraries||g===k.S5.Search&&!y,onClick:R})),N&&e.push(rX({text:(0,c.t)("design_systems.assets_panel.dropdown_type_recents"),checked:g===k.S5.Recents&&d.length>0,onClick:O})),I&&e.push(rX({text:T.name,checked:g!==k.S5.Recents&&y===T.libraryKey,onClick:()=>L(T.libraryKey)})),(A.length>0||x.length>0||M.data)&&e.push(n.createElement(lO.wv,null)),M.data)for(let t of M.data)e.push(rX({text:t.name,checked:g!==k.S5.Recents&&y===t.libraryKey,isPreset:!0,onClick:()=>L(t.libraryKey)}));return e.push(...A.map(({name:e,libraryKey:t})=>rX({text:e,isApproved:(0,rz.sF)(t),checked:g!==k.S5.Recents&&y===t,onClick:()=>L(t)}))),e.push(...x.map(({name:e,libraryKey:t})=>rX({text:e,isApproved:(0,rz.sF)(t),isPreset:!0,checked:g!==k.S5.Recents&&y===t,onClick:()=>L(t)}))),w&&P.length>0&&(e.push(n.createElement(lO.wv,null)),e.push(n.createElement("div",{className:W()(o.s.textBodyMedium.$,"asset_panel_settings--optionSubtitle--9d2Ib")},(0,c.t)("design_systems.libraries_modal.connected_project_libraries"))),e.push(...P.map(({name:e,libraryKey:t})=>rX({text:e,isApproved:(0,rz.sF)(t),checked:g!==k.S5.Recents&&y===t,onClick:()=>L(t)})))),e.push(n.createElement(lO.wv,null)),C||(e.push(rX({text:(0,c.t)("design_systems.assets_panel.view_toggle_grid"),checked:S===en.$H.GRID,onClick:D(en.$H.GRID),icon:n.createElement(rK.t,null)})),e.push(rX({text:(0,c.t)("design_systems.assets_panel.view_toggle_list"),checked:S===en.$H.LIST,onClick:D(en.$H.LIST),icon:n.createElement(rG.Z,null)}))),t&&e.push(rX({text:(0,c.t)("design_systems.assets_panel.view_toggle_show_folders"),checked:h,onClick:F(!h),icon:n.createElement(rV.e,null)})),e},[g,y,R,N,I,A,x,w,P,C,t,d.length,O,T,L,S,D,h,M.data,F]),K=n.useMemo(()=>({...e,maxHeight:s}),[s,e]);return tq.createPortal(n.createElement(lO.X3,{className:W()(rt.Dm,"asset_panel_settings--dropdown--gs7K3"),positionAbsolute:!0,style:K,id:rj,hideDropdown:i,autofocusPrevElementOnEsc:!0},B),document.body)}function rX({text:e,isApproved:t,isPreset:l,checked:a,onClick:r,icon:i}){return n.createElement(lO.MM,{className:"asset_panel_settings--dropdownOption--kJ-6M",checked:!!a,onClick:r,key:e},n.createElement("div",{className:"asset_panel_settings--optionContentContainer--iAJ6X"},n.createElement("div",{className:"asset_panel_settings--optionContent---2nCX ellipsis--ellipsis--Tjyfa"},i?n.createElement("div",{className:"asset_panel_settings--optionWithLeftIconContainer--QP3Gm"},i,n.createElement("span",null,e)):e),n.createElement("div",{className:"asset_panel_settings--optionRightIcon--zi-2v"},t?n.createElement(rU.FX,null):l?n.createElement("div",{className:o.s.ml2.$},n.createElement(rW.E,{libraryKey:void 0})):null)))}function rZ(){let{getPage:e,getLibrary:t}=(0,er.G)(),{libraryKey:l,pageId:a}=(0,k.wV)(),r=n.useMemo(()=>e(l,a),[e,l,a]),i=n.useMemo(()=>t(l),[t,l]);return n.createElement("div",{className:"asset_panel_header--assetPanelHeader--ZWb-Q"},n.createElement(rq,{library:i}),n.createElement(a8,null),n.createElement(rJ,{page:r}))}function rq({library:e}){let{currentView:t,visualAssetsType:l}=(0,k.wV)();return n.createElement("div",{className:o.s.grid.gap4.itemsCenter.ml8.minH32.$,style:lD.sx.add({gridTemplateColumns:"1fr auto",gridTemplateRows:"32px",gridAutoRows:"auto",padding:"0 var(--spacer-2)"}).$},n.createElement("div",{style:lD.sx.add({gridRow:1,gridColumn:1}).$},n.createElement(rL,{libraryName:e?.name})),n.createElement("div",{style:lD.sx.flex.itemsCenter.add({gridRow:1,gridColumn:2}).$},n.createElement(r$,{includeFolderSetting:[k.S5.Libraries,k.S5.Pages,k.S5.Assets].includes(t)})),t===k.S5.Search&&e&&n.createElement("div",{style:lD.sx.flex.minW0.add({gridRow:2,gridColumn:1}).$},n.createElement(rR,{library:e})),t===k.S5.Search&&l&&n.createElement("div",{style:lD.sx.flex.minW0.add({gridRow:2,gridColumn:1}).$},n.createElement(rO,{visualAssetsType:l})))}function rJ({page:e}){let{currentView:t,folderPath:l,onBack:a,libraryKey:r,isCurrentlySkippingPage:i,isCurrentlySkippingFirstFolder:s}=(0,k.wV)(),o=(0,et.sN)(),d=(0,ed.d4)(e=>e.modalShown),u=(0,ed.wA)(),{setBackButtonKeyboardItem:p,focusSearchBar:m}=(0,el.rl)(),h=n.useCallback(()=>{o("backButton",a()),d?.type===eP.V&&u(e0.AS())},[a,o,d?.type,u]),_=n.useCallback(()=>{t===k.S5.Recents?r||m():t===k.S5.Pages?m():t===k.S5.Assets&&i&&!l&&m()},[t,m,l,i,r]),g=(0,el.MB)({onBoth:h,onKeyDown:_,onClick:m}),y=n.useMemo(()=>{if(t===k.S5.Search||t===k.S5.Recents)return[];let n=e?.name&&!i?[e.name]:[],a=l??[];return[...n,...s?a.slice(1):a]},[t,l,i,s,e?.name]),f=nC(),E=t!==k.S5.Libraries&&t!==k.S5.Search;return f?null:n.createElement(n.Fragment,null,t!==k.S5.Search&&n.createElement("div",{className:"asset_panel_header--breadcrumbWrapper--NC2Ps asset_panel_header--horizontalFlex--k99PA"},E&&n.createElement(aY.K,{"aria-label":(0,c.t)("design_systems.assets_panel.back"),onClick:g,ref:p,recordingKey:"assetsPanelBack"},n.createElement(aX.C,null)),n.createElement(rg,{stubs:y})))}var rQ=l(73584),r0=l(979733);let r1=e=>n.useCallback(t=>{t()||e()},[e]);var r5=l(728722),r3=l(927030),r4=l(183739),r2=l(287327),r6=l(624605);function r7({width:e}){let t=rp(),l=function(e){let t=(0,n9.iZ)(),l=(0,u.q5)(),a=(0,r2.jO)(),r=(0,b.f)("has_dismissed_component_sidebar_library_upsell_banner"),i=(0,ed.d4)(e=>e.isFreeUser),s=(0,ed.d4)(ro.P),o=l?.teamId?s[l.teamId]:null,c=(0,r5.Rs)(r4.GyZ,{teamId:l?.teamId??""},{enabled:!!l?.teamId}),d=l?.canEdit??!1,p=c?.data?.team?.canEdit??!1,m=e.numComponents>0||e.numTemplates>0;return n.useMemo(()=>!r&&i&&(!o||!(0,rs.w5)(o)&&p)&&d&&a&&m&&(0,r3.Hz)(t?.id),[r,i,o,p,d,a,m,t])}(t.localAssets),s="loading"===(0,p.je)().status,o=n.useRef(null),c=r.wY(o)?.width||e,[m]=(0,en.MA)(),h=(0,u.q5)();return(0,i.h)(()=>{(0,a.sx)("Component Sidebar Viewed",{viewMode:m,assetsPanelVersion:3,fileKey:h?.key,fileTeamId:h?.teamId??void 0,fileOrgId:h?.parentOrgId??void 0})}),n.createElement(r8,{assetPanelItemsByLibraryKey:t,width:c},n.createElement("div",{className:r6.k,"data-testid":"component-sidebar",translate:"no",ref:o},n.createElement("div",{className:r6.k,style:{width:c}},n.createElement(rZ,null),n.createElement(a_,{isLoading:s},n.createElement(aW,{assetPanelItemsByLibraryKey:t,width:c})),l&&n.createElement(x.V,null),n.createElement("div",{style:{left:`${c}px`,top:"240px"},className:r6.b,"data-onboarding-key":d.RJ}),n.createElement(A,{width:c}))))}function r8({children:e,width:t,assetPanelItemsByLibraryKey:l}){return n.createElement(tN.P3,null,n.createElement(er.K,{assetPanelItemsByLibraryKey:l},n.createElement(el.tM,{className:r6.k},n.createElement(r9,null,n.createElement(e2,{width:t},e)))))}function r9({children:e}){return!function(){let{libraryKey:e,pageId:t,folderPath:l,navigateToTop:a,navigateToPage:r,navigateToPath:i,navigateToLibrary:s,currentView:o,onBack:c}=(0,k.wV)(),d=(0,ah.q)(),u=d(e),{getLibrary:p,getFolder:m}=(0,er.G)(),{setLastNavAction:h}=(0,tN.ZX)(),_=r1(a),g=(0,nv.g)().allLibrariesByLibraryKey,[y,f]=(0,eo.useAtom)(r0.Cl);n.useEffect(()=>{y&&g.size>0&&((0,et.hB)(()=>s((0,rQ.$)(y))),f(null))},[y,s,f,g.size]),(0,k.sH)(),n.useEffect(function(){if(o!==k.S5.Assets&&o!==k.S5.Pages)return;let n=p(e),s=g.get(e);if(!n){if(d(e)&&s&&o!==k.S5.Assets)return;_(a);return}if(t){if(!n?.pages.get(t)){let e=(0,k.Cg)(n);e?_(()=>r(e.id)):_(c);return}if(l&&!m(e,t,l)){let n=l.slice(0,-1),a=m(e,t,n);for(;!a&&n.length>0;)a=m(e,t,n=n.slice(0,-1));if(!a)return _(()=>r(t));let s=parent?(0,k.xc)(a):void 0;return void(s?_(()=>i([...n,s.name])):(_(()=>i(n)),h(tN.r6.Back)))}}},[c,u,o,t,l,a,r,p,m,i,h,_,d,g,e]),n.useEffect(function(){let n=p(e);if(!n||u)return;let a=(0,k.Cg)(n);if(o===k.S5.Pages&&a)r(a.id);else if(o===k.S5.Assets){let n=m(e,t,l);if(!n)return;let a=(0,k.xc)(n);a&&i([...l??[],a.name])}},[u,o,l,m,p,r,i,c,t,e])}(),n.createElement(n.Fragment,null,e)}function ie(){return n.createElement("div",{className:o.s.colorTextSecondary.my8.mx16.$},(0,c.tx)("design_systems.assets_panel.error"))}function it({width:e}){return n.createElement(s.tH,{boundaryKey:"AssetPanelUI3",fallback:n.createElement(ie,null)},n.createElement(r7,{width:e}))}},940100:(e,t,l)=>{l.d(t,{X:()=>tB});var n=l(411855),a=l(188507),r=l(846288),i=l(650437),s=l(217950),o=l(805014),c=l(851169),d=l(717180),u=l(245954),p=l(629019),m=l.n(p),h=l(841563),_=l.n(h),g=l(126049),y=l(277154),f=l(991458),E=l(361515),b=l(841962),v=l(875877),C=l(666308),k=l(675642),S=l(747484),w=l(563192),N=l(550479),T=l(36748),I=l(612724),A=l(45427),x=l(663844),M=l(666249),P=l(47795),L=l(535461),R=l(292689),O=l(343373),D=l(754807),F=l(366172),B=l(509343),K=l(446820),G=l(963993),V=l(73424),H=l(700311),U=l(15092),z=l(797187),W=l(289765);class j{constructor(e,t,l,n,a={}){this.component=e,this.onMouseDown=t,this.onMouseMove=l,this.onMouseUp=n,this.options=a,this.oldTouch=null,this.draggingID=null,this.deferredDragStart=null,this.onTouchStart=e=>{if(e.stopPropagation(),null===this.draggingID&&e.touches.length>0){let t=e.touches[0];if(this.draggingID=t.identifier,document.addEventListener("touchmove",this.onTouchMove,{passive:!1}),document.addEventListener("touchend",this.onTouchEndOrCancel),document.addEventListener("touchcancel",this.onTouchEndOrCancel),this.options.delayInMS){let l=!1;if(this.deferredDragStart=n=>{if(l)return!1;let a=n.clientX-t.clientX,r=n.clientY-t.clientY;return!(10>Math.sqrt(a*a+r*r))&&(l=!0,!this.options.delayInMS&&(this.onMouseDown(this.mouseEvent("mousedown",e,t)),!0))},this.options.delayInMS){let n=this.deferredDragStart;setTimeout(()=>{this.deferredDragStart!==n||l||(this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",e,t)))},this.options.delayInMS)}}else this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",e,t))}},this.onTouchMove=e=>{if(e.stopPropagation(),null!==this.draggingID){for(let t of e.touches)if(t.identifier===this.draggingID){if(this.deferredDragStart){if(!this.deferredDragStart(t))break;this.deferredDragStart=null}e.preventDefault(),this.onMouseMove(this.mouseEvent("mousemove",e,t));break}}},this.onTouchEndOrCancel=e=>{e.stopPropagation(),null!==this.draggingID&&(this.draggingID=null,document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEndOrCancel),document.removeEventListener("touchcancel",this.onTouchEndOrCancel),this.deferredDragStart?this.deferredDragStart=null:this.onMouseUp(this.mouseEvent("mouseup",e,this.oldTouch)))}}mouseEvent(e,t,l){this.oldTouch=l;let n=new MouseEvent(e,{altKey:t.altKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});return Object.defineProperty(n,"target",{value:t.target}),Object.defineProperty(n,"currentTarget",{value:t.currentTarget}),n}}var $=l(753392),Y=l(198136),X=l(509223),Z=l(677011),q=l(76265),J=l(278695),Q=l(343414),ee=l(596608),et=l(744615),el=l(41893),en=l(135891),ea=l(781976),er=l(606897),ei=l(693565),es=l(265851),eo=l(910164),ec=l(391482),ed=l(19776),eu=l(737976),ep=l(515662),em=l(695024),eh=l(407498),e_=l(663823),eg=l(620552),ey=l(688656),ef=l(137567),eE=l(3445),eb=l(742342),ev=l(994955),eC=l(76237),ek=l(972142),eS=l(983755),ew=l(484248);function eN({modeNames:e}){let t=(0,O.GS)();if(0===e.length)return null;let l=1===e.length?e[0]:e[0]+" + "+(e.length-1);return n.createElement("div",{className:eS.Io,"data-testid":"variable-mode-pill","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,q.t)("variables.mode_pill.tooltip",{listOfModes:(0,ek.Yx)(e)})},!t&&n.createElement(ei.B,{className:eS.nW,svg:ew.A}),n.createElement("div",{className:eS.XW},l))}var eT=l(806565),eI=l(351966),eA=l(777885),ex=l(538887),eM=l(424557),eP=l(132939),eL=l(949207),eR=l(432023),eO=l(971068),eD=l(71676),eF=l(939967),eB=l(253099),eK=l(917925),eG=l(853993);function eV(){return n.createElement("div",{className:es.s.flex.itemsCenter.justifyCenter.$},n.createElement("div",{className:eS.xE}))}class eH extends n.PureComponent{constructor(){super(...arguments),this.expandMouseDown=e=>{this.props.expandMouseDown(this.props.guid,e)}}renderNodeIndents(){let e=[];for(let t=0;t<this.props.level+1;t++){let l=`[${t}]`,a=-1!==this.props.isLastMaskedAtLevels.indexOf(l),r=-1!==this.props.isMaskedAtLevels.indexOf(l),i=t===this.props.level&&this.props.mask,s=t===this.props.level&&this.props.hasChildren,o=m()(eS.dK,{[eS.TY]:this.props.displayOrder===eM.k.DOM,[eS.co]:this.props.horizontalScrollEnabled}),c=i||r||a;(this.props.horizontalScrollEnabled||!c)&&e.push(n.createElement("span",{key:t,className:eS.pZ})),a?e.push(n.createElement(ei.B,{key:`${t}-mask`,svg:s?eK.A:eG.A,className:o})):r?e.push(n.createElement(ei.B,{key:`${t}-mask`,svg:s?eB.A:eF.A,className:o})):i&&e.push(n.createElement(ei.B,{key:`${t}-mask`,svg:s?eD.A:eO.A,className:o})),this.props.hasBullet&&t===this.props.level?e.push(n.createElement(eI.E,{key:"expand-caret",recordingKey:w.Pt(this.props,"expandCaret"),className:eS.OI,actionOnPointerDown:!0,onClick:this.expandMouseDown,htmlAttributes:{"data-testid":this.props.isMeasurementNode?void 0:"new-frame-bullet"}},n.createElement(eV,null))):s&&e.push(n.createElement(eI.E,{key:"expand-caret",recordingKey:w.Pt(this.props,"expandCaret"),className:m()(eS.GE,{[eS.Fq]:this.props.horizontalScrollEnabled}),actionOnPointerDown:!0,onClick:this.expandMouseDown},n.createElement(eP.U,{svg:this.props.isExpanded?eL.A:eR.A},this.props.isExpanded?n.createElement(eA.O,null):n.createElement(ex.k,null))))}return e}render(){return n.createElement("span",{className:eS.Wm},this.renderNodeIndents())}}eH.displayName="Indents";var eU=l(456809),ez=l(690159),eW=l(237104),ej=l(786062),e$=l(238472),eY=l(787337),eX=l(282046),eZ=l(953696);class eq extends w.o6{constructor(){super(...arguments),this.stopPropagation=e=>e.stopPropagation(),this.onMouseDown=w.cZ(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e,t,l;return this.props.locked?(e=eY.A,t=eX.A,l=n.createElement(ez.s,null)):this.props.isAncestorLocked?(e=e$.A,l=ej.v):(e=eZ.A,l=n.createElement(eW.r,null)),n.createElement("div",{className:eS.hz,onMouseDown:this.onMouseDown,onDoubleClick:this.stopPropagation},n.createElement(eP.U,{svg:e,fallbackSvg:t},l))}}eq.displayName="LockIcon";var eJ=l(377190),eQ=l(263159);let e0=(0,n.memo)(function(e){return(0,eQ.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,eQ.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 3.5a.5.5 0 0 1 .5-.5h2a.5.5 0 1 1 0 1H10v8h.5a.5.5 0 1 1 0 1h-2a.5.5 0 0 1 0-1H9V4h-.5a.5.5 0 0 1-.5-.5m3 2a.5.5 0 0 1 .5-.5h1A1.5 1.5 0 0 1 14 6.5v3a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 1 0-1h1a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 1-.5-.5M2.5 7a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 1 1 0 1h-4A1.5 1.5 0 0 1 2 9.5v-2a.5.5 0 0 1 .5-.5m2.515-3.56L4.7 4.7l-1.26.315c-.505.126-.505.844 0 .97L4.7 6.3l.315 1.26c.126.505.844.505.97 0L6.3 6.3l1.26-.315c.505-.126.505-.844 0-.97L6.3 4.7l-.315-1.26c-.126-.505-.844-.505-.97 0",clipRule:"evenodd"})})});var e1=l(253244),e5=l(61109);function e3({disabled:e}){let t=(0,n.useMemo)(()=>({"data-tooltip-type":ey.Ib.SPECIAL,"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip":e5.S,"data-tooltip-ai-beta-text":(0,q.t)("fullscreen.context_menu.auto_rename_layers"),"data-tooltip-ai-beta-action":e1.JT.AUTO_RENAME_LAYERS}),[]);return n.createElement(eI.E,{className:eS.J0,onClick:()=>{(0,ec.Br)({source:o.uQ6.LAYERS_PANEL_ACTION_ROW,trackingDataSource:"layers_panel_action_row"})},htmlAttributes:e?void 0:t,disabled:e},n.createElement(e0,null))}var e4=l(744597),e2=l(521707),e6=l(900607),e7=l(144919);class e8 extends w.o6{constructor(){super(...arguments),this.stopPropagation=e=>e.stopPropagation(),this.onMouseDown=w.cZ(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e,t;return this.props.isAncestorHidden&&this.props.visible?(e=e$.A,t=ej.v):(e=this.props.visible?e7.A:e6.A,t=this.props.visible?n.createElement(e4.l,null):n.createElement(e2.f,null)),n.createElement("div",{className:eS.yk,onMouseDown:this.onMouseDown,onDoubleClick:this.stopPropagation},n.createElement(eP.U,{svg:e},t))}}e8.displayName="VisibleIcon";var e9=l(90812),te=l(667324),tt=l(869853),tl=l(622984),tn=l(469336),ta=l(42460),tr=l(908588),ti=l(826943),ts=l(506989),to=l(865523);function tc(e){let t;let l=(0,W.Fk)((e,t)=>e.get(t)?.editInfo?.lastEditedAt,e.guid),a=(0,W.Fk)((e,t)=>e.get(t)?.type,e.guid),r=e.isMeasurementNode||a&&["TEXT","SECTION","SLICE","STICKY","CONNECTOR","STAMP"].includes(a),i=(0,to.yh)({nodeId:e.guid,width:2*e.dimensions.w,height:2*e.dimensions.h,version:l??"-",reason:"layers_panel.thumbnail",regenerateAfterImagesLoaded:!0,shouldSkip:r});if(!a)return null;switch(a){case"TEXT":t=n.createElement(e9.I,null);break;case"SECTION":t=n.createElement(te.e,null);break;case"SLICE":t=n.createElement(tt.z,null);break;case"STICKY":t=n.createElement(tl.a,null);break;case"CONNECTOR":t=n.createElement(tn.y,null);break;case"STAMP":t=n.createElement(ta.w,null);break;default:t=i?n.createElement(ti.oW,{className:es.s.hFull.wFull.$,style:{objectFit:"contain"},src:i.src,alt:(0,q.t)("layer_icon.thumbnail.alt_text")}):n.createElement(ts.Qp,{className:es.s.hFull.wFull.$,animationType:ts.JR.LIGHT_SHIMMER})}return n.createElement(eI.E,{"aria-label":(0,q.t)("layer_icon.button.pan_to_node"),htmlAttributes:{onDoubleClick:()=>{e.navigateAndPanTo&&e.navigateAndPanTo(e.guid)}},className:"x11g6tue"},n.createElement("span",{...tr.Ay.props(td.iconHeight(e.dimensions.h),td.iconWidth(e.dimensions.w),td.iconContainer)},t))}let td={iconHeight:e=>[{height:null==e?null:"x1f5funs",$$css:!0},{"--height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e)}],iconWidth:e=>[{width:null==e?null:"x1bl4301",$$css:!0},{"--width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e)}],iconContainer:{stroke:"xeutv01","border-radius":"x4pvk5x",border:"x1ci220x",borderWidth:null,borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:null,borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderColor:null,borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,background:"x1qfvsp",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,"--color-icon":"x180r7m8",$$css:!0}};var tu=l(488527),tp=l(182032),tm=l(211254);let th="layer-panel-onboarding-key";function t_(e){let t=(0,eT.cJ)(),l=(e.abbreviatedStateName||e.name).replace(/\n/," ");if(t&&e.isResponsiveSet&&e.isDefaultResponsiveSet&&(l=(0,q.t)("sites.panel.home")),e.shouldShowGuids){let t=o.Egt.getOverridePathForNode(e.guid);return`${l} (${e.guid}): [${t}]`}return l}function tg({isPrimaryBreakpoint:e}){return n.createElement("div",{className:es.s.flex.$},e&&n.createElement("span",{className:es.s.colorTextBrand.pr8.$},(0,q.t)("sites.panel.primary")))}function ty(e){let[t,l]=(0,n.useState)(null),[a,r]=(0,n.useState)(!1),i=(0,eT.cJ)(),s=(0,v.useAtomValue)((0,eE.r8)(e.guid)),{showVisualLayerIcons:o}=n.useContext(e_.K);(0,n.useEffect)(()=>{l(e.isRenaming?e.name:null)},[e.name,e.isRenaming]);let c=t_({abbreviatedStateName:e.abbreviatedStateName,guid:e.guid,shouldShowGuids:e.shouldShowGuids,name:e.name,isDefaultResponsiveSet:e.isDefaultResponsiveSet,isResponsiveSet:e.isResponsiveSet}),d=w.rf(e.recordingKey,e.focusOnSingleClick?"click":"dblclick",()=>{eg.F.trackFromFullscreen("action_rename_selection",{source:"click"}),e.startRenaming(e.guid)}),u=(0,n.useRef)(null),p=(0,n.useCallback)(e=>{e&&(u.current=e,u.current.select())},[]),h=w.AF(e.recordingKey,"change",e=>{l(e.currentTarget?.value)}),_=w.v_(e.recordingKey,"keydown",t=>{if(!a){if(t.keyCode===C.Uz.ESCAPE)e.stopRenaming(!1);else if(t.keyCode===C.Uz.ENTER)e.stopRenaming(!0,u.current?.value,c);else{if(t.keyCode!==C.Uz.TAB)return(0,ed.jr)(t,ed.W0.NO),w.aH;t.preventDefault(),e.stopRenaming(!0,u.current?.value,c),t.shiftKey?e.prevNodeGuid&&e.startRenaming(e.prevNodeGuid):e.nextNodeGuid&&e.startRenaming(e.nextNodeGuid)}}}),g=w.iQ(e.recordingKey,"blur",()=>{e.stopRenaming(!0,u.current?.value,c)}),y=e.horizontalScrollEnabled&&!e.isFixedOnHScroll,f=o&&(0,er.m)().ce_il_layers;return n.createElement(n.Fragment,null,f?n.createElement(tc,{guid:e.guid,dimensions:{w:eJ.FL-16,h:eJ.FL-16},navigateAndPanTo:e.navigateAndPanTo,isMeasurementNode:e.isMeasurementNode}):n.createElement(eU.Bf,{guid:e.guid,navigateAndPanTo:e.navigateAndPanTo,isDefaultResponsiveSet:e.isDefaultResponsiveSet,disabled:e.disabled,locked:e.locked,hovered:e.hovered,outOfView:e.outOfView,scrollLeft:e.scrollLeft,horizontalScrollEnabled:e.horizontalScrollEnabled,useUI3Icon:e.useUI3Icons,panelType:e.panelType}),(e.isThumbnail||e.isFavicon||e.isSocialImage)&&n.createElement(ei.B,{"data-tooltip":e.isFavicon?(0,q.t)("fullscreen.object_row.favicon"):e.isSocialImage?(0,q.t)("fullscreen.object_row.social_image"):(0,q.t)("fullscreen.object_row.file_thumbnail"),"data-tooltip-show-above":!0,"data-tooltip-type":ey.Ib.TEXT,className:eS.V3,svg:tm.A}),e.isRenaming&&n.createElement(eC.ks,{className:m()(eS.hF,e.inputTextOverridesClassName),innerRef:p,value:null!==t?t:e.name,onChange:h,onKeyDown:_,onBlur:g,onCompositionStart:()=>r(!0),onCompositionEnd:()=>r(!1),spellCheck:!1,autoCorrect:"off",autoCapitalize:"off"}),!e.isRenaming&&n.createElement("span",{className:m()(eS.qg,e.staticTextOverridesClassName,{[es.s.justifyBetween.$]:i,[es.s.eventsAuto.$]:e.isFixedOnHScroll}),onDoubleClick:e.focusOnSingleClick?void 0:d,onClick:e.focusOnSingleClick?d:void 0,dir:"auto"},e.horizontalScrollEnabled&&n.createElement("div",{className:eS.Xv,ref:e.layerNamePlaceholderRef},c),n.createElement("div",{className:m()(eS._k,{[eS.r]:!y||e.isHovered}),ref:e.layerNameRef},s&&"pending"!==s.state?s.name:c),e.explicitVariableModeNames&&e.explicitVariableModeNames.length>0&&n.createElement("div",{className:eS.pS},n.createElement(eN,{modeNames:e.explicitVariableModeNames})),!e.isHovered&&i&&n.createElement(tg,{isPrimaryBreakpoint:e.isPrimaryBreakpoint})))}let tf=n.memo(function(e){var t;let l=(0,n.useRef)(null),[a,r]=(0,n.useState)(null),[i,s]=(0,n.useState)(null),c=(0,n.useCallback)(e=>{s(e)},[]),p=(0,n.useCallback)(e=>{r(e)},[]),h=(0,v.useAtomValue)(et.eC),_=(t=e.guid,(0,v.useAtomValue)(et.Fj).has(t)),g=(0,O.GS)(),y=(0,eb._j)()&&g,[E,C]=(0,n.useState)(!1),[k,S]=(0,n.useState)(!1),N=(0,W.Fk)((e,t)=>e.get(t)?.name??"",e.guid),T=t_({abbreviatedStateName:e.abbreviatedStateName,name:N,shouldShowGuids:e.shouldShowGuids,guid:e.guid,isDefaultResponsiveSet:e.isDefaultResponsiveSet,isResponsiveSet:e.isResponsiveSet}),I=(0,n.useCallback)(()=>{let e=l.current;return!!e&&e.scrollWidth>e.offsetWidth},[]),A=(0,n.useCallback)(()=>{C(I())},[C,I]);(0,n.useEffect)(()=>{A()},[A]);let{onContextMenu:x}=e,M=(0,w.rf)(e.recordingKey,"contextmenu",(0,n.useCallback)(t=>{x&&x(e.guid,t)},[x,e.guid])),{onMouseEnter:P}=e,L=(0,n.useCallback)(t=>{A(),S(!0),P&&P(e.guid,t)},[P,e.guid,A]),R=(0,n.useCallback)(()=>{S(!1)},[]),{lockMouseDown:D}=e,F=(0,n.useCallback)(t=>{D&&D(e.guid,t)},[D,e.guid]),{visibleMouseDown:B}=e,K=(0,n.useCallback)(t=>{B&&B(e.guid,t)},[B,e.guid]),{onDragStartCallback:G}=e,V=(0,n.useCallback)(t=>{t.dataTransfer.effectAllowed="none",null!=G&&G(e.guid,t)},[G,e.guid]),{onDragOverCallback:H}=e,U=(0,n.useCallback)(t=>{null!=H&&H(e.guid,t)},[H,e.guid]),{onDragDropCallback:z}=e,j=(0,n.useCallback)(t=>{null!=z&&z(e.guid,t)},[z,e.guid]),{onDragEnterCallback:$}=e,Y=(0,n.useCallback)(t=>{null!=$&&$(e.guid,t)},[$,e.guid]),{onDragLeaveCallback:X}=e,Z=(0,n.useCallback)(t=>{null!=X&&X(e.guid,t)},[X,e.guid]),q=(0,n.useCallback)(()=>(0,eh.pr)(e.nodeMemoryUsage,e.rootMemoryUsage,!0),[e.nodeMemoryUsage,e.rootMemoryUsage]),J=!e.visible||e.isAncestorHidden&&e.panelType!==eb.g$.CodeComponent,Q=e.locked||e.isAncestorLocked,ee=(0,b.kc)().ui3_left_panel_selection_height,el=(e.level+3)*(0,f.jz)(tp.indentWidthWithMargin)+((0,f.jz)(tp.scrollBarYWidth)+(0,f.jz)(tp.trackPadding))>e.panelWidth+e.scrollLeft,en=0===e.level,ea=(0,ec.A0)(o.uQ6.LAYERS_PANEL_ACTION_ROW),er=(0,u.UN)().get(e.guid),ei=ea&&en&&k&&er&&(0,ec.sq)(er),ed=v.useAtomValue(eE.r8(e.guid))?.state==="pending",eu={transform:`translate3d(0px, ${e.top}px, 0)`,height:eJ.FL,"--row-actions-width":ei?tu.gdM:tu.yj4},ep=e.fixed&&0!==e.panelWidth,em="FRAME"===e.nodeType,e_=m()({[eS.nM]:!0,[eS.M4]:en,[eS.Gt]:em&&!(0,ej.R)(e)&&!e.resizeToFit&&!e.isStateGroup,[eS.Os]:em&&!(0,ej.R)(e)&&e.resizeToFit,[eS.t$]:em&&(0,ej.R)(e),[eS.DT]:e.isStateGroup,[eS.a6]:(0,d.MT)(e.nodeType),[eS.uW]:"SECTION"===e.nodeType,[eS.HR]:"SYMBOL"===e.nodeType,[eS.rS]:"CODE_COMPONENT"===e.nodeType,[eS.bY]:"CODE_INSTANCE"===e.nodeType,[eS.$L]:"CODE_LAYER"===e.nodeType,[eS.xG]:"MODULE"===e.nodeType,[eS.KJ]:"INSTANCE"===e.nodeType,[eS.iE]:e.isStamp,[eS.Zt]:"HIGHLIGHT"===e.nodeType,[eS.HL]:"WIDGET"===e.nodeType||e.isWidgetSublayer,[eS.j3]:e.isDescendantOfSymbol,[eS.cb]:e.isDescendantOfInstance,[eS.vp]:e.isDescendantOfModule,[eS.dK]:e.mask,[eS.i9]:(0,eb.qW)(e.panelType),[eS.Zu]:!!ep,[eS.lh]:!!e.layerAbove,[eS.yo]:e.isHovered,[eS.wH]:e.isSelected,[eS.ct]:e.isAncestorSelected,[eS.r9]:J,[eS.xt]:Q,[eS.sz]:e.hasChildren&&e.isExpanded,[eS.uC]:ee&&e.isLayerAboveSelected&&e.isLayerBelowSelected,[eS.ow]:ee&&e.isLayerAboveSelected&&!e.isLayerBelowSelected,[eS.sc]:ee&&e.isLayerBelowSelected&&!e.isLayerAboveSelected}),eg=e.versionHistory?.activeId&&"current_version"===e.versionHistory.activeId,eC=e.showMemoryUsage&&e.showInFileMemoryPercentage&&!e.isRenaming&&eg,{registerWidth:ek}=(0,ev.gz)(),ew=!!y&&!!ep,{observeWithResizeObserver:eN,unobserveWithResizeObserver:eT}=e,eI=!!(0,b.kc)().ui3p_horizontal_scroll_perf;(0,n.useEffect)(()=>{if(y&&i&&a){if(ew||!i||!a)return;let t=()=>{let t=i.getBoundingClientRect().right-a.getBoundingClientRect().left+(0,f.jz)(tp.rowActionsWidth);ek(e.guid,t)};if(t(),eI)return eN(i,t),eN(a,t),()=>{eT(i),eT(a)};{let e=new ResizeObserver(t);return e.observe(i),e.observe(a),()=>{e.disconnect()}}}},[eI,y,ew,i,a,e.guid,ek,eN,eT]);let eA=n.createElement(n.Fragment,null,ei&&n.createElement(e3,{disabled:ed}),n.createElement(eq,{recordingKey:w.Pt(e,"lockIcon"),locked:e.locked,isAncestorLocked:e.isAncestorLocked,onMouseDown:F}),n.createElement(e8,{recordingKey:w.Pt(e,"visibleIcon"),visible:e.visible,isAncestorHidden:e.isAncestorHidden,onMouseDown:K})),ex=!e.hideRowActions&&!e.isRenaming&&!e.isReadOnly&&!e.isDragging&&!el;function eM(t=!1){return n.createElement(n.Fragment,null,n.createElement(eH,{guid:e.guid,mask:e.mask,level:e.level,hasChildren:e.hasChildren,isExpanded:e.isExpanded,displayOrder:e.displayOrder,isMaskedAtLevels:e.isMaskedAtLevels,isLastMaskedAtLevels:e.isLastMaskedAtLevels,dispatch:e.dispatch,expandMouseDown:e.expandMouseDown,currentPage:e.currentPage,recordingKey:t?void 0:w.Pt(e,"indents"),hasBullet:_,disabled:J,locked:Q,hovered:e.isHovered,outOfView:el,scrollLeft:e.scrollLeft,horizontalScrollEnabled:y,isMeasurementNode:t}),n.createElement(ty,{...e,layerNameRef:l,layerNamePlaceholderRef:c,disabled:J,locked:Q,hovered:e.isHovered,outOfView:el,scrollLeft:e.scrollLeft,horizontalScrollEnabled:y,useUI3Icons:g,name:N,isFixedOnHScroll:ew,recordingKey:t?void 0:e.recordingKey,isMeasurementNode:t}),eC&&n.createElement("span",{className:eS.HY,dir:"auto"},q()),ex&&n.createElement("div",{className:eS.cm},y?null:eA))}let eP=n.createElement("div",{className:eS.u4,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":E?T:null,"data-tooltip-max-lines":4,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0,"data-tooltip-show-right":!0,"data-tooltip-text-left":!0,style:{width:ew?`${e.panelWidth}px`:`${e.panelWidth+e.scrollLeft}px`}},eM()),eL=n.createElement("div",{ref:p,className:m()(eS.SA,eS.Qr)},n.createElement("div",{className:eS.u4},eM(!0)));return n.createElement("div",{className:e_,style:eu,onContextMenu:M,onMouseEnter:L,onMouseLeave:R,draggable:!1,onDragOver:U,onDrop:j,onDragStart:V,onDragEnter:Y,onDragLeave:Z,"data-testid":e.hasChildren?"layer-row-with-children":"layer-row","data-onboarding-key":e.guid===h&&e.isSelected&&(!e.isRowInView||e.isRowInView(e,a))?th:void 0},ex&&y&&n.createElement("div",{className:eS.cm,style:eo.sx.absolute.wFull.eventsNone.$},n.createElement("div",{className:es.s.wFull.$}),n.createElement("div",{className:eS.V0},n.createElement("div",{className:eS.Hz},eA))),n.createElement(ef.e,{condition:ew,wrapper:e=>n.createElement("div",{style:eo.sx.absolute.wFull.eventsNone.$},n.createElement("div",{className:eS.n4},n.createElement("div",null,e)))},n.createElement(n.Fragment,null,eP,y&&eL)))});tf.displayName="ObjectRow";let tE=n.memo(function(e){let t=(0,b.kc)().objects_panel_perf,l=(0,a.d4)(l=>t?l.mirror.appModel.hoveredNode===e.guid:e.isHoveredAndOptimizePerfFlagDisabled),r=e.hasRefToHoveredDef||l||e.isTemporarilyHovered,i=(0,eu.Z)("prototype_sections_zoom"),s=n.useCallback(e=>{i((0,em.QZ)({nodeId:e,alwaysPan:!0}))},[i]),o=(0,ep.o3)(e.guid);return n.createElement(tf,{...e,isHovered:r,explicitVariableModeNames:o,navigateAndPanTo:s})});var tb=l(991944),tv=l(759240);function tC(){let{show:e,isShowing:t,complete:l,uniqueId:a}=(0,ee.e)({overlay:tv.xtb,priority:en.N.SECONDARY_MODAL}),r=el.y.isApple(),i=n.useMemo(()=>n.createElement(Z.S,{shortcut:r?"\u2303\u21E7A":"Ctrl+Alt+Shift+A"}),[r]);return(0,Q.E)(a,et.in,()=>{e({canShow:()=>!!(0,b.kc)().ce_al_show_msal_onboarding})}),n.createElement(ea.rq,{isShowing:t,targetKey:th,arrowPosition:tb.F_.LEFT_TITLE,trackingContextName:"MSAL Onboarding Overlay",title:n.createElement("p",{"data-testid":"msal-onboarding-title"},(0,q.tx)("fullscreen.msal_onboarding.header_with_shortcut",{msalShortcut:i})),description:(0,q.tx)("fullscreen.msal_onboarding.body"),primaryCta:{label:(0,q.tx)("general.got_it"),type:"button",onClick:l,variantOverride:"primary",ctaTrackingDescriptor:J.c.GOT_IT},secondaryCta:{label:(0,q.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/en-us/articles/5731482952599#suggest",ctaTrackingDescriptor:J.c.LEARN_MORE},onClose:l,onTargetLost:l,emphasized:!0,disableHighlight:!0})}var tk=l(285366),tS=l(738402),tw=l(846836);let tN=(0,l(473982).Wh)(()=>(0,v.atom)(0));function tT({guid:e,objectRow:t,setRowWidth:l}){let a=(0,n.useRef)(null),[r,i]=(0,n.useState)(),{rowWidthsCache:s}=(0,ev.gz)();return(0,n.useEffect)(()=>{if(!a.current||!e)return;let t=s[e];void 0!==t&&(t!==r?.width||e!==r?.guid)&&i({width:t,guid:e})}),(0,n.useEffect)(()=>{r?.guid===e&&l({guid:e,width:r.width})},[r,e,l]),n.createElement("div",{ref:a,className:m()(es.s.absolute.invisible.$,eS.Qr),"data-testid":"autoscroll-measurement-node"},t)}var tI=l(668092);function tA(e){let{top:t,width:l,guid:a,level:r,onMouseEnter:i,recordingKey:s}=e,o=w.rf(s,"click",e=>{G.bd([a])}),c={transform:`translate3d(0px, ${t}px, 0)`,width:l,height:eJ.FL},d={width:eb.iy*r*2,marginRight:1===r?eb.iy/2:0};return n.createElement("div",{className:"layer_expansion_row--layerExpansionRow--G8Twa object_row--row--HIYa5",style:c,onMouseDown:e=>e.stopPropagation(),onClick:o,onMouseEnter:i,role:"button",tabIndex:0},n.createElement("span",{className:"layer_expansion_row--layerExpansionIndent--Bg5Df object_row--indent--uZlad",style:d}),n.createElement("span",{className:"layer_expansion_row--iconWrapper--J3NJb object_row--iconWrapper--ivRSW"},n.createElement(ei.B,{svg:tI.A})),n.createElement("span",{className:"layer_expansion_row--rowText--yhMnt object_row--rowText--3qo7Q ellipsis--ellipsis--Tjyfa"},(0,q.tx)("design_systems.component_properties.see_all_layers")))}class tx extends w.o6{renderPlainIndents(e){let t=[];for(let l=0;l<e+1;l++)t.push(n.createElement("span",{key:l,className:eS.pZ}));return n.createElement("span",{className:eS.Wm},t)}render(){let e={transform:`translate3d(0px, ${this.props.top}px, 0)`,width:this.props.width,height:eJ.nI},t=m()(eS.nM,eS.bV,{[eS.ct]:this.props.isParentSelected,[eS.j3]:this.props.isDescendantOfSymbol,[eS.cb]:this.props.isDescendantOfInstance});return n.createElement("div",{className:t,style:e},this.renderPlainIndents(this.props.level),this.props.sectionType===o.KjJ.FIXED?(0,q.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed"):(0,q.t)("fullscreen.properties_panel.scrolls"))}}tx.displayName="SectionRow";var tM=l(390518),tP=l(219085);let tL="objects_panel--dropTargetBox--4SX8i",tR=new k.V;function tO(e){return"object"===e.rowType?e.guid:"layer-expansion"===e.rowType?`expand-${e.containingPrimaryInstanceGUID}`:e.sectionId}class tD extends w.o6{constructor(e){super(e),this.state={scrollTop:0,scrollLeft:0,mouseDown:null,dropTarget:null,needsScrollLine:!1,rowToScrollToData:null},this.cachedAllRowData=[],this.topByGuid=Object.create(null),this.leftByGuid=Object.create(null),this.totalHeight=0,this.cachedAllObjectRowDataMap={},this.setNeedsScrollLine=e=>{this.setState({needsScrollLine:e>0})},this.rangeSelectAnchorNodeId=null,this.getScene=()=>this.props.sceneGraph||(0,u.UN)(),this.initializeRows=e=>{let t=this.getScene(),l=e.customRowBuilder?e.customRowBuilder():(0,tM.Sk)(t,e.topNodeFields,e.showImmutableFrameSublayers,e.temporarilyExpandedInstanceLayers,e.includeTopNode);this.topByGuid=l.topByGuid,this.leftByGuid=l.leftByGuid,this.sectionById=l.sectionById,this.totalHeight=l.totalHeight,this.cachedAllRowData=l.rowData,this.cachedAllObjectRowDataMap=l.rowData.filter(eb.N1).reduce((e,t)=>(e[t.guid]=t,e),{})},this.updateAllVisibleRowGuids=()=>{let e=[];for(let t of this.cachedAllRowData)(0,eb.N1)(t)&&e.push(t.guid);this.context.registerGuids(e)},this.justToggledExpandedGuid=null,this.anchorNodeId=null,this.topNodeDelta=0,this.lastCollapsedScrollPosition=null,this.scrollAfterNodeExpanded=!1,this.lastCollapsedGuid=null,this.hasCrossedDragThreshold=!1,this.onLeftPanelCollapsedChange=e=>{if(!e){let e=this.getTopSelectedNodeId();e&&this.scrollToNode({nodeId:e})}},this.scrollToNodeIdAfterUpdate=null,this.scrollToNode=({nodeId:e,forStackInsertion:t})=>{let l=this.topByGuid[e],n=void 0!==l,a=!this.props.horizontalScrollEnabled||this.state.rowToScrollToData?.guid===e;if(!n||!a){let t=this.getScene().get(e);t&&t.parentGuid&&G.hq(t.parentGuid),this.scrollToNodeIdAfterUpdate=e;return}let r=!this.isVerticallyVisible(l,l+eJ.FL),i=this.props.horizontalScrollEnabled&&this.shouldHorizontallyAutoscroll(e);(r||i)&&this.scrollNodeIntoView(e,{forStackInsertion:t})},this.recalculateLayout=()=>{this.windowInnerHeight=window.innerHeight,this.recalculateRequested=!1},this.recalculateRequested=!1,this.requestRecalculateLayout=()=>{this.recalculateRequested||requestAnimationFrame(this.recalculateLayout)},this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll=null,this.hasTrackedHScrollEvent=!1,this.onScroll=e=>{this.isScrolling=!0,this.nextScrollTop=e,null==this.frameRequestY&&(this.frameRequestY=requestAnimationFrame(this.setScrollTopState)),null!=this.scrollingTimeout&&clearTimeout(this.scrollingTimeout),this.scrollingTimeout=setTimeout(this.doneScrolling,50),this.props.onScroll(e),this.setNeedsScrollLine(e),v.atomStore.set(eE.uK,{autoScroll:!1})},this.onScrollLeftChanged=(e,t)=>{this.props.horizontalScrollEnabled&&(t||this.props.stopRenaming(!1),this.nextScrollLeft=e,null==this.frameRequestX&&(this.frameRequestX=requestAnimationFrame(this.setScrollLeftState)),this.hasTrackedHScrollEvent||((0,y.sx)("layers_horizontal_scroll"),this.hasTrackedHScrollEvent=!0))},this.doneScrolling=()=>{this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll&&(this.handleMouseEnterAfterScroll(),this.handleMouseEnterAfterScroll=null)},this.frameRequestY=null,this.frameRequestX=null,this.nextScrollTop=0,this.nextScrollLeft=0,this.setScrollTopState=()=>{this.setState({scrollTop:this.nextScrollTop}),this.frameRequestY=null},this.setScrollLeftState=()=>{this.setState({scrollLeft:this.nextScrollLeft}),this.frameRequestX=null},this.isNodeSticky=e=>((0,N.xO)(s.e.FIGJAM,this.props),e.parentGuid===this.props.currentPage&&("SYMBOL"===e.type||"FRAME"===e.type&&!e.resizeToFit)),this.isAncestorSticky=e=>{let t=this.getScene(),l=e.parentGuid?t.get(e.parentGuid):null;for(;l&&l.guid!==this.props.currentPage;){if(this.isNodeSticky(l))return!0;l=l.parentGuid?t.get(l.parentGuid):null}return!1},this.stickyHeaderGuid=null,this.lastStickyHeaderGuid=null,this.lastExpansionTarget=null,this.findStickyHeaderRowAndReplaceInVisibleRows=e=>{if(this.stickyHeaderGuid=null,(this.state.scrollTop>0||this.scrollAfterNodeExpanded)&&e.length>0){let t;let l=this.state.scrollTop,n=(e,t,l)=>{if("object"!==e.rowType)return!1;let n=this.findStickyHeader(e,t,l);if(n){let t=this.renderedVisibleRowProps.indexOf(e);t>=0?this.renderedVisibleRowProps[t]=n:this.renderedVisibleRowProps.push(n)}return!!n},a=null;for(let r=0;r<e.length;r++)if(0===(t=e[r]).level){if(a&&n(a,a.top,t.top)||t.top>l)return;a=t}(0,r.KF)(!!a,"has at least one top level section"),n(a,a.top,Number.POSITIVE_INFINITY)}},this.scrollNodeIntoView=(e,t)=>{let l=t&&t.fromAIRename||!1,n=t&&t.forStackInsertion||!1;if(null==this.topByGuid[e]||this.props.horizontalScrollEnabled&&this.shouldHorizontallyAutoscroll(e)&&this.state.rowToScrollToData?.guid!==e||!this.scrollContainerEl||!this.scrollContainer)return;let a=this.topByGuid[e],r=this.state.scrollTop,i=this.scrollContainerHeight();if(this.stickyHeaderGuid===e){n&&this.scrollContainer.scrollTo(a-1);return}let s=this.getScene().get(e);if(!s)return;l||v.atomStore.set(eE.uK,{autoScroll:!1});let o=this.isAncestorSticky(s);if(o&&a<r+eJ.FL?this.scrollContainer.scrollTo(a-eJ.FL):!o&&a<r?this.scrollContainer.scrollTo(a):a+eJ.FL>r+i&&this.scrollContainer.scrollTo(a-i/2),this.props.horizontalScrollEnabled&&this.shouldHorizontallyAutoscroll(e)&&this.state.rowToScrollToData?.guid===e&&this.state.rowToScrollToData?.width){let t=this.getNewHorizontalAutoscrollPosition(e,this.state.rowToScrollToData?.width);void 0!==t&&this.scrollContainer.scrollToLeft(t)}},this.rowContextMenu=(e,t)=>{if(this.props.onRowContextMenu){this.props.onRowContextMenu(e,t);return}let l=this.getScene().get(e);if(!l)return;(0,$.sp)(this.getScene(),this.props.sceneGraphSelection,l.guid)||this.updateSelection(l.guid);let{clientX:n,clientY:a}=t;this.props.dispatch(P.j7({type:L.Rb,data:{clientX:n,clientY:a}}))},this.rowContainerMouseDown=w.cZ(this,"mousedown",e=>{let t=this.guidAtMousePosition(e.clientY);if(!t)return;if(e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&!this.props.renamingGuid&&document.activeElement.blur(),(this.props.allowToggleSelection??!0)&&(0,C.Fo)(e)){this.toggleSelected(t);return}(0,b.kc)().version_diffing&&this.props.editModeType===o.m1T.COMPARE_CHANGES&&o.glU.setActiveChange(t)&&this.props.showViewChangesNotification(t);let l=(0,i.IL)(this.props.sceneGraphSelection),n=null;if(l?n=l:this.rangeSelectAnchorNodeId&&(0,$.K3)(this.props.sceneGraphSelection,this.rangeSelectAnchorNodeId)&&(n=this.rangeSelectAnchorNodeId),(this.props.allowSelectRange??!0)&&e.shiftKey&&n){G.GL(n,t),F.Y5.commit();return}(0,$.sp)(this.getScene(),this.props.sceneGraphSelection,t)||(this.updateSelection(t),this.rangeSelectAnchorNodeId=t),(0,R.i)(e)||this.setState({mouseDown:new I.Mi(e.clientX,e.clientY)})},{recordMetadata:e=>{let t=this.guidAtMousePosition(e.clientY);return(0,r.KF)(!!t,"interaction test does not support rare case of no guid under mouse (empty layers panel?)"),{path:(0,eb.eT)(t,this.getScene()),clientX:e.clientX}},playbackMetadata:e=>{let t=this.topByGuid[(0,eb.g2)(e.path,this.getScene(),this.props.currentPage)]+eJ.FL/2;return{clientY:this.clientY(t),clientX:e.clientX}}}),this.onMouseMove=e=>{if(this.scrollContainer&&this.scrollContainerEl&&this.state.mouseDown&&!this.props.renamingGuid){this.state.mouseDown.distanceTo({x:e.clientX,y:e.clientY})>3&&(this.hasCrossedDragThreshold=!0);let t=this.relativeY(e.clientY),l=this.state.scrollTop,n=this.scrollContainerHeight();if(n>0){if(t<l){this.scrollContainer.scrollTo(l-(0,eb.bm)(l-t,eJ.FL));return}if(t>l+n){this.scrollContainer.scrollTo(l+(0,eb.bm)(t-l-n,eJ.FL));return}}let a=(0,eb.OL)(this.getScene(),this.props.sceneGraphSelection,this.topByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,t,this.mouseOverStickyHeaderGuid(e.clientY),this.props.panelType??eb.g$.Object,this.props.topNodeFields);this.state.dropTarget&&a&&this.state.dropTarget.index!==a.index&&E.H.trigger(o.JA.SNAP),(this.hasCrossedDragThreshold||!a)&&(this.expandDropTargetIfNeeded(a,t),this.setState({dropTarget:a}))}},this.onMouseUp=w.cZ(this,"mouseup",e=>{let t=this.getScene(),l=!1;if(this.hasCrossedDragThreshold=!1,this.state.mouseDown&&!this.props.renamingGuid){if(l=!0,3>=this.state.mouseDown.distanceTo(new I.Mi(e.clientX,e.clientY))){if(!(0,R.i)(e)){let t=this.guidAtMousePosition(e.clientY);t?this.updateSelection(t):l=!1}}else if(!this.props.isReadOnly){let l=(0,eb.OL)(t,this.props.sceneGraphSelection,this.topByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,this.relativeY(e.clientY),this.mouseOverStickyHeaderGuid(e.clientY),this.props.panelType??eb.g$.Object,this.props.topNodeFields);if(!l)return;let{parentGuid:n,index:a,section:r}=l,i=t.get(n);if(!i||void 0===a)return;let s=e.altKey,d=(0,eb.Lc)(i,a);s?c.l7.user("duplicate-selection",()=>G.kH(i.guid,d,r)):c.l7.user("reparent-selection",()=>G.Yu(i.guid,d,r)),G.hq(i.guid),o.Egt.clearTemporarilyExpanded(),F.Y5.commit()}}if(this.setState({mouseDown:null,dropTarget:null}),this.isDraggingToToggle&&(l=!0,this.isDraggingToToggle=null,F.Y5.commit()),!l)return w.aH},{recordMetadata:e=>{let t=this.getScene(),l=this.guidAtMousePosition(e.clientY),n=this.relativeY(e.clientY);(0,r.KF)(!!l,"interaction test does not support rare case of no guid under mouse (empty layers panel?)");let a=this.topByGuid[l];return{path:(0,eb.eT)(l,t),treatAsEndOfClick:!!(this.state.mouseDown&&5>this.state.mouseDown.distanceTo(new I.Mi(e.clientX,e.clientY))),belowAll:n>a+eJ.FL,clientX:e.clientX}},playbackMetadata:e=>{if(e.treatAsEndOfClick)return{clientX:this.state.mouseDown.x,clientY:this.state.mouseDown.y};{let t=this.topByGuid[(0,eb.g2)(e.path,this.getScene(),this.props.currentPage)]+eJ.FL/2;return e.belowAll&&(t+=eJ.FL),{clientY:this.clientY(t),clientX:e.clientX}}}}),this.setRowToScrollToData=e=>{this.setState({rowToScrollToData:e})},this.getNewHorizontalAutoscrollPosition=(e,t)=>{let l=this.leftByGuid[e];if(void 0===l)return;let n=l-16;return this.isOutOfViewLeft(e)?Math.max(0,n):this.isOutOfViewRight(e)&&t?t-l>this.props.width?n:t-this.props.width:void 0},this.onScrollContainerMouseDown=()=>{G.wr(),F.Y5.commit()},this.scrollContainerRef=e=>{this.scrollContainer=e,this.scrollContainerEl=e?.getClipContainer()},this.containerMouseLeave=e=>{G.Uc(""),null!=this.hoverToExpandGroupTimeout&&clearTimeout(this.hoverToExpandGroupTimeout)},this.expandMouseDown=(e,t)=>{let l=this.getScene().get(e);if(!l)return;t.stopPropagation(),(0,y.sx)("objects_panel_expand",{nonInteraction:0});let n=!l.isExpanded;t.altKey?G.sK(l.guid,n):(0,C.Fo)(t)&&!(0,i.Im)(this.props.sceneGraphSelection)?G.yF(l.guid,n):G.sq(l.guid,n),this.justToggledExpandedGuid=l.guid},this.isDraggingToToggle=null,this.lockMouseDown=(e,t)=>{let l=this.getScene().get(e);if(!l||this.props.isReadOnly)return;t.stopPropagation();let n=!l.locked;this.isDraggingToToggle={locked:n},c.l7.user("set-locked",()=>{G.tU(l.guid,n,t.altKey)})},this.visibleMouseDown=(e,t)=>{let l=this.getScene().get(e);if(!l||this.props.isReadOnly)return;t.stopPropagation();let n=!l.visible;this.isDraggingToToggle={visible:n},c.l7.user("set-visible",()=>{G.pr(l.guid,n,t.altKey)})},this.hoverToExpandGroupTimeout=null,this.rowMouseEnter=(e,t)=>{let l=this.getScene().get(e);if(!l)return;let n=()=>{if(this.isDraggingToToggle){let{locked:e,visible:t}=this.isDraggingToToggle;null!=e&&c.l7.user("set-locked",()=>(function(e,t,l){if(!e)return;let n=!1;tK(e,l,e=>{n=n||e.locked!==t,e.locked=t}),n&&D.wt.reportAnyPropertyChange(["locked"])})(l,e,!1)),null!=t&&c.l7.user("set-visible",()=>(function(e,t,l){if(!e)return;let n=!1;tK(e,l,e=>{n=n||e.visible!==t,e.visible=t}),n&&D.wt.reportAnyPropertyChange(["visible"])})(l,t,!1))}this.state.mouseDown||G.Uc(l.guid)};S.Ay.firefox&&this.isScrolling?this.handleMouseEnterAfterScroll=n:n()},this.onDragDrop=(e,t)=>{this.onMouseUp(t.nativeEvent)},this.onDragOver=(e,t)=>{this.onMouseMove(t.nativeEvent)},this.onDragEnter=(e,t)=>{this.onMouseMove(t.nativeEvent),this.rowMouseEnter(e,t)},this.onDragLeave=(e,t)=>{this.onMouseMove(t.nativeEvent)},this.renderedVisibleRowProps=[],this.touchAdapter=new j(this,this.rowContainerMouseDown,this.onMouseMove,this.onMouseUp,{delayInMS:500}),this.getIsRowInView=(e,t)=>{if(!this.scrollContainer)return!0;let l=this.scrollContainer.getClipContainer().getBoundingClientRect();if(!t)return!0;let n=t.getBoundingClientRect();return e.fixed&&0!==this.props.width||n.top>=l.top&&n.bottom<=l.bottom},this.recalculateLayout(),this.initializeRows(this.props),this.scrollContainerInnerRef=n.createRef()}componentDidMount(){super.componentDidMount(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("resize",this.requestRecalculateLayout),F.Y5.fromFullscreen.on("scrollToNode",this.scrollToNode);let e=o.glU&&o.glU.getFirstSelectedNodeIdForCurrentPage();e&&this.scrollToNode({nodeId:e}),this.updateAllVisibleRowGuids(),this.props.scrollContainerInnerRef?.(this.scrollContainerInnerRef)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("resize",this.requestRecalculateLayout),F.Y5.fromFullscreen.removeListener("scrollToNode",this.scrollToNode)}updateSelection(e){this.props.onSelectionUpdated?this.props.onSelectionUpdated(e):((0,H.S)("panel"),G.tJ([e]),F.Y5.commit())}UNSAFE_componentWillUpdate(e,t){e.renamingGuid&&e.renamingGuid!==this.props.renamingGuid&&(this.scrollToNodeIdAfterUpdate=e.renamingGuid);let l=this.props.objectsPanelRowRebuildCounter!==e.objectsPanelRowRebuildCounter,n=this.props.customRowBuilder!==e.customRowBuilder;if((l||n||this.props.currentPage!==e.currentPage||this.props.showImmutableFrameSublayers!==e.showImmutableFrameSublayers||!_()(this.props.temporarilyExpandedInstanceLayers,e.temporarilyExpandedInstanceLayers)||!_()(this.props.temporarilyHoveredNodes,e.temporarilyHoveredNodes))&&this.initializeRows(e),this.anchorNodeId=null,this.topNodeDelta=0,l){if(null!==this.justToggledExpandedGuid)this.justToggledExpandedGuid===this.stickyHeaderGuid?(this.lastCollapsedScrollPosition=this.state.scrollTop,this.lastCollapsedGuid=this.justToggledExpandedGuid,this.scrollToNodeIdAfterUpdate=this.stickyHeaderGuid):this.justToggledExpandedGuid===this.lastCollapsedGuid&&this.justToggledExpandedGuid===this.lastStickyHeaderGuid&&this.topByGuid[this.lastStickyHeaderGuid]===this.state.scrollTop&&(this.scrollAfterNodeExpanded=!0),this.justToggledExpandedGuid=null;else{let e=!1;for(let t of this.renderedVisibleRowProps)if("object"===t.rowType&&this.scrollContainer&&(0,eb.U$)(t,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop)&&this.props.sceneGraphSelection[t.guid]){e=!0;break}let t=null,l=null;for(let n of this.renderedVisibleRowProps)"object"===n.rowType&&this.scrollContainer&&(0,eb.U$)(n,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop)&&((!e||this.props.sceneGraphSelection[n.guid])&&(null===t||t>n.top)&&(t=n.top,this.anchorNodeId=n.guid),(null===l||l>n.top)&&(l=n.top,this.topNodeDelta=this.topByGuid[n.guid]-n.top))}}}componentDidUpdate(e,t){if(super.componentDidUpdate(e,t),this.scrollContainer){if(this.updateAllVisibleRowGuids(),this.scrollToNodeIdAfterUpdate){this.scrollNodeIntoView(this.scrollToNodeIdAfterUpdate);let e=void 0!==this.topByGuid[this.scrollToNodeIdAfterUpdate],t=!this.props.horizontalScrollEnabled||this.state.rowToScrollToData?.guid===this.scrollToNodeIdAfterUpdate;e&&t&&(this.scrollToNodeIdAfterUpdate=null)}else if(this.scrollAfterNodeExpanded)null!=this.lastCollapsedScrollPosition&&this.scrollContainer.scrollTo(this.lastCollapsedScrollPosition),this.scrollAfterNodeExpanded=!1,this.lastCollapsedScrollPosition=null,this.lastCollapsedGuid=null;else{let e=this.scrollContainer.getScrollTop()+this.topNodeDelta,t=!1;for(let l of this.renderedVisibleRowProps)if("object"===l.rowType&&l.guid===this.anchorNodeId){t=(0,eb.U$)(l,0,this.scrollContainer.getTrackHeight(),e);break}t?this.scrollContainer.scrollTo(e):this.anchorNodeId&&this.scrollNodeIntoView(this.anchorNodeId)}}}getTopSelectedNodeId(){let e;let t=Object.keys(this.props.sceneGraphSelection),l=1/0;for(let n of t){let t=this.topByGuid[n];t<l&&(l=t,e=n)}return e}findStickyHeader(e,t,l){let n=this.state.scrollTop,a=this.getScene().get(e.guid);if(!a||!e.hasChildren||!(e.isExpanded||e.isTemporarilyExpanded))return null;let r=t<=n&&l>n+eJ.FL,i=l>n&&l<=n+eJ.FL;return(this.scrollAfterNodeExpanded||r||i)&&this.isNodeSticky(a)?r?(this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,{...e,fixed:!0}):i?{...e,top:l-eJ.FL,layerAbove:!0}:this.scrollAfterNodeExpanded&&e.guid===this.lastStickyHeaderGuid?(this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,{...e,fixed:!0}):null:null}expandDropTargetIfNeeded(e,t){let l=null;if(e&&"sticky"!==e.parentTop){let n=this.getScene().get(e.parentGuid);(0,r.KF)(!!n,"parentGuid should point to a valid node");let a=t>e.parentTop+eJ.FL/3&&t<e.parentTop+2*eJ.FL/3;n.uiOrderedChildren.length&&a&&(l=n.guid)}this.lastExpansionTarget!==l&&(this.lastExpansionTarget&&null!=this.hoverToExpandGroupTimeout&&clearTimeout(this.hoverToExpandGroupTimeout),l&&(this.hoverToExpandGroupTimeout=setTimeout(()=>{this.state.mouseDown&&G.Ir(l,!0)},1e3)),this.lastExpansionTarget=l)}toggleSelected(e){this.props.sceneGraphSelection[e]?G.D$([e]):(G.Dh([e]),this.rangeSelectAnchorNodeId=e),F.Y5.commit()}relativeY(e){let t=(0,T.bG)();return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e-t+this.state.scrollTop}clientY(e){let t=(0,T.bG)();return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e+t-this.state.scrollTop}isVerticallyVisible(e,t){if(!this.scrollContainerEl)return!0;let l=this.state.scrollTop,n=this.scrollContainerEl.getBoundingClientRect().height+this.state.scrollTop;return l<e&&t<n}isOutOfViewLeft(e){let t=this.leftByGuid[e];return void 0!==t&&t<this.state.scrollLeft-50}isOutOfViewRight(e){let t=this.leftByGuid[e];return void 0!==t&&t+(0,f.jz)(tp.indentWidth)>this.state.scrollLeft+this.props.width-50}shouldHorizontallyAutoscroll(e){return this.props.renamingGuid!==e&&(this.isOutOfViewLeft(e)||this.isOutOfViewRight(e))}guidAtMousePosition(e){return this.mouseOverStickyHeaderGuid(e)||(0,eb.GN)(this.getScene(),this.props.sceneGraphSelection,this.topByGuid,this.relativeY(e))}mouseOverStickyHeaderGuid(e){return this.scrollContainerEl&&e-this.scrollContainerEl.getBoundingClientRect().top<eJ.FL?this.stickyHeaderGuid:null}computeStackOutlineHeight(e,t,l,n){return"sticky"===e?Math.min(t-l,n):Math.min(t-e,n-(e-l))}scrollContainerHeight(){return this.scrollContainerEl?this.scrollContainerEl.clientHeight:0}renderDropTarget(e){let t=null;if(null!=e.parentTop){let l=this.scrollContainerHeight(),a=e.bottomForCanvasStackReparenting,r=eJ.FL,i="sticky"===e.parentTop||this.stickyHeaderGuid===e.parentGuid;a&&l&&(r=this.computeStackOutlineHeight(i?"sticky":e.parentTop,a,this.state.scrollTop,l)),t=i?n.createElement("div",{key:"drop-target-box","data-testid":"drop-target-box",className:tL,style:{position:"sticky",width:this.props.width,height:r,zIndex:tP.Wb}}):n.createElement("div",{key:"drop-target-box","data-testid":"drop-target-box",className:tL,style:{transform:`translate3d(0px, ${e.parentTop}px, 0)`,height:r}})}let l=null;return null!=e.lineTop&&(l=n.createElement("div",{key:"drop-target-line","data-testid":"drop-target-line",className:"objects_panel--dropTargetLine--vmN9u",style:{marginLeft:`${e.lineIndent?e.lineIndent:0}px`,transform:`translate3d(0px, ${0===e.lineTop?0:e.lineTop-1}px, 0)`,transition:"margin-left 150ms 0ms"}})),[t,l]}onContextMenu(e){e.stopPropagation(),e.preventDefault()}hasAtLeastOneRefToHoveredDefId(e){if(!this.props.hoveredPropDef||!this.props.hoveredPropDef.nodeIDs?.length||!this.props.hoveredPropDef.defID)return!1;let t=e.containingSymbolId;if(!t||!this.props.hoveredPropDef.nodeIDs.includes(t))return!1;for(let t of Object.values(e.propRefs))if(t.isLinked&&t.explicitDefID===this.props.hoveredPropDef.defID)return!0;return!1}renderObjectRow(e,t,l,a){let r=t.getNode(e.guid);if(!r||!r.parentGuid)return null;let i=t.getAncestorInfo(r.parentGuid),s=t.getMaskInfo(e.guid),o=null!=e.isSelected?e.isSelected:(0,$.K3)(this.props.sceneGraphSelection,e.guid);if(!i||!s)return null;let c=(i.isAncestorSelected||o)&&!i.isAncestorHidden&&this.hasAtLeastOneRefToHoveredDefId(r),u=!!e.prevNodeGuid&&t.getAncestorInfo(e.prevNodeGuid).isAncestorSelected,p=(!!e.prevNodeGuid&&(0,$.K3)(this.props.sceneGraphSelection,e.prevNodeGuid)||u)&&tM.OZ(this.cachedAllRowData)?.guid!==e.guid,m=!!e.nextNodeGuid&&(0,$.K3)(this.props.sceneGraphSelection,e.nextNodeGuid)&&tM.w6(this.cachedAllRowData)?.guid!==e.guid;return n.createElement(tE,{key:tR.getKeyForId(e.guid),isReadOnly:this.props.isReadOnly,...e,renderResourceUse:this.props.renderResourceUse,showMemoryUsage:this.props.showMemoryUsage,showInFileMemoryPercentage:this.props.showInFileMemoryPercentage,nodeMemoryUsage:r.nodeMemoryUsage,rootMemoryUsage:r.rootMemoryUsage,isAncestorHidden:i.isAncestorHidden,isAncestorLocked:i.isAncestorLocked,isAncestorSelected:!e.ignoreAncestorSelection&&i.isAncestorSelected,isLayerAboveSelected:p,isLayerBelowSelected:m,displayOrder:i.childrenDisplayOrder,isMaskedAtLevels:s.isMaskedAtLevels,isLastMaskedAtLevels:s.isLastMaskedAtLevels,panelWidth:this.props.width,scrollLeft:this.state.scrollLeft,abbreviatedStateName:r.isState?r.stateAbbreviatedName:null,nodeType:r.type,isStamp:(0,d.GI)(r),visible:r.visible,mask:r.mask,locked:r.locked,resizeToFit:r.resizeToFit,stackMode:r.stackMode,isStateGroup:r.isStateGroup,isState:r.isState,scrollDirection:r.scrollDirection,booleanOperation:r.booleanOperation,isStaticImage:r.hasEnabledStaticImagePaint,isGIF:r.hasEnabledAnimatedPaint,cornerRadius:r.cornerRadius,objectsPanelThumbnailId:r.objectsPanelThumbnailId,isWidgetSublayer:!!r.isInWidget,hasChildren:r.isExpandable||e.hasChildren||(0,Y.vo)(r,this.getScene()),isExpanded:e.isExpanded||e.isTemporarilyExpanded,isHoveredAndOptimizePerfFlagDisabled:this.props.hoveredNodeIfOptimizePerfDisabled===e.guid,hasRefToHoveredDef:c,isTemporarilyHovered:this.props.temporarilyHoveredNodes.includes(e.guid),isSelected:o,isRenaming:this.props.renamingGuid===e.guid,isDragging:!!this.state.dropTarget,startRenaming:this.props.startRenaming,stopRenaming:this.props.stopRenaming,onContextMenu:this.rowContextMenu,expandMouseDown:this.expandMouseDown,lockMouseDown:this.lockMouseDown,visibleMouseDown:this.visibleMouseDown,onMouseEnter:this.rowMouseEnter,dispatch:this.props.dispatch,shouldShowGuids:this.props.shouldShowGuids,currentPage:this.props.currentPage,onDragDropCallback:this.onDragDrop,onDragOverCallback:this.onDragOver,onDragEnterCallback:this.onDragEnter,onDragLeaveCallback:this.onDragLeave,isFavicon:this.props.faviconGuid===e.guid,isSocialImage:this.props.socialImageGuids?.split(",").includes(e.guid),isThumbnail:this.props.thumbnailGuid===e.guid,layerChangeStatus:r.nodeChangeStatus,versionHistory:this.props.versionHistory,userId:this.props.userId,hideRowActions:this.props.hideRowActions,isDefaultResponsiveSet:this.props.topNodeFields?.defaultResponsiveSetId===e.guid,isResponsiveSet:r.isResponsiveSet,isPrimaryBreakpoint:r.isPrimaryResponsiveNode,panelType:this.props.panelType??eb.g$.Object,isRowInView:l,recordingKey:a?void 0:e.recordingKey,observeWithResizeObserver:this.props.observeWithResizeObserver,unobserveWithResizeObserver:this.props.unobserveWithResizeObserver})}renderLayerExpansionRow(e){let t=tR.getKeyForId(tO(e)),l=this.props.width+(this.props.horizontalScrollEnabled?this.state.scrollLeft:0);return n.createElement(tA,{key:t,top:e.top,width:l,guid:e.containingPrimaryInstanceGUID,level:e.level,onMouseEnter:()=>G.Uc(""),dispatch:this.props.dispatch,recordingKey:w.Pt(this.props,"layerExpansion",e.containingPrimaryInstanceGUID)})}renderSectionHeader(e){let t=this.sectionById[e.sectionId]&&(0,$.sp)(this.getScene(),this.props.sceneGraphSelection,this.sectionById[e.sectionId].parentGuid),l=Math.max(this.props.horizontalScrollEnabled?this.props.scrollWidth:this.props.width,this.props.width);return n.createElement(tx,{key:tR.getKeyForId(e.sectionId),...e,width:l,isParentSelected:t,dispatch:this.props.dispatch})}render(){let e=this.renderedVisibleRowProps,t=this.cachedAllRowData||[];for(let l of(this.renderedVisibleRowProps=(0,eb.Uw)(t,this.windowInnerHeight,this.state.scrollTop),this.findStickyHeaderRowAndReplaceInVisibleRows(t),e))(0,eb.Mq)(l,this.windowInnerHeight,this.state.scrollTop)||tR.freeKeyForId(tO(l));this.renderedVisibleRowProps.sort((e,t)=>tR.getKeyForId(tO(e))-tR.getKeyForId(tO(t)));let l=this.props.nodeInfoCache||new tM.nV(this.getScene(),this.props.sceneGraphSelection),a=[];for(let e of this.renderedVisibleRowProps)"object"===e.rowType?a.push(this.renderObjectRow(e,l,this.getIsRowInView)):"layer-expansion"===e.rowType?a.push(this.renderLayerExpansionRow(e)):a.push(this.renderSectionHeader(e));var r=null;if(this.scrollToNodeIdAfterUpdate){let e=this.cachedAllObjectRowDataMap[this.scrollToNodeIdAfterUpdate];void 0!==e&&(0,eb.N1)(e)&&(r=this.renderObjectRow(e,l,this.getIsRowInView,!0))}if(!this.props.hideCanvasDropTargets&&this.props.reparentIntoStackInfo&&this.props.sceneGraph){let e=this.props.reparentIntoStackInfo.indexInParent,t=this.props.reparentIntoStackInfo.parentGuid,l=this.props.sceneGraph.get(t);l&&a.push(...this.renderDropTarget((0,eb.Gs)(l,this.topByGuid,this.props.sceneGraph,this.totalHeight,e)))}else!this.props.isReadOnly&&this.state.dropTarget&&a.push(...this.renderDropTarget(this.state.dropTarget));let i=this.stickyHeaderGuid||!this.state.needsScrollLine?"objects_panel--scrollContainer--h6khG":"objects_panel--scrollContainerWithBorder--SR2sm objects_panel--scrollContainer--h6khG";return n.createElement(n.Fragment,null,n.createElement(tT,{objectRow:r,setRowWidth:this.setRowToScrollToData,guid:this.scrollToNodeIdAfterUpdate}),n.createElement(eb.M3,{selection:this.props.sceneGraphSelection,getNode:function(e){return l.getNode(e)??null}}),n.createElement(x.P,{enableOverscroll:!0,recordingKey:w.Pt(this.props,"scrollContainer"),className:m()(i,{"objects_panel--hasPending--0IO3j":this.props.hasPending}),width:this.props.width,onScroll:this.onScroll,onScrollLeftChanged:this.onScrollLeftChanged,initialScrollTop:this.props.initialScrollTop,onMouseDown:this.onScrollContainerMouseDown,onContextMenu:this.onContextMenu,ref:this.scrollContainerRef,scrollContainerRef:this.scrollContainerInnerRef,horizontalScrollBarEnabled:this.props.horizontalScrollEnabled,minContentWidth:this.props.horizontalScrollEnabled?this.props.width:void 0,dataOnboardingKey:this.props.isUI3?void 0:tk.m4},n.createElement(tw.jq,{onLeftPanelCollapsedChange:this.onLeftPanelCollapsedChange}),n.createElement(A.V,null,n.createElement("div",{className:m()("objects_panel--rowContainer--03VQD",{"objects_panel--horizontalScrollBarPadding--JfnK4":this.props.horizontalScrollEnabled}),style:{width:Math.max(this.props.scrollWidth??0,this.props.width),height:this.totalHeight},onMouseDown:this.rowContainerMouseDown,onTouchStart:this.touchAdapter.onTouchStart,onMouseLeave:this.containerMouseLeave,"data-testid":"objects-panel"},a))))}}function tF(e){let t=(0,a.wA)(),l=(0,z.J2)((0,B.UK)().showImmutableFrameSublayers),r=(0,z.ut)(o.Ez5?.uiState().reparentIntoStackInfo,null),i=(0,z.J2)(o.Ez5.uiState().renderResourceUse),s=(0,z.J2)(o.Ez5.uiState().showMemoryUsage),c=(0,z.J2)(o.Ez5.uiState().hoveredComponentPropDef),d=(0,z.J2)(o.Ez5.uiState().showInFileMemoryPercentage),p=(0,z.J2)(o.Ez5.canvasViewState().temporarilyHoveredNodes),m=(0,U.TA)(),h=(0,a.d4)(e=>e.mirror.sceneGraphSelection),_=(0,a.d4)(e=>e.mirror.objectsPanelRowRebuildCounter),y=(0,a.d4)(e=>e.mirror.appModel.temporarilyExpandedInstanceLayers),f=(0,a.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),E=(0,tS.ks)(),C=(0,M._I)(),k=(0,K.E)(),S=(0,u.UN)(),w=(0,W.wA)((e,t)=>{let l=e.get(t);return l?{guid:l.guid,children:l.uiOrderedChildren,defaultResponsiveSetId:l.defaultResponsiveSetId}:null},e.currentPage),N=(0,ev.el)();(0,eb.SV)();let[T,I]=(0,v.useAtom)(tN),A=(0,g.A)(I,200),x=(0,W.Fk)(e=>e.getCurrentPage()?.responsiveSetSettings?.faviconID),P=(0,W.dg)({deepEqual:!1,allowDeferral:(0,b.kc)().use_scene_selector_deferral},e=>{let t=e.getCurrentPage();return(0,b.kc)().derived_prop_slow_selectors?(t?t.socialImageGuidsOnPage:[]).join(","):[t?.responsiveSetSettings?.socialImageID,...t?.childrenNodes.map(e=>"RESPONSIVE_SET"===e.type&&e.responsiveSetSettings?.socialImageID)||[]].filter(e=>"string"==typeof e).join(",")}),L=(0,z.J2)((0,B.UK)().showGuids),R=(0,V._Z)().isLoading,O=(0,n.useMemo)(()=>(0,b.kc)().objects_panel_perf?new tM.nV(S,h):null,[S,_,h]),D=(0,b.kc)().objects_panel_perf,F=(0,b.kc)().ui3p_horizontal_scroll_perf,G=(0,a.d4)(e=>D?void 0:e.mirror.appModel.hoveredNode),H=n.useRef(null),j=n.useRef(new Map);n.useEffect(()=>{if(!F)return;let e=j.current;return H.current=new ResizeObserver(t=>{for(let l of t){let t=e.get(l.target);t?.(l)}}),()=>{H.current?.disconnect(),e.clear()}},[F]);let $=n.useCallback((e,t)=>{!e||j.current.has(e)||(j.current.set(e,t),H.current?.observe(e))},[]),Y=n.useCallback(e=>{e&&(H.current?.unobserve(e),j.current.delete(e))},[]);if(E&&!C)return null;let Z=void 0===e.topNodeFields?w:e.topNodeFields;return n.createElement(n.Fragment,null,n.createElement(tD,{...e,hasPending:R,currentPage:e.currentPage,sceneGraphSelection:h,objectsPanelRowRebuildCounter:_,temporarilyExpandedInstanceLayers:y,editModeType:f,sceneGraph:S,topNodeFields:Z,recordingKey:e.recordingKey??"objectsPanel",showViewChangesNotification:k,hoveredPropDef:c,showImmutableFrameSublayers:l,reparentIntoStackInfo:r,temporarilyHoveredNodes:p,dispatch:t,renderResourceUse:i,showMemoryUsage:s,showInFileMemoryPercentage:d,userId:m??void 0,horizontalScrollEnabled:e.horizontalScrollEnabled,scrollWidth:e.horizontalScrollEnabled?N:void 0,initialScrollTop:T,onScroll:A,faviconGuid:x,socialImageGuids:P,shouldShowGuids:L,nodeInfoCache:O,hoveredNodeIfOptimizePerfDisabled:G,observeWithResizeObserver:$,unobserveWithResizeObserver:Y}),n.createElement(X.p,{featureFlag:"auto_auto_layout"},n.createElement(tC,null)))}function tB(e){let t=(0,O.GS)(),l=(0,eb._j)()&&t;return n.createElement(ev.Rp,null,n.createElement(tF,{...e,horizontalScrollEnabled:l}))}function tK(e,t,l){if(l(e),t)for(let t of e.uiOrderedChildren)tK((0,u.UN)().get(t),!0,l)}tD.displayName="ObjectsPanelView",tD.contextType=ev.$V},121093:(e,t,l)=>{l.d(t,{I:()=>p});var n=l(411855),a=l(805014),r=l(73041),i=l(46263),s=l(654496),o=l(835173),c=l(583044),d=l(909712),u=l(447556);function p({activeTab:e,onCanvasSearch:t,recordingKey:l}){let p=(0,o.M)(),m=(0,r.Em)(),h=(0,r.cJ)(),_=e===a.xae.LAYERS,g=p&&(m||h)&&(e===a.xae.ASSETS||_);return n.createElement(d.y,{withBorder:!0},n.createElement(u.e,{activeTab:e,recordingKey:l}),n.createElement("div",{className:"ui3_tabs_row--iconContainer--a0sRl"},_&&n.createElement(i._,{onClick:t}),g&&n.createElement(s.b,{recordingKey:l,entrypoint:e===a.xae.ASSETS?c.r6.ASSETS_PANEL_BUTTON:c.r6.LAYERS_TAB_BUTTON,hideIfNoUpdates:e===a.xae.LAYERS})))}},849414:(e,t,l)=>{l.d(t,{v:()=>x});var n=l(411855),a=l(188507),r=l(462575),i=l(499325),s=l(747579),o=l(277154),c=l(841962),d=l(563192),u=l(453956),p=l(612724),m=l(76265),h=l(225371),_=l(674505),g=l(535461),y=l(366172),f=l(923219),E=l(965636),b=l(688656),v=l(143364),C=l(404714),k=l(413327),S=l(878075),w=l(76237),N=l(442133),T=l(861702),I=l(704137),A=l(967273);function x(e){let t=(0,n.useRef)(null),l=(0,s.DP)(),{backgroundColor:a,backgroundEnabled:o,backgroundOpacity:c,exportBackgroundDisabled:h}=(0,E.zj)("backgroundColor","backgroundEnabled","backgroundOpacity","exportBackgroundDisabled"),_=e=>y.Y5.updateSelectionProperties({backgroundEnabled:e}),v=e=>{y.Y5.updateSelectionProperties({exportBackgroundDisabled:!e})},S=n.useMemo(()=>{let e=(0,f.E7)(a),t=(0,f.E7)(c);return null!=e&&null!=t?{...e,a:t}:a||f.oV},[a,c]),x=n.createElement(M,{backgroundColor:a,backgroundEnabled:o,backgroundOpacity:c,pickerShown:e.pickerShown,chitRowRef:t,recordingKey:e.recordingKey}),P=()=>n.createElement("span",{className:"background_panel--visible--2-4Ns"},n.createElement(I.B,{visible:o,onChange:_,recordingKey:d.Pt(e,"visibleToggle")}));return n.createElement(u.k,{name:"background_panel"},n.createElement(w.Zk,null,n.createElement("div",null,n.createElement(w.fI,{className:"background_panel--panelTitleRow--uNINf"},n.createElement(w.xw,null,(0,m.tx)("fullscreen.properties_panel.page")),n.createElement(A.M,{showLibrarySets:!0,recordingKey:"pageLevel"})),"ui2"===l.version?n.createElement(w.fI,{ref:t},x,P()):n.createElement(N.DE,{ref:t,label:null,input:x,icon:P()})),e.hasExports?"ui3"===l.version?n.createElement(N.Ad,{label:n.createElement(n.Fragment,null),input:n.createElement(r.S,{muted:!0,mixed:h===f.oV,checked:!1===h,onChange:v,recordingKey:d.Pt(e,"exportDisableCheckbox"),label:n.createElement(i.J,{htmlAttributes:{"data-tooltip":(0,m.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports"),"data-tooltip-type":b.Ib.TEXT}},(0,m.tx)("fullscreen.properties_panel.show_in_exports")),htmlAttributes:{"data-tooltip":(0,m.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports"),"data-tooltip-type":b.Ib.TEXT}})}):n.createElement(w.fI,{className:"background_panel--checkboxLabelRow--r-hmK"},n.createElement(C.t,{className:"background_panel--checkbox--6U3j-",id:"export-background-disabled",property:h===f.oV?f.oV:!h,onChange:v,recordingKey:d.Pt(e,"exportDisableCheckbox")}),n.createElement(w.JU,{className:"background_panel--checkboxLabel--ITthj",htmlFor:"export-background-disabled","data-tooltip-type":b.Ib.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports")},(0,m.tx)("fullscreen.properties_panel.show_in_exports"))):void 0,e.pickerShown?.id===g.k8&&n.createElement(k.h3,{disabledVariableIds:new Set,initialPosition:new p.Mi(e.pickerShown.initialX,e.pickerShown.initialY),color:(0,f.hS)(S)?(0,f.E7)(S):{r:1,g:1,b:1,a:1},boundVariable:null,onChange:(e,t)=>{let l=e.a;e.a=1,y.Y5.updateSelectionProperties({backgroundColor:e,backgroundOpacity:l,backgroundEnabled:!0},{shouldCommit:t})},recordingKey:d.Pt(e,"colorPicker")}),n.createElement(T.wu,{showExplicitOnly:!0,recordingKey:"backgroundPanel-variableModeEntries"})))}function M(e){let t=(0,a.wA)(),l=n.useMemo(()=>{let t=(0,f.E7)(e.backgroundColor),l=(0,f.E7)(e.backgroundOpacity);return null!=t&&null!=l?{...t,a:l}:e.backgroundColor||f.oV},[e.backgroundColor,e.backgroundOpacity]),r=n.useMemo(()=>(0,f.hS)(e.backgroundOpacity)&&"number"==typeof e.backgroundOpacity&&isNaN(e.backgroundOpacity)?0:e.backgroundOpacity,[e.backgroundOpacity]),i=(0,f.E7)(e.backgroundColor),s=(0,f.E7)(e.backgroundEnabled),d={color:i??void 0,opacity:(0,f.E7)(r)??void 0,type:"SOLID",blendMode:"NORMAL",visible:s??void 0};return n.createElement("div",{className:"background_panel--colorValueContainer---lsls paint_panels--colorValueContainer--DGeSP raw_components--borderFocusWithin--BaipZ paint_panels--_baseColorValueContainer--t-UIV raw_components--base--T7G0z raw_components--singleRowHeight--dKM4t"},n.createElement(S.y7,{recordingKey:e.recordingKey,togglePicker:()=>{if(e.pickerShown&&e.pickerShown.id===g.k8)t(h.XE());else{(0,c.kc)().ce_properties_panel_tracking&&(0,o.sx)("editor-background-panel-color-picker-show");let l=e.chitRowRef.current?(0,v.cn)(e.chitRowRef.current):{x:0,y:0};t(h.u1({id:g.k8,initialX:l.x,initialY:l.y})),t(_.sw())}},chitOverride:{color:l,opacity:r},paint:d,onChange:(t,l)=>{let n=!(0,a.bN)(t.color,e.backgroundColor),r=t.opacity!==e.backgroundOpacity;y.Y5.updateSelectionProperties({backgroundColor:n&&t?.color?{...t.color,a:1}:void 0,backgroundOpacity:r?t.opacity:void 0,backgroundEnabled:0!==t.opacity},{shouldCommit:l})}}))}},267449:(e,t,l)=>{l.d(t,{J:()=>_,N:()=>h});var n=l(411855),a=l(228736),r=l(563192),i=l(373247),s=l(923219),o=l(876348),c=l(453783),d=l(683882);let u=new i.SU;class p extends c.c${}let m=c.l6;class h extends n.PureComponent{render(){let e=this.props.includePassThrough?d.j4:d.r5;return n.createElement(m,{id:_(this.props.id),className:this.props.className,inputClassName:this.props.inputClassName,chevronClassName:this.props.chevronClassName,property:this.props.property,formatter:u,onChange:this.props.onChange,onMouseDown:this.props.onMouseDown,willShowDropdown:this.props.willShowDropdown,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey,dropdownWidth:this.props.isUI3?120:"auto",icon:this.props.isUI3?n.createElement(a.N,null):n.createElement(o.M,{value:(0,s.E7)(this.props.property),defaultBlendMode:this.props.includePassThrough?"PASS_THROUGH":"NORMAL"}),enablePreview:!0},e.map((e,t)=>"SELECT_DIVIDER"===e?n.createElement(c.sK,{key:t}):n.createElement(p,{key:t,value:e,recordingKey:r.Pt(this.props,e)})))}}function _(e){return`blend-mode-select-${e}`}h.displayName="BlendMode"},121516:(e,t,l)=>{l.d(t,{A:()=>T,y:()=>I});var n=l(411855),a=l(177283),r=l(462575),i=l(499325),s=l(520244),o=l(28819),c=l(623817),d=l(245954),u=l(829531),p=l(746643),m=l(563192),h=l(918091),_=l(265851),g=l(76265),y=l(250379),f=l(366172),E=l(125682),b=l(817120),v=l(929717),C=l(76237),k=l(742713),S=l(442133);let w={layout:"Include layout properties",rendering:"Include rendering properties",text:"Include text properties"},N={tailwind:"Use Tailwind",tailwindOnly:"Use Tailwind ONLY (lossy)",includeIDs:"Include IDs",includeNames:"Include names",ignoreFetchingComponentData:"Ignore fetching component data",excludeVectorData:"Exclude vector data",excludeImageData:"Exclude image data",normalizeRootXY:"Normalize root XY",normalizePxToRange01:"Normalize pixel values to 0-1",orderChildrenByXY:"Order children by XY",ignoreHugContentsOnEmptyFrames:"Ignore hug contents on empty frames",inlineVectorData:"Inline vector data",includeInstanceSublayers:"Include instance sublayers",includeInstanceOverrides:"Include instance overrides",onlyIncludeTopPaint:"Only include top paint",useDivTagsForFrames:"Use div tags for frames",topLevelComponentProps:"Deserialize top-level component props",strict:"Strict serialize/deserialize",includeTypescriptTypes:"Include TypeScript types",includeVariables:"Include variables"};function T({recordingKey:e}){let[t,l]=(0,n.useState)(!1),[o,c]=(0,n.useState)(""),[h,E]=(0,n.useState)({}),[v,w]=(0,n.useState)({}),[N,T]=(0,n.useState)(""),[A,x]=(0,n.useState)(!1),[M,P]=(0,n.useState)(""),[L,R]=(0,n.useState)(0),[O,D]=(0,n.useState)({layout:!0,rendering:!0,text:!0}),F=(0,y.uQ)(),[B,K]=(0,n.useState)({tailwind:!1,tailwindOnly:!1,includeIDs:!1,includeNames:!1,ignoreFetchingComponentData:!0,excludeVectorData:!1,excludeImageData:!1,normalizeRootXY:!1,normalizePxToRange01:!1,orderChildrenByXY:!0,ignoreHugContentsOnEmptyFrames:!1,inlineVectorData:!0,includeInstanceSublayers:!1,includeInstanceOverrides:!1,onlyIncludeTopPaint:!1,useDivTagsForFrames:!1,topLevelComponentProps:!1,strict:!0,includeTypescriptTypes:!0,includeVariables:!1}),G=(0,n.useMemo)(()=>M?(0,d.UN)().get(M):null,[M]),V=(0,n.useCallback)(async e=>{try{let t=await (0,u.oy)(e,{...B,filterFunction:e=>e.visible,fieldGroups:Object.entries(O).filter(([e,t])=>t).map(([e])=>e),focusNodeId:G?G.guid:void 0,maxSerializeNodes:L});c(t.jsxStr),E(t.componentInfoByJSXName),w(t.assetsByName),T(t.variablesObjDefinition??"")}catch(e){if(e instanceof a.LV&&"Focus node is not a descendant of the node"===e.message){P(""),R(0);return}throw e}},[c,O,B,G,L]),H=(0,n.useCallback)(async()=>{if(!t||!F)return;let e=(0,d.UN)().get(F);e&&(await V(e),f.Y5.triggerAction("commit"))},[t,F,V]);async function U(e){if(F)await (0,u.Go)({jsxStr:e,nodeId:F,options:{...B,assetsByName:v}});else if(!(await (0,u.LZ)(e,{...B,assetsByName:v})).node)throw Error("Couldn't parse jsx")}(0,n.useEffect)(()=>{if(A)return(0,d.UN)().onChange(()=>{H()},{allowDeferral:!1})},[A,H]),(0,n.useEffect)(()=>{H()},[H]);let z=Object.values(h).map(e=>e.typescriptType).filter(e=>null!==e).join("\n");return n.createElement(C.Zk,null,n.createElement(k.Wv,{titleTx:(0,g.tx)("fullscreen.properties_panel.jsx_debug.title")},n.createElement(I,{serializerOptions:B,setSerializerOptions:K,selectedFieldGroups:O,setSelectedFieldGroups:D,dropdownId:"JSX_DEBUG_SETTINGS_DROPDOWN"})),n.createElement("div",{className:_.s.px16.$},n.createElement(r.S,{checked:t,onChange:e=>l(e),label:n.createElement(i.J,null,"Enabled")}),t&&n.createElement(n.Fragment,null,n.createElement(b.R$,{row:n.createElement("span",{className:_.s.flex.wFull.py8.$},n.createElement(i.J,{className:_.s.fontMedium.$},"Additional settings")),isCollapsedByDefault:!0,isChevronAlwaysVisible:!0,recordingKey:m.Pt(e,"additionalSettingsCollapsibleRow")},n.createElement(i.J,null,"Focus node guid and max nodes"),n.createElement(S.fn,{leftLabel:null,leftInput:n.createElement(C.jT,{onBlur:e=>P(e.currentTarget.value),placeholder:"GUID"}),rightLabel:null,rightInput:n.createElement(C.jT,{value:L,onChange:e=>R(Number(e.currentTarget.value)),placeholder:"Max nodes"}),icon:null})),n.createElement("div",null,n.createElement("textarea",{rows:15,value:o,style:{width:"100%"},onChange:e=>c(e.target.value)})),n.createElement("div",{style:{display:"flex",flexDirection:"row",gap:8,marginBottom:16}},n.createElement(s.$n,{onClick:()=>U(o)},F?"Update node":"Create node"),n.createElement(r.S,{checked:A,onChange:e=>x(e),label:n.createElement(i.J,null,"Live Update")}))),Object.keys(h).length>0&&n.createElement("div",{style:{paddingBottom:16}},"Components:",n.createElement("div",null,n.createElement("textarea",{rows:10,style:{padding:10,width:"100%"},value:JSON.stringify(h,null,2),onChange:p.lQ}))),z.length>0&&n.createElement("div",null,"Typescript definitions:",n.createElement("textarea",{rows:10,style:{width:"100%"},value:z})),Object.keys(v).length>0&&n.createElement("div",{style:{paddingBottom:16}},"Assets:",n.createElement("div",null,n.createElement("textarea",{rows:10,style:{padding:10,width:"100%"},value:JSON.stringify(v,null,2),onChange:p.lQ}))),N&&n.createElement("div",{style:{paddingBottom:16}},"Variables:",n.createElement("div",null,n.createElement("textarea",{rows:10,style:{padding:10,width:"100%"},value:N,onChange:p.lQ})))))}function I({serializerOptions:e,setSerializerOptions:t,selectedFieldGroups:l,setSelectedFieldGroups:a,dropdownId:r}){let i=(0,E.BK)(r),s=n.useCallback(e=>{a&&a(t=>({...t,[e]:!t[e]}))},[a]),d=n.useCallback(e=>{t(t=>({...t,[e]:!t[e]}))},[t]),u=[...Object.entries(l??{}).map(([e,t])=>n.createElement(h.MM,{key:e,checked:t,onClick:()=>s(e)},w[e])),...l?[n.createElement(h.wv,{key:"separator"})]:[],...Object.entries(e).map(([e,t])=>n.createElement(h.MM,{key:e,checked:!!t,onClick:()=>d(e)},N[e]))],p=(0,n.useRef)(null),m=p.current?.getBoundingClientRect();return m||(m=new DOMRect(0,0,0,0)),n.createElement(n.Fragment,null,n.createElement(o.d,{"aria-expanded":i.showing,onClick:()=>i.toggle(),"aria-label":"JSX debug settings",ref:p},n.createElement(c.J,null)),i.showing&&n.createElement(v.Jz,{showPoint:!0,options:u,targetRect:m,hideDropdown:()=>i.hide()}))}},873706:(e,t,l)=>{l.d(t,{X:()=>ek});var n=l(411855),a=l(188507),r=l(28819),i=l(463704),s=l(340239),o=l(439594),c=l(805014),d=l(277154),u=l(108982),p=l(841962),m=l(563192),h=l(62791),_=l(612724),g=l(76265),y=l(225371),f=l(366172),E=l(923219),b=l(965636),v=l(424819),C=l(404227),k=l(688656),S=l(143364),w=l(143414),N=l(676395),T=l(991660),I=l(868911),A=l(975760),x=l(76237),M=l(133950),P=l(172385),L=l(766146),R=l(353315),O=l(190773),D=l(742713),F=l(442133),B=l(861702),K=l(967273),G=l(897061),V=l(629019),H=l.n(V),U=l(515662),z=l(642870),W=l(337419),j=l(210148);let $=(0,T.Tn)();function Y(e){let t=n.useMemo(T.On,[]),{isDefReferencedBySelection:l,visibilityIsBoundToComponentProp:a}=(0,u.R)(e=>({isDefReferencedBySelection:!!t(e,o.RR.VISIBLE),visibilityIsBoundToComponentProp:$(e,(0,C.Sh)(e),o.RR.VISIBLE)})),[r]=(0,b.lJ)("visible"),{consumedVariable:i}=(0,z.u3)(["VISIBLE"]),s=n.useRef(null),[c,d]=(0,W.ND)("binding-icon"),p=(0,W.$V)(),h=(0,U.u)(p),_=!!i&&!!h||a||l;return n.createElement("div",{className:j.RK},n.createElement(A.JQ,{ref:s,currentFieldValue:!!(0,E.gl)(r)||r,isActive:c,disabled:_,onPickerOpen:()=>d(s.current),recordingKey:m.Pt(e,"visibilityVariableBindingControl"),dataTestId:"visibility-variable-binding-control",openOnRightClick:!1,inputClassName:H()({"appearance_panel_visibility_binding_icon--iconButtonSelected--At-wP":c,"appearance_panel_visibility_binding_icon--iconButton--EALe5":!c&&!_,"appearance_panel_visibility_binding_icon--iconButtonDisabled--VnIWe":_}),tooltip:(0,g.t)("proto.apply_assignment_property")},n.createElement(G.u,null)))}var X=l(293687),Z=l(138225),q=l(966424),J=l(267449),Q=l(683882);function ee({blendModeSelectId:e,id:t,recordingKey:l}){let r=(0,a.wA)(),[i,s]=(0,Q.sL)(),o=(0,u.R)(e=>e.dropdownShown);return(o?.type===e||(0,Q.qg)(i,"PASS_THROUGH"))&&o?.type!==(0,J.J)(t)?null:n.createElement(F.DE,{label:(0,g.t)("fullscreen.properties_panel.appearance_panel.blend_mode"),input:n.createElement(J.N,{id:t,className:j.jK,inputClassName:j.Df,chevronClassName:j.ai,property:i,dispatch:r,dropdownShown:o,onChange:s,willShowDropdown:()=>((0,d.sx)("editor-blend-mode-dropdown-show"),Promise.resolve()),includePassThrough:!0,recordingKey:m.Pt(l,"blendMode"),isUI3:!0}),icon:n.createElement(Z.K,{htmlAttributes:{"data-tooltip":(0,g.t)("general.remove"),"data-tooltip-type":k.Ib.TEXT},"aria-label":(0,g.t)("general.remove"),onClick:()=>s("PASS_THROUGH"),actionOnPointerDown:!0},n.createElement(q.f,null))})}var et=l(721501),el=l(113843),en=l(164225);function ea(){let{consumedVariable:e,clearVariableConsumption:t}=(0,z.u3)(["VISIBLE"]),l=(0,W.$V)(),a=(0,U.u)(l),r=a?.name,i=!!e&&!!a,s=(0,U.BQ)(l);return i?n.createElement(F.DE,{appendedClassName:"component_bound_vibisility_row--row--Pss97",input:n.createElement(en.P,{value:r||(0,g.t)("fullscreen.mixed"),variableId:l,isStandalone:!0,classNameOverride:"component_bound_vibisility_row--pillCover--q5iKl",styleOverride:{width:"auto"},isDeleted:!!a&&(0,el.eF)(a),fullWidth:!0,varaiablePillContainerClassName:"component_bound_vibisility_row--ui3RowVariablePillContainer--ocnP8",thumbnailValue:"MIXED"!==s?s:void 0}),icon:n.createElement("div",{className:"component_bound_vibisility_row--detachVisibilityIcon--FcjEN"},n.createElement(Z.K,{onClick:()=>t(),"aria-label":(0,g.t)("variables.binding_ui.detach_variable_tooltip"),recordingKey:"detachVisibilityVariable",htmlAttributes:{"data-tooltip-type":k.Ib.TEXT,"data-tooltip":(0,g.t)("variables.binding_ui.detach_variable_tooltip")}},n.createElement(et.U,null))),label:null}):null}var er=l(563259);let ei=n.memo(function({rowRef:e,recordingKey:t}){let l=(0,v.kG)("corner-smoothing");return n.createElement(r.d,{actionOnPointerDown:!0,recordingKey:t,"aria-label":(0,g.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),"aria-expanded":l.showing,onClick:t=>{t.stopPropagation(),(0,p.kc)().ce_properties_panel_tracking&&(0,d.sx)("editor-transform-panel-change",{key:"cornerSmoothing",value:l.showing}),l.toggle(()=>(0,S.cn)(e.current))},htmlAttributes:{"data-tooltip":(0,g.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),"data-tooltip-type":k.Ib.TEXT,"data-testid":"cornerSmoothingToggle"}},n.createElement(er.P,null))});var es=l(263205),eo=l(373247),ec=l(581713),ed=l(125682),eu=l(876348),ep=l(453783),em=l(806565);let eh=new eo.SU;class e_ extends ep.c${}function eg(e){return n.createElement(ep.l6,{...e,renderInput:({onMouseDown:e,props:t})=>n.createElement(Z.K,{recordingKey:(0,m.Pt)(t.recordingKey,"blendMode"),"aria-label":(0,g.t)("properties.dropdown.apply_blend_mode"),onClick:e,actionOnPointerDown:!0,htmlAttributes:{"data-tooltip":(0,g.t)("properties.dropdown.apply_blend_mode"),"data-tooltip-type":k.Ib.TEXT}},n.createElement(eu.M,{value:t.property,defaultBlendMode:"PASS_THROUGH"}))})}function ey({blendModeRowId:e,id:t,recordingKey:l}){let[i,s]=(0,Q.sL)(),o=(0,a.wA)(),c=(0,ed.Um)(),u=(0,em.cJ)(),p=!(0,Q.qg)(i,"PASS_THROUGH"),h=Q.j4.map((e,t)=>{let a="LINEAR_BURN"===e&&u;return"SELECT_DIVIDER"===e?n.createElement(ep.sK,{key:t}):n.createElement(e_,{key:t,value:e,disabled:a,recordingKey:m.Pt(l,"blendMode",e)})});return p&&c?.type!==t||c?.type===(0,J.J)(e)?n.createElement(r.d,{"aria-label":(0,g.t)("properties.dropdown.remove_blend_mode"),"aria-expanded":!0,actionOnPointerDown:!0,onClick:()=>s("PASS_THROUGH"),htmlAttributes:{"data-tooltip":(0,g.t)("properties.dropdown.remove_blend_mode"),"data-tooltip-type":k.Ib.TEXT}},n.createElement(eu.M,{value:i,defaultBlendMode:"PASS_THROUGH"})):n.createElement(eg,{id:t,className:"selection_blend_mode_icon_button--container--Wv9Hd",dropdownClassName:"selection_blend_mode_icon_button--blendModeSelectDropdown--WcwN1 blend_mode_select--blendModeSelectDropdown--jlg6p",property:i,onChange:s,formatter:eh,dispatch:o,dropdownShown:c,onMouseDown:ec.dG,minTop:6,recordingKey:m.Pt(l,"blendMode"),enablePreview:!0,dropdownAlignment:"right",disableSelectFocus:!0,willShowDropdown:()=>((0,d.sx)("editor-blend-mode-dropdown-show"),Promise.resolve())},h)}var ef=l(344822);let eE="layer-blend-mode",eb="layer-blend-mode-select",ev="independent-corners-picker",eC=["OPACITY"],ek=n.memo(function(e){let t=(0,a.d4)(e=>e.pickerShown),l=t?.id,G=(0,P.Df)(),V=(0,P.Jo)(),H=(0,v.kG)("corner-smoothing"),[U]=(0,b.lJ)("rectangleCornerRadiiIndependent"),z=(0,b.kl)("visible"),j=!V.rectangleCornerRadii,$=G.cornerRadius,[Z]=(0,b.lJ)("opacity"),q=G.rectangleCornerRadii,J=G.rectangleCornerRadii&&l===ev,Q=!V.cornerRadius,et=Q||j,el=(0,n.useRef)(null),en=n.useRef(null),er=(0,W.$H)(),es=(0,b.kl)("handleMirroring"),eo=(0,a.d4)(e=>e.mirror.appModel.activeCanvasEditModeType===c.m1T.VECTOR),ec=es&&eo,ed=n.useMemo(T.On,[]),{isDefReferencedBySelection:eu,selectedGUIDs:ep}=(0,u.R)(e=>({isDefReferencedBySelection:!!ed(e,o.RR.VISIBLE),selectedGUIDs:(0,C.Sh)(e)})),em=(0,w.Yc)(o.RR.VISIBLE,ep),eh=(0,p.kc)().ds_variable_props_unified_ui&&(!em||eu),e_=n.useCallback((e,t)=>{f.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!eu&&f.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[eu]),eg=(0,n.useCallback)(()=>{H.hide(),f.Y5.deselectProperty()},[H]),ek=(0,a.wA)(),ew=n.useCallback(()=>{if(ek(y.XE()),(0,p.kc)().ce_properties_panel_tracking&&(0,d.sx)("editor-transform-panel-change",{key:"rectangleCornerRadiiIndependent",value:!(0,E._W)(U,!1)}),!J&&el.current){let{x:e,y:t}=(0,S.cn)(el.current,parseInt(ef.Je,10));ek(y.u1({id:ev,initialX:e,initialY:t}))}},[U,J,ek]),eN=(0,p.kc)().fpl_dialog_trigger?n.createElement(r.d,{actionOnPointerDown:!0,"aria-expanded":J,onClick:ew,"aria-label":(0,g.t)("fullscreen.properties_panel.transform_panel.independent_corners"),disabled:et,recordingKey:m.Pt(e,"rectangleCornerToolIndependentToggle")},n.createElement(i.Q,null)):n.createElement(x.YW,{selected:J,onClick:ew,"data-tooltip-type":k.Ib.TEXT,"data-tooltip":(0,g.t)("fullscreen.properties_panel.transform_panel.independent_corners"),recordingKey:m.Pt(e,"rectangleCornerToolIndependentToggle"),disabled:et},n.createElement(i.Q,null)),eT=ec&&n.createElement(O.Cs,{handleMirroring:es,recordingKey:m.Pt(e,"mirroring")});return n.useEffect(()=>{l===ev&&ek(y.XE())},[ep,ek]),n.createElement(x.Zk,null,n.createElement(D.Wv,{titleTx:(0,g.tx)("fullscreen.appearance_panel.appearance")},!er&&!eh&&n.createElement(w.yQ,{nodeField:o.RR.VISIBLE,defaultValue:z,guids:ep}),n.createElement(K.M,{showLibrarySets:!1,recordingKey:"frameLevel"}),n.createElement(X.C,{recordingKey:e.recordingKey}),eh&&n.createElement(Y,{recordingKey:e.recordingKey}),n.createElement(ey,{id:eb,blendModeRowId:eE,recordingKey:e.recordingKey})),n.createElement(F.fn,{ref:el,leftInput:n.createElement(A.sA,{recordingKey:m.Pt(e,"layerOpacityInputWrapper"),fields:eC,disabled:!1,resolvedType:c.rXF.FLOAT,currentFieldValue:(0,E.hS)(Z)?Z:void 0,inputRef:en,hasBindingContextMenu:!0},n.createElement(I.Pd,{inputClassName:"appearance_panel--input--h3br5 raw_components--flushLeft--YH-5P",ui3RightJustifyPercentSign:!1,noBorderOnHover:!0,isTokenizable:!0,value:Z,onValueChange:e_,mixedMathHandler:eS,dispatch:ek,recordingKey:m.Pt(e,"opacity"),forwardedRef:en},n.createElement("div",{className:"appearance_panel--opacityIconContainer---kdX-"},n.createElement(s.N,null)))),rightInput:n.createElement(M.C,{recordingKey:e.recordingKey,disabled:!$||J||Q}),icon:$?q?n.createElement(h.E,{name:"independent_corner_radius_toggle"},eN):n.createElement(ei,{recordingKey:m.Pt(e,"cornerSmoothingToggle"),rowRef:el}):null,leftLabel:(0,g.tx)("fullscreen.properties_panel.section_appearance.label_opacity"),rightLabel:(0,g.tx)("fullscreen.properties_panel.transform_panel.corner_radius")}),eT&&n.createElement(F.DE,{label:(0,g.tx)("fullscreen.properties_panel.section_vector.label_mirroring"),input:eT,icon:null}),(G.count||G.starInnerScale)&&n.createElement(O.cU,{countShown:G.count,countDisabled:!V.count,starInnerScaleShown:G.starInnerScale,starInnerScaleDisabled:!V.starInnerScale,recordingKey:e.recordingKey}),G.arcData&&n.createElement(O.Je,{arcDataDisabled:!V.arcData,recordingKey:e.recordingKey}),n.createElement(ee,{id:eE,blendModeSelectId:eb,recordingKey:e.recordingKey}),!er&&n.createElement(N.L,{nodeField:o.RR.VISIBLE,currentValue:z}),n.createElement(B.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}),n.createElement(ea,null),J&&n.createElement(R.$,{initialPosition:t&&t.id===ev?new _.Mi(t.initialX,t.initialY):new _.Mi(0,0),onClose:ew,recordingKey:m.Pt(e,"advanced")}),H.showing&&n.createElement(L.T,{initialPosition:H.initialPosition,onClose:eg,recordingKey:m.Pt(e,"advanced")}))}),eS=new es.b},293687:(e,t,l)=>{l.d(t,{C:()=>w});var n=l(411855),a=l(270068),r=l(400834),i=l(279037),s=l(439594),o=l(108982),c=l(563192),d=l(76265),u=l(366172),p=l(923219),m=l(965636),h=l(515662),_=l(404227),g=l(688656),y=l(991660),f=l(975760),E=l(891720),b=l(704137),v=l(642870),C=l(337419),k=l(210148);let S=(0,y.Tn)();function w(e){let t=n.useCallback(e=>{u.Y5.updateSelectionProperties({visible:e})},[]),l=n.useMemo(y.On,[]),{isDefReferencedBySelection:w,visibilityIsBoundToComponentProp:N}=(0,o.R)(e=>({isDefReferencedBySelection:!!l(e,s.RR.VISIBLE),visibilityIsBoundToComponentProp:S(e,(0,_.Sh)(e),s.RR.VISIBLE)})),T=(0,h.SG)(["VISIBLE"]).data??[],[I]=(0,m.lJ)("visible"),{consumedVariable:A}=(0,v.u3)(["VISIBLE"]),x=n.useRef(null),[M,P]=(0,C.ND)("visibility-icon"),L=(0,C.$V)(),R=(0,h.u)(L),O=!!A&&!!R,D=O||N||w,F=!O&&!N&&T.length>0,B=I?(0,d.t)("fullscreen.properties_panel.tooltip_hide"):(0,d.t)("fullscreen.properties_panel.tooltip_show"),K=n.createElement("span",{className:k.RK},n.createElement(b.B,{disabled:D,visible:I,onChange:t,recordingKey:c.Pt(e,"visibleToggle")})),G=(0,E.R)();return n.createElement("div",{className:k.RK},n.createElement(f.JQ,{ref:x,currentFieldValue:!!(0,p.gl)(I)||I,isActive:M,disabled:!F,onPickerOpen:()=>P(x.current),recordingKey:c.Pt(e,"visibilityVariableControl"),dataTestId:"visibility-variable-control",openOnRightClick:!0},G?n.createElement(a.f,{onIcon:n.createElement(r.j,null),offIcon:n.createElement(i._,null),checked:!D&&!I,mixed:!D&&(0,p.gl)(I),disabled:D,onChange:()=>t(I===p.oV||!I),recordingKey:c.Pt(e,"visibleToggle"),"aria-label":B,variant:"highlighted",htmlAttributes:{"data-test-id":"visibility-variable-control","data-tooltip":B,"data-tooltip-type":g.Ib.TEXT}}):K))}},337419:(e,t,l)=>{l.d(t,{$H:()=>f,$V:()=>b,ND:()=>E});var n=l(411855),a=l(439594),r=l(805014),i=l(851169),s=l(108982),o=l(841962),c=l(923219),d=l(515662),u=l(404227),p=l(661809),m=l(143414),h=l(806772),_=l(364985),g=l(642870),y=l(113843);function f(){let{consumedVariable:e}=(0,g.u3)(["VISIBLE"]),t=b(),l=(0,d.u)(t);return!!e&&!!l}function E(e){return(0,_.JV)(["VISIBLE"],r.rXF.BOOLEAN,void 0,{requestedTypes:[r.rXF.BOOLEAN,r.rXF.FLOAT,r.rXF.STRING],variableFilters:{[p.t.MUST_INCLUDE_ONE_OF]:{[r.rXF.STRING]:h.O4},[p.t.HIDE_IN_DEFAULT_VIEW]:{[r.rXF.FLOAT]:!0}},mapVariableIdToTypedValue:_.eT,metadata:e},void 0,function(){let e=(0,s.R)(e=>(0,u.Sh)(e)),t=(0,m.Yc)(a.RR.VISIBLE,e),l=(0,o.kc)().ds_variable_props_unified_ui&&!t,c=n.useCallback(e=>{i.l7.user("add-prop-ref",()=>r.glU.addComponentPropRef(a.RR.VISIBLE,e.value.explicitDefId))},[]);return n.useMemo(()=>l?c:void 0,[l,c])}())}function b(){let e;let{consumedVariable:t}=(0,g.u3)(["VISIBLE"]);if(t){if((0,c.hS)(t)&&t.type===r.Z_n.ALIAS)e=t.value;else if((0,c.hS)(t)&&t.type===r.Z_n.EXPRESSION){for(let l of(0,y.Pr)(t))if(l.type===r.Z_n.ALIAS){e=l.value;break}}}return e}},263205:(e,t,l)=>{l.d(t,{b:()=>el,s:()=>et});var n=l(411855),a=l(188507),r=l(138225),i=l(744597),s=l(721501),o=l(747579),c=l(439594),d=l(805014),u=l(851169),p=l(629019),m=l.n(p),h=l(277154),_=l(108982),g=l(841962),y=l(563192),f=l(453956),E=l(132939),b=l(76265),v=l(648800),C=l(754807),k=l(366172),S=l(923219),w=l(648936),N=l(965636),T=l(515662),I=l(620552),A=l(404227),x=l(756044),M=l(688656),P=l(143414),L=l(676395),R=l(991660),O=l(137567),D=l(868911),F=l(975760),B=l(267449),K=l(596651),G=l(807221),V=l(76237),H=l(861702),U=l(642870),z=l(113843),W=l(164225),j=l(967273),$=l(293687),Y=l(337419),X=l(336968),Z=l(927722),q=l(210148),J=l(424148),Q=l(144919);let ee=["OPACITY"];function et(e){let{blendMode:t,opacity:l,visible:u}=(0,N.zj)("blendMode","opacity","visible"),p="ui3"===(0,o.DP)().version,w=n.useRef(null),et=n.useMemo(R.On,[]),el=n.useMemo(R.Tn,[]),{dropdownShown:ea,isDefReferencedBySelection:er,selectedGUIDs:ei,visibilityIsBoundToComponentProp:es}=(0,_.R)(e=>({dropdownShown:e.dropdownShown,isDefReferencedBySelection:!!et(e,c.RR.VISIBLE),selectedGUIDs:(0,A.Sh)(e),visibilityIsBoundToComponentProp:el(e,(0,A.Sh)(e),c.RR.VISIBLE)})),eo=(0,S.gl)(u),ec=(0,a.wA)(),ed=n.useCallback((e,t=x.zk.YES)=>{C.wt.shouldReportForShouldCommit(t)&&I.F.trackFromFullscreen("editor-blend-mode-change",{blendMode:e}),k.Y5.updateSelectionProperties({blendMode:e,visible:!0},{shouldCommit:t})},[]),eu=n.useCallback((e,t)=>{k.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!er&&k.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[er]),ep=n.useRef(null),[,em]=(0,Y.ND)("layer-panel"),{clearVariableConsumption:eh}=(0,U.u3)(["VISIBLE"]),{variableConsumptionMap:e_}=(0,U.R1)(),eg=(0,Y.$V)(),ey=(0,T.u)(eg),ef=ey?.name,eE=(0,Y.$H)();return n.createElement(f.k,{name:"layer_panel"},n.createElement(V.Zk,null,n.createElement(V.fI,{className:X.LO},n.createElement(K.Tu,{isPanelBodyCollapsedAtom:null},n.createElement(V.xw,{isPanelBodyCollapsedAtom:null},(0,b.tx)("fullscreen.layer_panel.layer")),!eE&&n.createElement(P.yQ,{nodeField:c.RR.VISIBLE,defaultValue:u,guids:ei}),n.createElement(j.M,{showLibrarySets:!1,recordingKey:"frameLevel"}))),n.createElement(K.JH,{isPanelBodyCollapsedAtom:null},n.createElement(V.fI,null,n.createElement(B.N,{id:"layer-blend-mode",className:q.jK,inputClassName:q.Df,chevronClassName:q.ai,property:t,dispatch:ec,dropdownShown:ea,onChange:ed,willShowDropdown:()=>((0,h.sx)("editor-blend-mode-dropdown-show"),Promise.resolve()),includePassThrough:!0,recordingKey:y.Pt(e,"blendMode"),isUI3:p}),n.createElement(O.e,{condition:!0,wrapper:t=>n.createElement(F.sA,{recordingKey:y.Pt(e,"layerOpacityInputWrapper"),fields:ee,disabled:!1,resolvedType:d.rXF.FLOAT,currentFieldValue:(0,S.hS)(l)?l:void 0,inputClassName:m()({[q.ke]:!0,[q.TQ]:!0}),hideIcon:!0,inputRef:w,hasBindingContextMenu:!0},t)},n.createElement(D.Pd,{isTokenizable:!0,value:l,onValueChange:eu,mixedMathHandler:en,dispatch:ec,recordingKey:y.Pt(e,"opacity"),forwardedRef:w,noBorderOnHover:!0})),n.createElement($.C,{recordingKey:e.recordingKey})),eo&&!er&&n.createElement(V.fI,{dataTestId:"mixed-visibility-label"},n.createElement(V.UZ,{className:Z.Pf},(0,b.tx)("fullscreen.layer_panel.replace_mixed_visibility",{svg:n.createElement("div",{className:q.dY},n.createElement(E.U,{svg:Q.A},n.createElement(i.l,null)))}))),es&&!eE&&n.createElement("div",{className:q.I0},n.createElement(L.L,{nodeField:c.RR.VISIBLE,currentValue:u})),(0,g.kc)().prototype_expressions_nodefields?e_.VISIBLE&&n.createElement(v.Y,{direction:"horizontal",spacing:"auto",verticalAlignItems:"center",horizontalAlignItems:"space-between",padding:{top:0,left:16,bottom:0,right:8}},n.createElement(G.y3,{targetVariableData:e_.VISIBLE.isMixed?void 0:e_.VISIBLE,onClick:()=>{em(ep.current)},isNarrowPanel:!0,isInCell:!1,showVariableThumbnails:!0,isInConditional:!1,isMixed:e_.VISIBLE.isMixed}),n.createElement(r.K,{onClick:()=>eh(),"aria-label":(0,b.t)("variables.binding_ui.detach_variable_tooltip"),recordingKey:"detachVisibilityVariable",htmlAttributes:{"data-tooltip":(0,b.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":M.Ib.TEXT}},n.createElement(E.U,{svg:J.A},n.createElement(s.U,null)))):eE&&n.createElement(v.Y,{direction:"horizontal",spacing:"auto",verticalAlignItems:"center",horizontalAlignItems:"space-between",padding:{top:0,left:16,bottom:0,right:8}},n.createElement(W.P,{value:ef||(0,b.t)("fullscreen.mixed"),variableId:eg,isStandalone:!0,styleOverride:{width:"auto"},isDeleted:!!ey&&(0,z.eF)(ey)}),n.createElement(r.K,{onClick:()=>eh(),"aria-label":(0,b.t)("variables.binding_ui.detach_variable_tooltip"),recordingKey:"detachVisibilityVariable",htmlAttributes:{"data-tooltip":(0,b.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":M.Ib.TEXT}},n.createElement(E.U,{svg:J.A},n.createElement(s.U,null)))),n.createElement(H.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}))))}class el extends w.M{getValueForNode(e){return e.opacity}setValueForNode(e,t){u.l7.user("set-opacity",()=>{C.wt.reportAnyPropertyChange(["opacity"]),e.opacity=t})}}let en=new el},834061:(e,t,l)=>{l.d(t,{B:()=>g});var n=l(411855),a=l(563192),r=l(453956),i=l(76265),s=l(343373),o=l(366172),c=l(756044),d=l(76237),u=l(453783),p=l(442133);let m="mask_panel--maskTypeDropdown--3Etsx",h=u.l6,_=u.c$;function g(e){let{maskType:t,dispatch:l,dropdownShown:o}=e,c=(0,s.GS)(),u=n.useCallback(e=>e.stopPropagation(),[]),g=n.createElement(h,{id:"mask-type-dropdown",className:m,property:t,formatter:f,onChange:y,dispatch:l,dropdownClassName:m,dropdownShown:o,onMouseDown:u,recordingKey:a.Pt(e,"maskType"),enablePreview:!0},n.createElement(_,{value:"ALPHA",recordingKey:a.Pt(e,"maskType","alpha")}),n.createElement(_,{value:"OUTLINE",recordingKey:a.Pt(e,"maskType","outline")}),n.createElement(_,{value:"LUMINANCE",recordingKey:a.Pt(e,"maskType","luminance")}));return n.createElement(r.k,{name:"mask_panel"},n.createElement(d.Zk,null,n.createElement(d.fI,null,n.createElement(d.xw,null,(0,i.tx)("fullscreen.mask_panel.mask"))),c?n.createElement(p.Ad,{input:g,label:null}):n.createElement(d.fI,null,g)))}function y(e,t=c.zk.YES){o.Y5.updateSelectionProperties({maskType:e},{shouldCommit:t})}let f={format:e=>{switch(e){case"ALPHA":return(0,i.t)("fullscreen.mask_panel.alpha");case"OUTLINE":return(0,i.t)("fullscreen.mask_panel.vector");case"LUMINANCE":return(0,i.t)("fullscreen.mask_panel.luminance")}},formatExtended:e=>{switch(e){case"ALPHA":return{text:(0,i.t)("fullscreen.mask_panel.alpha_extended")};case"OUTLINE":return{text:(0,i.t)("fullscreen.mask_panel.vector_extended")};case"LUMINANCE":return{text:(0,i.t)("fullscreen.mask_panel.luminance_extended")}}}}},921976:(e,t,l)=>{l.d(t,{C:()=>d});var n=l(411855),a=l(805014),r=l(563192),i=l(453956),s=l(76265),o=l(76237),c=l(70921);class d extends r.uA{constructor(){super(...arguments),this.noop=()=>{}}render(){return n.createElement(i.k,{name:"remove_group_fill_and_stroke_panel"},n.createElement(o.Zk,null,n.createElement(c.u,{title:"Background",addProperty:this.noop,removeProperty:a.glU.clearFillAndStrokePaintsOnSelectedGroups,contentsVisibleOrMixed:!0},n.createElement(o.fI,{className:"remove_group_fill_and_stroke_panel--labelContainer--ngqjq"},n.createElement(o.UZ,{className:"remove_group_fill_and_stroke_panel--label--orOpK"},(0,s.tx)("fullscreen.remove_group_fill_and_stroke.background_color_group_unsupported"))))))}}},244862:(e,t,l)=>{l.d(t,{q:()=>F});var n=l(411855),a=l(188507),r=l(28819),i=l(623817),s=l(747579),o=l(805014),c=l(108982),d=l(875877),u=l(563192),p=l(48929),m=l(132939),h=l(76265),_=l(225371),g=l(524940),y=l(366172),f=l(509343),E=l(923219),b=l(357614),v=l(176160),C=l(688656),k=l(143364),S=l(505105),w=l(922611),N=l(878075),T=l(355936),I=l(76237),A=l(398957),x=l(442133),M=l(841567),P=l(169253),L=l(362679),R=l(13556),O=l(306413);function D(e){let t="stroke-settings",[l,c]=(0,d.useAtom)(p.GI),f=l.paints||[],v=(0,a.wA)(),D=n.useContext(S.zK),F=()=>null!=D,B=(0,M.M)(),K=n.useRef(null),G=e=>{c({paints:e}),b.Tm.clearCache()},V=e=>{let{strokeWeight:t,dashPattern:l,strokeBrushGuid:n,stretchStrokeSettings:a,scatterStrokeSettings:r,dynamicStrokeSettings:i}=e,s=(0,E.E7)(t);s&&c({strokeWeight:s});let o=(0,E.E7)(l);if(o&&c({dashPattern:o}),n&&c({strokeBrushGuid:(0,E.E7)(n)}),a&&c({stretchStrokeSettings:(0,E.E7)(a)}),r&&c({scatterStrokeSettings:(0,E.E7)(r)}),i){let e=(0,E.E7)(i);c({dynamicStrokeSettings:{interval:e.frequency||1,wiggle:e.wiggle||0,smoothen:e.smoothen||0}})}},H=e=>{let t=f.filter((t,l)=>!e.has(l));0===t.length&&(t=[f[0]]),G(t)},U=(e,{fromSearch:t}={})=>{v(g.AV({style:e,inheritStyleKeyField:"inheritFillStyleKeyForStroke",fromSearch:t}))},{version:z}=(0,s.DP)(),W=!!l.styleId||f.length>0,j=e.pickerShown?.id===t,$=!e.userFlags.dismissed_shift_to_draw_straight_lines_hint,Y=n.createElement(T.v9,{strokeWeight:l.strokeWeight||P.wv,onChange:V,recordingKey:u.Pt(e,"weight")}),X=n.createElement(A.qR,{className:"ui3"===z?void 0:"pencil_tool_panel--dashCap--OD1E2",dashCap:(0,A.Hd)(l.strokeCap||"ROUND")||"ROUND",onChange:e=>{c({strokeCap:e})},recordingKey:u.Pt(e,"dashCap")}),Z=n.createElement("span",{className:"pencil_tool_panel--advancedStroke--1497y"},n.createElement(r.d,{onClick:()=>{if(e.pickerShown?.id===t)v(_.XE());else{if(!K)return;let e=(0,k.cn)(K.current);v(_.u1({id:t,initialX:e.x,initialY:e.y}))}},"aria-expanded":j,"aria-label":(0,h.t)("fullscreen.pencil_tool.advanced_stroke_settings"),recordingKey:u.Pt(e,"more"),htmlAttributes:{onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,h.t)("fullscreen.pencil_tool.advanced_stroke_settings")}},n.createElement(m.U,{svg:L.A,fallbackSvg:R.A},n.createElement(i.J,null))));return n.createElement("div",{className:"pencil_tool_panel--pencilPanelContainer--O-fFF"},n.createElement(I.Zk,null,n.createElement(N.W4,{title:(0,h.t)("fullscreen.pencil_tool.stroke"),propertyList:f,onChange:G,currentSelectedProperty:e.currentSelectedProperty,selectedPropertyType:o.rrT.STROKE_PRESET,styleType:"FILL",addProperty:()=>{y.Y5.triggerAction("add-stroke-to-selection")},onDeleteProperty:e=>H(e),onReorder:()=>{b.Tm.clearCache()},renderProperty:(t,l,a,r,i,s,c,d,p)=>{let m=F()?"preview-paint":"paint",h=b.Tm.getId(l,o.rrT.STROKE_PRESET,m),_=f.slice(0,l).some(e=>e.visible);return n.createElement(N.Gg,{key:`paint-${l}`,id:h,index:l,inheritStyleKeyField:"inheritFillStyleKeyForStroke",singletonRow:1===f.length,selectedPropertyType:o.rrT.STROKE_PRESET,paint:t,selected:e.stylePickerShown.isShown?e.pickerShown?.id===h:a,isDragging:r,hasFocus:i,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,onChange:s,onApplyStyle:U,onMouseDown:c,onMouseMove:d,onMouseUp:p,onRemovePaint:f.length>1?()=>H(new Set([l])):void 0,hideVisibilityToggle:1===f.length,currentSelectedGradientStop:e.currentSelectedGradientStop,currentTool:o.NLJ.VECTOR_PENCIL,colorFormat:e.colorFormat,dispatch:v,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,editModeType:e.editModeType,defaultColor:b.Em,library:e.library,openFile:e.openFile,recordingKey:u.Pt(e,l),variableScopes:N.z1,isUI3:"ui3"===z,hasVisiblePaintBelow:_,variableRerankingContext:B})},recordingKey:e.recordingKey,sceneGraphSelection:e.sceneGraphSelection,library:e.library,modalShown:e.modalShown,openFile:e.openFile,inheritStyleKeyField:"inheritFillStyleKeyForStroke",inheritStyleKey:l.styleId||null,inheritStyleID:null,stylePickerListLayout:e.stylePickerListLayout,stylePickerShown:e.stylePickerShown,onToggleListLayout:()=>{v(_.Y({isListLayout:!e.stylePickerListLayout}))},removeAllProperties:null,onApplyStyle:U,defaultColor:b.rC,selectedStyleGuid:e.selectedStyleGuid}),W&&("ui3"===z?n.createElement(x.fn,{ref:K,leftLabel:(0,h.tx)("fullscreen.properties_panel.section_stroke.label_weight"),leftInput:Y,rightLabel:(0,h.tx)("fullscreen.properties_panel.section_stroke.label_end_cap"),rightInput:X,icon:Z}):n.createElement(I.fI,{ref:K},Y,X,Z))),$&&n.createElement("div",{className:"pencil_tool_panel--hintPanel--917wK"},n.createElement(w.u,{title:(0,h.t)("fullscreen.pencil_tool.hold_shift_to_draw_straight_lines"),icon_DEPRECATED:O.A,userFlag:"dismissed_shift_to_draw_straight_lines_hint",hintText:(0,h.t)("fullscreen.pencil_tool.now_vertical_horizontal_and_diagonal_lines_are_a_breeze")})),j&&e.pickerShown&&n.createElement(A._2,{onChange:V,strokePanelMode:o.yTM.PENCIL,strokePanelTerminalPointCount:2,strokeCap:l.strokeCap||"ROUND",strokeJoin:"ROUND",maxStrokeWeight:l.strokeWeight||P.wv,dashPattern:l.dashPattern,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,recordingKey:u.Pt(e,"advanced")}))}function F(e){let t=(0,f.Ku)(),l=(0,v.q5)(),a=(0,c.R)(e=>({currentSelectedGradientStop:e.mirror.appModel.currentSelectedGradientStop,library:e.library,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,colorPicker:e.colorPicker,styleSets:e.styleSets,reposById:e.repos,teams:e.teams,editModeType:e.mirror.appModel.activeCanvasEditModeType,currentTool:e.mirror.appModel.currentTool,sceneGraphSelection:e.mirror.sceneGraphSelection,currentSelectedProperty:e.mirror.appModel.currentSelectedProperty,inheritStyleKey:e.mirror.selectionProperties.inheritFillStyleKeyForStroke||null,stylePickerListLayout:e.stylePickerListLayout,userFlags:e.userFlags,selectedStyleGuid:e.mirror.selectedStyleProperties.guid||null}));return n.createElement(D,{...a,...e,openFile:l,colorFormat:t})}},976431:(e,t,l)=>{l.d(t,{j:()=>e$});var n=l(411855),a=l(188507),r=l(588172),i=l(805014),s=l(879058),o=l(245459),c=l(629019),d=l.n(c),u=l(991458),p=l(841962),m=l(666308),h=l(453956),_=l(45427),g=l(612073),y=l(674505),f=l(516729),E=l(535461),b=l(803098),v=l(972640),C=l(343373),k=l(509343),S=l(6428),w=l(923219),N=l(748973),T=l(427494),I=l(354465),A=l(797187),x=l(511002),M=l(821718),P=l(370212),L=l(141604),R=l(505105),O=l(663844),D=l(370939),F=l(225690),B=l(414796),K=l(563192),G=l(612724),V=l(76265),H=l(639215),U=l(963993),z=l(176160),W=l(827473),j=l(615883),$=l(520244),Y=l(747579),X=l(383846),Z=l(621847),q=l(225371),J=l(839232),Q=l(472944),ee=l(30057),et=l(580373),el=l(438934),en=l(471340),ea=l(991944),er=l(485513);function ei({initialPosition:e,styleNameInputPrefix:t,styleType:l,inheritStyleKeyField:r,onCreate:s,recordingKey:o}){let c=(0,a.wA)(),d=(0,a.d4)(e=>e.mirror.selectedStyleProperties),u=(0,a.d4)(e=>e.mirror.sceneGraphSelection),p=n.useRef(Object.keys(u).length>0),[m,h]=n.useState(!p.current&&void 0),_="ui3"===(0,Y.DP)().version,g=(0,ee.sO)(),[f,E]=n.useState((0,et.$)()),b=g&&(0,el.Rc)(l),{styleRef:v,createStyle:C}=(0,J.u)({inheritStyleKeyField:r,isCreatingFromSelection:p.current,trackingOptions:{styleType:l},shouldUseEyedropperStyleCreationFlow:!1}),k=K.of(o,"submit",()=>{let e=C();b&&i.Ez5.slideThemeLibBindings().addStyleToLocalTheme(e||"",f),c(q.XE()),c(q.Uv()),c(y.sw()),s&&s(e||"")}),S=(0,a.d4)(e=>{let t=e.mirror.selectedStyleProperties;switch(l){case"FILL":return t.fillPaints&&"length"in t.fillPaints&&t.fillPaints.length>0;case"GRID":return t.layoutGrids&&t.layoutGrids.length>0;case"EFFECT":return t.effects&&t.effects.length>0;default:return!0}});return d.styleType?n.createElement(R.zK.Provider,{value:R.zM.CREATE_STYLE},n.createElement(ea.vx,{title:(e=>{switch(e){case"FILL":return(0,V.t)("design_systems.create_style.color");case"TEXT":return(0,V.t)("design_systems.create_style.text");case"EFFECT":return(0,V.t)("design_systems.create_style.effect");case"EXPORT":return(0,V.t)("design_systems.create_style.export");case"GRID":return(0,V.t)("design_systems.create_style.grid");default:return(0,V.t)("design_systems.create_style.create_new_style_generic")}})(d.styleType),headerSize:"small",initialWidth:en.tA,initialPosition:e,onClose:()=>{c(y.sw())},recordingKey:K.Pt("createStyleModal"),dragHeaderOnly:!0},n.createElement("div",{className:er.FY},n.createElement(Q.O8,{type:d.styleType,recordingKey:"createStyleModal",styleNameInputPrefix:t,isInspectPanel:!1,selectedStyleProperties:d,showProperties:m,onEnterPressed:k,showSlideThemeField:b,slideThemeId:f,setSlideThemeId:E}),!v&&n.createElement("div",{className:"create_style_modal--errorMessage--8ZpFE"},(0,V.tx)("design_systems.create_style.an_error_occurred_while_creating_the_style")),n.createElement(X.AutoLayout,{horizontalAlignItems:p.current?void 0:"end",verticalAlignItems:"center",spacing:p.current?"auto":void 0,padding:_?8:16},p.current&&n.createElement($.$n,{variant:"link",onClick:()=>h(!m),recordingKey:K.Pt("createStyleModal","moreOptions")},m?(0,V.tx)("design_systems.create_style.hide_options"):(0,V.tx)("design_systems.create_style.show_more_options")),n.createElement(Z.$$,{style:{justifySelf:"right"},onClick:k,disabled:!S||!v,tabIndex:0},(0,V.tx)("design_systems.create_style.create_style")))))):null}var es=l(369010),eo=l(289765);function ec({canEdit:e,isInspectPanel:t,isRenaming:l,recordingKey:r,stylePreviewShown:i}){let s=(0,a.wA)(),c=(0,a.d4)(e=>e.mirror.selectedStyleProperties),d=(0,W.IW)(i),u=(0,o.dI)(c.guid),p=(0,T.p8)("isReadOnly"),m=!!d||!e||p,h="",_="",[g,f]=(0,eo.Fk)((e,t)=>{if(d)return["",""];let l=e.get(t);return[l?.name||"",l?.description||""]},u);return d?(h=d.name||"",_=d.description_rt?(0,es.A)(d.description_rt):d.description||""):(0,o.dI)(c.guid)&&(h=g,_=(0,es.A)(f)),n.createElement(R.zK.Provider,{value:R.zM.EDIT_STYLE},n.createElement(Q.O8,{recordingKey:r,isInspectPanel:t,isRenaming:l,onEnterPressed:()=>s(y.sw()),selectedStyleProperties:c,styleDescription:_,styleName:h,type:c.styleType,viewOnly:m}))}var ed=l(326612),eu=l(692783),ep=l(76237);function em({stylePreviewShown:e}){let t=(0,W.IW)(e),l=(0,eu.b)({libraryKey:t?.library_key,nodeId:t?.node_id}),a=n.useMemo(()=>l.data?.type==="team",[l.data]),r=n.useMemo(()=>l.data?.type==="team"?l.data.link:null,[l.data]);return r&&a?n.createElement(h.k,{name:"external_style_options"},n.createElement(ep.Zk,{key:"external-style-options"},n.createElement(ep.fI,null,n.createElement("div",{className:er.lf},n.createElement(ed.N,{newTab:!0,href:r,trusted:!0},(0,V.tx)("fullscreen.properties_panel.go_to_style_definition_to_edit")))))):null}function eh({onCloseStylePreviewModal:e,recordingKey:t}){let l=(0,z.q5)(),r=(0,A.ut)((0,U.aY)(),i.FAf.DESIGN),s=(0,T.p8)("topLevelMode"),c=(0,a.d4)(e=>e.library),d=(0,a.d4)(e=>e.stylePreviewShown),u=(0,N.b)("guid"),p=(0,N.b)("styleType");if(!d.isShown||![i.FAf.DESIGN,i.FAf.SITE,i.FAf.INSPECT].includes(r))return null;let m=new G.Mi(d.rowLeft-en.tA,d.rowTop);if(d.isCreating){let{styleType:e,inheritStyleKeyField:t,styleNameInputPrefix:l}=d;return n.createElement(ei,{recordingKey:"createStyleModal",initialPosition:m,styleNameInputPrefix:l,styleType:e,inheritStyleKeyField:t})}let h=(0,w.E7)(u),_=(0,w._W)(p,B.s4.NONE);if(null===h)return null;let g=!(0,H.eE)(d.style,l),y=(0,o.dI)(h);if(!(c.local.styles[y]&&!c.local.styles[y]?.is_soft_deleted)&&!g)return null;let f=l?.canEdit??!1,E=g||!f||s===i.lyf.BRANCHING;return n.createElement(R.zK.Provider,{value:R.zM.EDIT_STYLE},n.createElement(ea.vx,{title:function(e,t){if(t)switch(e){case"FILL":return(0,V.t)("design_systems.styles.view_color_style");case"TEXT":return(0,V.t)("design_systems.styles.view_text_style");case"EFFECT":return(0,V.t)("design_systems.styles.view_effect_style");case"GRID":return(0,V.t)("design_systems.styles.view_grid_style");default:return(0,V.t)("design_systems.styles.view_style")}switch(e){case"FILL":return(0,V.t)("design_systems.styles.edit_color_style");case"TEXT":return(0,V.t)("design_systems.styles.edit_text_style");case"EFFECT":return(0,V.t)("design_systems.styles.edit_effect_style");case"GRID":return(0,V.t)("design_systems.styles.edit_grid_style");default:return(0,V.t)("design_systems.styles.edit_style")}}(_,E),key:(0,W.Gj)(d.style),headerSize:"small",initialWidth:en.tA,initialPosition:m,onClose:e,recordingKey:K.Pt(t,"modal"),dragHeaderOnly:!0},n.createElement("div",{className:er.FY},n.createElement(j.VF,{isVisible:!0},()=>n.createElement(ec,{key:"style-preview-panel",recordingKey:K.Pt(t,"stylePreviewPanel"),canEdit:f,isInspectPanel:r===i.FAf.INSPECT,isRenaming:c.isRenamingSelectedStyle,stylePreviewShown:d})),n.createElement(j.VF,{isVisible:g},()=>n.createElement(em,{stylePreviewShown:d})))))}function e_({isInsetEditorEnabled:e,onCloseStylePreviewModal:t,onKeyDown:l,recordingKey:a,shouldAnimate:r}){return n.createElement(L.vL,{name:"propertiesPanel",focusOnMount:!0,handleKeyDown:l},n.createElement(_.V,{className:d()(er.Lp,{[er.Ph]:e})},n.createElement(O.P,{hideScrollbar:!0,scrollingDisabled:!0,className:d()(er.ux,er.KE,E.Dm,{[er.eu]:r,[er.Ph]:e}),width:F.iP},n.createElement("div",{className:er.eh,"data-non-interactive":!0},n.createElement(D.B7,null))),n.createElement(eh,{onCloseStylePreviewModal:t,recordingKey:a})))}var eg=l(653798),ey=l(716192),ef=l(965361),eE=l(581713),eb=l(440475),ev=l(366172),eC=l(125682),ek=l(424819),eS=l(738402),ew=l(165046),eN=l(425708),eT=l(987908);function eI({activeTab:e,children:t,isStyleEditMode:l,recordingKey:r,refMainScrollContainer:s}){var o;let c=(0,a.wA)(),u=(0,T.p8)("isReadOnly"),p=(0,T.p8)("topLevelMode"),m=(0,eC.Um)(),h=(0,ek.Xo)(),_=!!(m||h?.modal),g=K.rf(r,"mousedown",()=>{ev.Y5.deselectProperty(),c(q.XE()),c((0,ey.vq)()),c(y.sw()),c(q.Uv())}),f=(0,ew.se)(),E=(0,eS.ks)(),b=e===i.FAf.COMMENT,v=(0,ee.sO)(),C=!l||!_,k=!b&&C,S=(0,eE.ft)(),w=(0,eN.G$)();o={tab:i.FAf[e],topLevelMode:i.lyf[p],shouldRenderInspectTab:w},0===n.Children.toArray(t).length&&(0,eg.x1)("PropertiesPanel","Rendering empty properties panel",o);let N=(0,eb.k)(),I=b&&!(u&&!E)&&!v,A=n.createElement("div",{className:d()({[er.By]:I,[er.eh]:!I,[er.w1]:N}),onMouseDown:S?void 0:g,onPointerDown:S?g:void 0,"data-non-interactive":!0},n.createElement(ef.j9.Consumer,null,()=>t));return b?A:n.createElement("div",{className:er.gq,onFocus:f},n.createElement(O.P,{enableOverscroll:!0,key:e,ref:s,className:er.jG,containerId:en.rp,hideScrollbar:!k,onContextMenu:eT.GY,scrollingDisabled:b||(l?_:!!m)},A))}eI.displayName="PropertiesPanel";var eA=l(888624),ex=l(277154),eM=l(183949),eP=l(207849),eL=l(499975),eR=l(19776),eO=l(688656),eD=l(392789),eF=l(760358),eB=l(806565);function eK({label:e,tab:t,active:l,className:r,recordingKey:s,keyboardShortcut:o}){let c=(0,a.d4)(e=>e.mirror.appModel.topLevelMode),d=(0,T.dH)(),u=(0,C.GS)(),p=(0,eB.cJ)(),m=K.rf(s,"mousedown",()=>{if(!l){let e=eG(t,u,p).analyticsName;(0,ex.sx)("properties-panel-select-tab",{tab:e}),d===i.NLJ.SCALE&&t===i.FAf.PROTOTYPE&&ev.Y5.triggerAction("set-tool-default"),(0,U.NT)(t),c===i.lyf.PREVIEW&&(t===i.FAf.COMMENT?ev.Y5.triggerAction("set-tool-comments"):ev.Y5.triggerAction("set-tool-default"))}});return n.createElement("div",{className:r,onMouseDown:m,"data-label":e,...o?{"data-tooltip-type":eO.Ib.TEXT,"data-tooltip":e,"data-tooltip-shortcut-key":o}:void 0},e)}function eG(e,t,l){return({[i.FAf.DESIGN]:{label:(0,V.t)("fullscreen.properties_panel.design"),tab:i.FAf.DESIGN,className:er.Mf,recordingKey:"designTab",analyticsName:"design"},[i.FAf.PROTOTYPE]:{label:l?(0,V.t)("fullscreen.properties_panel.interactive"):(0,V.t)("fullscreen.properties_panel.prototype"),tab:i.FAf.PROTOTYPE,className:er.Mf,recordingKey:l?"interactionsTab":"prototypeTab",analyticsName:l?"interactions":"prototype"},[i.FAf.INSPECT]:{label:(0,V.t)("fullscreen.properties_panel.properties"),tab:i.FAf.INSPECT,className:er.Mf,recordingKey:"inspectTab",analyticsName:"inspect"},[i.FAf.COMMENT]:{label:t?(0,V.t)("fullscreen.properties_panel.comments"):(0,V.t)("fullscreen.properties_panel.comment"),tab:i.FAf.COMMENT,className:er.Mf,recordingKey:"commentTab",analyticsName:"comment"},[i.FAf.EXPORT]:{label:(0,V.t)("fullscreen.properties_panel.export"),tab:i.FAf.EXPORT,className:er.Mf,recordingKey:"exportTab",analyticsName:"export"},[i.FAf.SLIDE]:{label:(0,V.t)("fullscreen.properties_panel.design"),tab:i.FAf.SLIDE,className:er.Mf,recordingKey:"designTab",analyticsName:"design"},[i.FAf.SLIDE_ANIMATION]:{label:(0,V.t)("slides.properties_panel.animate"),tab:i.FAf.SLIDE_ANIMATION,className:er.Mf,recordingKey:"animateTab",analyticsName:"animate"},[i.FAf.SITE]:{label:(0,V.t)("fullscreen.properties_panel.design"),tab:i.FAf.SITE,className:er.Mf,recordingKey:"sitesTab",analyticsName:"sites"},[i.FAf.DAKOTA]:{label:(0,V.t)("dakota.properties_panel.dakota_panel.tab_title"),tab:i.FAf.DAKOTA,className:er.Mf,recordingKey:"dakotaTab",analyticsName:"dakota"},[i.FAf.COOPER_PUBLISH]:{label:(0,V.t)("fullscreen.properties_panel.cooper_publish"),tab:i.FAf.COOPER_PUBLISH,className:er.Mf,recordingKey:"cooperPublishTab",analyticsName:"cooperPublish"},[i.FAf.COOPER_TABULAR]:{label:(0,V.t)("fullscreen.properties_panel.cooper_tabular"),tab:i.FAf.COOPER_TABULAR,className:er.Mf,recordingKey:"cooperTabularTab",analyticsName:"cooperTabular"},[i.FAf.COOPER_FIELDS]:{label:(0,V.t)("fullscreen.properties_panel.cooper_fields"),tab:i.FAf.COOPER_FIELDS,className:er.Mf,recordingKey:"cooperFieldsTab",analyticsName:"cooperFields"},[i.FAf.COOPER_VARIANTS]:{label:(0,V.t)("fullscreen.properties_panel.cooper_variants"),tab:i.FAf.COOPER_VARIANTS,className:er.Mf,recordingKey:"cooperVariantsTab",analyticsName:"cooperVariants"}})[e]}function eV({activeTab:e,isUI3:t,recordingKey:l}){let r=(0,eN.G$)(),s=(0,eN.pt)(),o=(0,a.d4)(e=>e.mirror.appModel.topLevelMode),c=(0,T.dH)(),d=(0,T.p8)("isReadOnly"),u=(0,eS.ks)(),p=d&&!u,m=(0,ee.sO)(),h=(0,eB.cJ)(),_=(0,eP.g)(),g=(0,eL.U9)(),y=(0,T.KH)(),f=(0,n.useMemo)(()=>Object.keys(y),[y]),E=(0,T.eY)(),[b,v]=n.useState(!1),[C,k]=n.useState(!1);n.useEffect(()=>{},[_,f,E,v,e]),n.useEffect(()=>{if(g){if(eL.DX(E,f)?.fieldId){k(!0);return}e===i.FAf.DAKOTA&&(0,U.NT)(i.FAf.SITE),k(!1)}},[g,f,E,v,e]);let S=(()=>{let l=t?m?[i.FAf.COMMENT]:[i.FAf.COMMENT,i.FAf.INSPECT]:[i.FAf.COMMENT,i.FAf.INSPECT,i.FAf.EXPORT];switch(o){case i.lyf.LAYOUT:if(p)return l;if(e===i.FAf.COMMENT)return[i.FAf.COMMENT];if(h)return C?[i.FAf.SITE,i.FAf.PROTOTYPE,i.FAf.DAKOTA]:[i.FAf.SITE,i.FAf.PROTOTYPE];if(m)return[i.FAf.SLIDE,i.FAf.SLIDE_ANIMATION];if(_)return[i.FAf.DESIGN,i.FAf.COOPER_FIELDS];return r?[i.FAf.DESIGN,i.FAf.PROTOTYPE,i.FAf.INSPECT]:b?[i.FAf.DESIGN,i.FAf.PROTOTYPE,i.FAf.COOPER_PUBLISH]:[i.FAf.DESIGN,i.FAf.PROTOTYPE];case i.lyf.PREVIEW:case i.lyf.DEV_HANDOFF:return l;case i.lyf.BRANCHING:return[i.FAf.INSPECT];default:return[i.FAf.DESIGN,i.FAf.PROTOTYPE,i.FAf.INSPECT]}})(),w=S.find(t=>t===e),N=S.map((l,n)=>{let a=eG(l,t,h),r=a.tab===e||0===n&&void 0===w,i=a.className;return r&&(i=S.length>1?er.yR:er.iV),{...a,className:i,active:r,topLevelMode:o,currentTool:c}});return S.length&&(1!==S.length||t)?n.createElement(ef.j9.Consumer,null,()=>{if(t)return n.createElement(eH,{recordingKey:l,tabInfo:N});let a=e===i.FAf.DESIGN&&s||e===i.FAf.COMMENT?er.yW:er.hv;return n.createElement("div",{className:a,"data-non-interactive":!0},N.map((e,t)=>n.createElement(eK,{key:t,...e})))}):null}function eH({tabInfo:e,recordingKey:t}){let l=(0,eb.k)(),r=(0,eM.WN)(),s=e.reduce((e,t)=>(e[t.tab]=!0,e),{}),o=e.find(e=>e.active),[c,,d]=eA.t.useManagedTabs(s,o?.tab.toString()??"",e=>{let t=parseInt(e),n=eG(t,u,p).analyticsName;if((0,ex.sx)("properties-panel-select-tab",{tab:n}),m===i.NLJ.SCALE&&t===i.FAf.PROTOTYPE&&ev.Y5.triggerAction("set-tool-default"),t===i.FAf.INSPECT&&l){r(i.rcl.ENTER_INSPECT_MODE);return}(0,U.NT)(t),h===i.lyf.PREVIEW&&(t===i.FAf.COMMENT?ev.Y5.triggerAction("set-tool-comments"):ev.Y5.triggerAction("set-tool-default"))},{recordingKey:K.Pt(t,"tabs")}),u=(0,C.GS)(),p=(0,eB.cJ)(),m=(0,T.dH)(),h=(0,a.d4)(e=>e.mirror.appModel.topLevelMode);return n.createElement("div",{className:er.A7},n.createElement("div",{className:er.tq,onKeyDown:e=>{e.isDefaultPrevented()||(0,eR.f7)(e,!0)}},n.createElement(eA.t.TabStrip,{manager:d},e.map((e,t)=>n.createElement(eA.t.Tab,{key:`props-panel-tab-${t}`,...c[e.tab]},e.label)))),n.createElement("div",{className:er.wR},n.createElement(eF.H,{recordingKey:K.Pt(t,"zoomMenu")})),n.createElement("div",{"data-onboarding-key":eD.D9,className:er.qq}))}var eU=l(845113),ez=l(994241),eW=l(745727),ej=l(488527);function e$({activeTab:e,children:t,getPanelMode:l,recordingKey:r,refMainScrollContainer:c,trackingAlwaysEnabled:u=!1}){let E=(0,a.wA)(),O=(0,T.aV)(),D=(0,v.b)(),B=(0,N.b)("guid"),K=(0,o.fn)((0,w.E7)(B)),G=(0,n.useCallback)(e=>{K&&(e.event.keyCode===m.Uz.ESCAPE?(e.accept(),i.glU.selectStyle(s.n3.INVALID,s.IA.INVALID)):e.event.keyCode===m.Uz.F&&i.glU.selectStyle(s.n3.INVALID,s.IA.INVALID))},[K]),V=(0,a.d4)(e=>e.loadingState),H=(0,I.VP)(V,"edit_button_upgrading_to_edit"),U=O||H,z=(0,n.useCallback)(()=>{i.glU.selectStyle(s.n3.INVALID,s.IA.INVALID),E(y.sw()),E((0,f.B)())},[E]),W=(0,C.GS)(),j=(0,b.Oo)(),$=(0,A.ut)(i.Ez5?.uiState().showPropertiesPanel,!1),Y=!j&&W&&$,X=e===i.FAf.COMMENT,Z=(0,T.p8)("topLevelMode")===i.lyf.HISTORY,q=(0,n.useCallback)(()=>void 0,[]),J=function(e){let t=(0,T.p8)("currentPage")||"0:1",l=(0,T.KH)(),a=e();return(0,n.useCallback)(()=>({pageId:t,selectedNodeIds:Object.keys(l),panelMode:a}),[t,l,a])}(l??q),Q=(0,n.useCallback)(({styleType:e,inheritStyleKeyField:t,nodeId:l,rowLeft:n,rowTop:a})=>{E(y.sw()),E(y.Zs({rowLeft:n,rowTop:a,styleType:e,inheritStyleKeyField:t,nodeId:l}))},[E]),ee=function(){let e=(0,C.GS)(),t=(0,k.qw)();return e?"number"==typeof t&&t>eZ+1?t:eZ+1:F.iP+1}(),et=(0,A.ut)(i.Ez5?.uiState().inProductHelpSidePanelWidth,0),{inProductHelpViewType:el}=(0,P.A5)(),{isRightPanelCollapsed:en}=(0,n.useContext)(x.t),ea=W&&en,ei=(0,S.qM)(),es=(0,T.p8)("showUi");if(U)return n.createElement(e_,{isInsetEditorEnabled:D,onKeyDown:G,onCloseStylePreviewModal:z,shouldAnimate:O});let eo=(0,p.kc)().properties_panel_resize_lag_fix;return n.createElement(h.k,{name:"properties_panel",trackingEnabled:(0,p.kc)().trackable_properties||u,alsoTrack:J,trackImpressions:!1},n.createElement(L.vL,{name:"propertiesPanel",focusOnMount:!X,handleKeyDown:G},n.createElement(R.lk.Provider,{value:Q},n.createElement(_.V,{className:d()(er.Lp,{[er.IV]:eo,[er.R]:!es,[er.dn]:ea,[er.Ph]:D&&!ei,[er.Fo]:"side_panel"===el}),style:{width:eo?void 0:ee,"--inProductHelpSidePanelWidth":`${et}px`}},Y&&!D&&n.createElement(g.T,{side:"right"}),n.createElement(eW.X,null,n.createElement(eX,{isCollapsed:en,isInsetEditorEnabled:D,isUI3:W,isUIMinimized:ei,width:ee},n.createElement(eT._w,{showRightSidebarPill:ea},n.createElement(ez.v2,{recordingKey:r}),Z&&n.createElement(M.yU,{recordingKey:"versionHistoryView",isUI3:W}),!ea&&!Z&&n.createElement(n.Fragment,null,n.createElement(eV,{recordingKey:r,activeTab:e,isUI3:W}),n.createElement(eI,{recordingKey:r,activeTab:e,isStyleEditMode:K,refMainScrollContainer:c},t)),n.createElement(eh,{onCloseStylePreviewModal:z,recordingKey:r}))))))))}let eY=e=>{!function(e){let t=(0,r.qE)(e,eZ+1,500);(0,k.UK)().propertiesPanelSplitPosition.set(t),(0,p.kc)().properties_panel_resize_lag_fix&&document.documentElement.style.setProperty("--properties-panel-width",`${t}px`)}(e)};function eX({children:e,isCollapsed:t,isInsetEditorEnabled:l,isUI3:a,isUIMinimized:r,width:i}){let s=(0,A.ut)((0,k.UK)().renderRulers,!1),o=(0,S.Tn)(),c=a?ej.M$q:"var(--spacer-2)",u=(0,n.useCallback)((e,l)=>{if(a)return;let n={ease:"easeInOut",duration:.2,delay:t?void 0:.05};return t?{initial:{left:`calc(${e}px + ${l})`},animate:{left:`calc(${e}px + ${l})`,display:"block",transitionEnd:{display:"none"}},transition:n}:{initial:{left:0},transition:n}},[t,a]);return n.createElement(eU.lY,{className:d()(er.ux,E.Dm,{[er.ew]:s,[er.Ph]:l&&!r,[er.Jq]:!o}),onContextMenu:eT.GY,"data-onboarding-key":"properties-panel",size:i,onResize:eY,side:"left",animation:u(i,c),"data-cancel-insertable-resource-drag-and-drop":!0},e)}let eZ=(0,u.jz)(ej.uj0)},987908:(e,t,l)=>{l.d(t,{GY:()=>f,_w:()=>E,qh:()=>b});var n=l(411855),a=l(708159),r=l(805014),i=l(629019),s=l.n(i),o=l(32050),c=l(841962),d=l(76265),u=l(972640),p=l(6428),m=l(965636),h=l(227856),_=l(137567),g=l(742995),y=l(485513);function f(e){let t=e.target;if(t){let l=t.tagName,n=t.type;l&&"INPUT"===l.toUpperCase()&&n&&"TEXT"===n.toUpperCase()||t.isContentEditable||e.preventDefault()}}function E({children:e,showRightSidebarPill:t}){let l=n.useRef(null),r=(0,a.U1)(l),i=(0,u.b)(),o=(0,p.qM)(),{fpl_accessible_areas_for_design:m,fpl_a11y_accessible_areas_fullscreen_shortcuts:g}=(0,c.kc)();return n.createElement(_.e,{condition:!!(g&&m),wrapper:e=>n.createElement(h.m,{role:"region","aria-label":(0,d.t)("fullscreen_actions.right_sidebar_label")},e)},n.createElement("div",{ref:r,className:s()(y.KE,{[y.IV]:(0,c.kc)().properties_panel_resize_lag_fix,[y.tM]:t,[y.Ph]:i&&!o})},e))}function b(){let e=(0,m.Gt)("numSelectedByType");return(0,o.k9)(()=>(function(e){if(e)return(0,g.aZ)(r.rrT.FILL,e)})(e),[e])}},70921:(e,t,l)=>{l.d(t,{u:()=>w});var n=l(411855),a=l(138225),r=l(662068),i=l(640978),s=l(747579),o=l(563192),c=l(132939),d=l(76265),u=l(581713),p=l(923219),m=l(76237),h=l(629019),_=l.n(h),g=l(442133),y=l(776297),f=l(835748);let E=n.forwardRef(function({titleTx:e,icon:t,faded:l,isEmpty:a,appendedClassName:r,onClick:i,onMouseDown:s},o){return n.createElement(y.pG,{ref:o,onClick:i,onMouseDown:s,appendedClassName:_()(f.En,f.VJ,{[f.yf]:l,[f.ry]:a},r),input:n.createElement(g.Mw,null,e),label:null,icon:t})});n.forwardRef(function({titleTx:e,faded:t,isEmpty:l,children:a,...r},i){return n.createElement(y.SP,{dataOnboardingKey:r.dataOnboardingKey,onClick:r.onClick,ref:i,appendedClassName:_()(f.En,{[f.yf]:t,[f.ry]:l}),input:n.createElement(g.Mw,null,e)},a)});var b=l(927722),v=l(819785),C=l(695038),k=l(501191),S=l(660164);function w({addProperty:e,children:t,contentsVisibleOrMixed:l,minusDisabled:h,plusDisabled:_,recordingKey:g,removeProperty:y,showButton:f,title:w,dataTestId:N,dataOnboardingKey:T,shouldHideButton:I,plusButtonLabel:A,minusButtonLabel:x}){let{version:M}=(0,s.DP)(),P=(0,n.useCallback)(()=>{!1!==l||_||e()},[e,l,_]),L=l===p.oV,R=!L&&!l;null==f&&(f=!0===l?"-":"+");let O="+"===f?n.createElement(a.K,{recordingKey:o.Pt(g,"addButton"),onClick:e,disabled:_,"aria-label":A??(0,d.t)("fullscreen.properties_panel.add"),htmlAttributes:{onMouseDown:u.dG,"data-testid":N??"","data-tooltip-type":"text","data-tooltip":A??""}},n.createElement(c.U,{svg:k.A,fallbackSvg:S.A},n.createElement(r.e,null))):n.createElement(a.K,{recordingKey:o.Pt(g,"removeButton"),onClick:y,disabled:h,"aria-label":x??(0,d.t)("fullscreen.properties_panel.remove"),htmlAttributes:{onMouseDown:u.dG,"data-testid":N??"","data-tooltip-type":"text","data-tooltip":x??""}},n.createElement(c.U,{svg:v.A,fallbackSvg:C.A},n.createElement(i.O,null)));return"ui3"===M?n.createElement(n.Fragment,null,w&&n.createElement(E,{onMouseDown:P,faded:R,isEmpty:R,titleTx:n.createElement("span",null,w),icon:I?void 0:O,dataOnboardingKey:T}),L&&n.createElement(m.fI,null,n.createElement(m.UZ,{className:b.Pf},(0,d.tx)("fullscreen.properties_panel.click_plus_to_replace_mixed_content"))),!L&&!R&&t):n.createElement(n.Fragment,null,w&&n.createElement(m.fI,{onMouseDown:P,className:R?b.et:void 0,recordingKey:o.Pt(g,"panelTitle")},n.createElement(m.xw,{faded:R,extended:!0},n.createElement("div",{className:b.yr},w)),n.createElement(m.$4,null,I?null:O)),L&&n.createElement(m.fI,null,n.createElement(m.UZ,{className:b.Pf},(0,d.tx)("fullscreen.properties_panel.click_plus_to_replace_mixed_content"))),!L&&!R&&t)}},428104:(e,t,l)=>{l.d(t,{q:()=>P});var n=l(411855),a=l(188507),r=l(552371),i=l(361936),s=l(805014),o=l(629019),c=l.n(o),d=l(254773),u=l(693565),p=l(132939),m=l(76265),h=l(509343),_=l(923219),g=l(965636),y=l(756044),f=l(688656),E=l(868911),b=l(975760),v=l(366881),C=l(453783),k=l(104053),S=l(891720),w=l(189854),N=l(145427),T=l(729705),I=l(599115),A=l(30562);let x="STACK_COUNTER_SPACING",M=[x];function P({focusOnMount:e,source:t,onCanvasUI:l,...o}){let P=(0,a.wA)(),{smallNudgeAmount:L,bigNudgeAmount:R}=(0,h.sT)(),[O,D]=(0,g.lJ)("stackCounterSpacing"),F=(0,g.kl)("stackCounterSpacingSynced"),[B,K]=(0,g.lJ)("stackCounterAlignContent"),G=(0,d.am)(),V=(0,n.useRef)(!1),H=(0,S.R)(),U=(0,_.gl)(B)?_.oV:"SPACE_BETWEEN"===B?_.Q8:O,z=(0,n.useRef)(null);n.useEffect(()=>{e&&(z.current?.focus(),z.current?.select())},[e]);let{boundVariable:W,consumedVariable:j}=(0,w.O)(x,s.rXF.FLOAT);(0,n.useEffect)(()=>{W&&"SPACE_BETWEEN"===B&&K("AUTO",y.zk.NO)},[W,B,K]);let{clearVariableConsumption:$}=(0,w.O)(x,s.rXF.FLOAT),Y=(0,N.lW)({smallNudgeAmount:L,bigNudgeAmount:R,min:0,allowEmpty:!0}),X=(e,l)=>{l&&(G("autolayout_counter_spacing_changed",{source:t,input:V.current?"scrub":"textfield",value:(0,_.SX)(e)?"Auto":e}),s.glU.temporarilyHideOverlay(s.hJs.SELECTION)),"number"==typeof e||null===e?(K("AUTO",y.zk.NO),D(e,l)):($(),K("SPACE_BETWEEN",l))},Z=(0,m.t)("fullscreen.properties_panel.stack_panel.gap_rows_vertical"),q="spacing-rows-vertical-icon",J=[n.createElement(C.c$,{key:"value",value:(0,r.Et)(O)?O:R}),n.createElement(C.c$,{key:"auto",value:_.Q8})],Q=F&&"SPACE_BETWEEN"!==B;if(!l){let e=n.createElement(p.U,{svg:A.A},n.createElement(i.W,null));return n.createElement(v.ow,{value:{select:H?T.pW:void 0,inputComponent:H?T.gm:void 0}},n.createElement(C.tV,{value:{chevron:H?k.t:void 0}},n.createElement(w.S,{id:"stackCounterSpacing",options:J,mixedMathHandler:N.lL,inputRef:z,inputClassName:o.inputClassName,outerClassName:c()(o.outerClassName,{[I.Sz]:H}),value:Q?void 0:U,scrubStartValue:Q?U:void 0,formatter:Y,onChange:X,noBorderOnFocus:o.noBorderOnFocus,noLeftBorder:o.noLeftBorder,squareRightBorder:o.squareRightBorder,tooltipText:Z,iconId:q,onFocus:o.onFocus,onBlur:o.onBlur,onMouseEnter:o.onMouseEnter,onMouseLeave:o.onMouseLeave,onScrubBegin:o.onScrubBegin,onScrubEnd:o.onScrubEnd,onKeyDown:o.onKeyDown,onPaste:o.onPaste,onNudge:o.onNudge,recordingKey:o.recordingKey,inputTestId:o.inputTestId,icon:e,variableField:x,source:t,placeholder:Q&&(0,_.hS)(U)?Y.format(U):void 0,allowEmpty:!0,shiftVariableOptionToAlign:!0,dropdownWidth:140})))}return n.createElement(b.sA,{recordingKey:o.recordingKey,inputClassName:o.outerClassName,fields:M,currentFieldValue:(0,_.hS)(O)?O:void 0,resolvedType:s.rXF.FLOAT,disableEntryPoint:l},n.createElement(E.Se,{noBorderOnHover:!0,isTokenizable:!0,forwardedRef:z,inputClassName:c()(I.hF,o.inputClassName),value:Q?void 0:U,scrubStartValue:Q?U:void 0,allowEmpty:!0,wheelMultiplier:L,scrubMultiplier:L,smallNudgeAmount:L,bigNudgeAmount:R,onValueChange:X,mixedMathHandler:N.bd,dispatch:P,noBorderOnFocus:o.noBorderOnFocus,noLeftBorder:o.noLeftBorder,squareRightBorder:o.squareRightBorder,"data-tooltip-type":f.Ib.TEXT,"data-tooltip":Z,"data-tooltip-proxy-element-id":j?q:void 0,onFocus:o.onFocus,onBlur:o.onBlur,onMouseEnter:o.onMouseEnter,onMouseLeave:o.onMouseLeave,onScrubBegin:e=>{V.current=!0,o.onScrubBegin?.(e)},onScrubEnd:e=>{V.current=!1,o.onScrubEnd?.(e)},onKeyDown:o.onKeyDown,onPaste:o.onPaste,onNudge:o.onNudge,recordingKey:o.recordingKey,dataTestId:o.inputTestId,min:0,placeholder:Q&&(0,_.hS)(U)?Y.format(U):void 0},n.createElement(u.B,{className:c()(I.QK,o.svgClassName),svg:A.A,"data-tooltip-type":j?f.Ib.TEXT:void 0,"data-tooltip":j?Z:void 0,id:q})))}},864300:(e,t,l)=>{l.d(t,{s:()=>k,U:()=>S});var n=l(411855),a=l(188507),r=l(834825),i=l(805014),s=l(629019),o=l.n(s),c=l(132939),d=l(509343),u=l(923219),p=l(756044),m=l(688656),h=l(868911),_=l(975760),g=l(891720),y=l(642870),f=l(336427),E=l(6525);function b({setShowSinglePaddingControl:e,containsFocus:t}){let l=(0,n.useContext)(E.p),a=l?.isShowingBindingUI,r=(0,f.ZC)(a),i=(0,f.ZC)(t);return(0,n.useEffect)(()=>{r&&!a&&e?.(!1)},[a,e,r]),(0,n.useEffect)(()=>{t||!i||a||e?.(!1)},[t,i,a,e]),null}var v=l(145427),C=l(599115);function k({paddingSelection:e,focusOnMount:t,source:l,disableVariablesEntryPoint:s,setShowSinglePaddingControl:f,...E}){let k=(0,a.wA)(),[S,N]=(0,v.HF)(e),{smallNudgeAmount:T,bigNudgeAmount:I}=(0,d.sT)(),A=(0,n.useRef)(!1),x=(0,g.R)(),M=v.e2[e],P=v.C8[e],L=`stack-padding-input-icon-${e}`,R=(0,v.wH)(e),O=(0,n.useRef)(null);n.useEffect(()=>{t&&(O.current?.focus(),O.current?.select())},[e,t]);let D=n.useMemo(()=>(0,v.Jj)(e),[e]),F=n.useMemo(()=>w(e),[e]),{consumedVariable:B}=(0,y.u3)(F),K=o()(C.QK,E.svgClassName),[G,V]=n.useState(!1),H=n.useCallback(()=>{V(!0)},[V]),U=n.useCallback(e=>{e.relatedTarget&&e.currentTarget.contains(e.relatedTarget)||V(!1)},[V]),z=(0,n.useCallback)(()=>{f?.(!1)},[f]),{inputClassName:W,noBorderOnFocus:j,noLeftBorder:$,squareRightBorder:Y,onFocus:X,onBlur:Z,onNudge:q,onMouseEnter:J,onMouseLeave:Q,onClick:ee,onKeyDown:et,onPaste:el,inputTestId:en,onScrubBegin:ea,recordingKey:er,onScrubEnd:ei}=E,es=n.useMemo(()=>n.createElement(n.Fragment,null,n.createElement(b,{setShowSinglePaddingControl:f,containsFocus:G}),n.createElement(h.ig,{noBorderOnHover:!0,isTokenizable:!0,forwardedRef:O,inputClassName:o()(C.hF,W),value:S,wheelMultiplier:T,scrubMultiplier:T,smallNudgeAmount:T,bigNudgeAmount:I,onValueChange:(e,t)=>{t===p.zk.YES&&i.glU.temporarilyHideOverlay(i.hJs.SELECTION),N(e,t,{source:l,input:A.current?"scrub":"textfield"})},mixedMathHandler:D,dispatch:k,noBorderOnFocus:j,noLeftBorder:$,squareRightBorder:Y,"data-tooltip-type":m.Ib.TEXT,"data-tooltip":R,"data-tooltip-proxy-element-id":B?L:void 0,"data-tooltip-show-on-target-only":x||void 0,onFocus:X,onBlur:Z,onNudge:q,onMouseEnter:J,onMouseLeave:Q,onClick:ee,onKeyDown:et,onPaste:el,onScrubBegin:e=>{A.current=!0,ea?.(e)},onScrubEnd:e=>{A.current=!1,ei?.(e)},recordingKey:er,dataTestId:en},n.createElement(c.U,{className:K,svg:M,"data-tooltip-type":B?m.Ib.TEXT:void 0,"data-tooltip":B?R:void 0,id:L},n.createElement("div",{className:K,"data-tooltip-type":B?m.Ib.TEXT:void 0,"data-tooltip":B?R:void 0,id:L},n.createElement(P,null))))),[f,G,W,S,T,I,D,k,j,$,Y,R,B,L,x,X,Z,q,J,Q,ee,et,el,er,en,K,M,P,N,l,ea,ei]);return n.createElement(_.sA,{recordingKey:E.recordingKey,fields:F,disableEntryPoint:s,resolvedType:i.rXF.FLOAT,inputClassName:E.outerClassName,currentFieldValue:(0,u.hS)(S)&&(0,r.Ef)(S)?S[0]:void 0,onClickDetachButton:z,onFocus:H,onBlur:U},es)}function S(){let e=w(v.mx.HORIZONTAL),{consumedVariable:t}=(0,y.u3)(e),l=w(v.mx.VERTICAL),{consumedVariable:n}=(0,y.u3)(l);return!(0,u.hS)(t)||!(0,u.hS)(n)}function w(e){switch(e){case v.mx.TOP:return["STACK_PADDING_TOP"];case v.mx.RIGHT:return["STACK_PADDING_RIGHT"];case v.mx.BOTTOM:return["STACK_PADDING_BOTTOM"];case v.mx.LEFT:return["STACK_PADDING_LEFT"];case v.mx.HORIZONTAL:return["STACK_PADDING_LEFT","STACK_PADDING_RIGHT"];case v.mx.VERTICAL:return["STACK_PADDING_TOP","STACK_PADDING_BOTTOM"];case v.mx.ALL:return["STACK_PADDING_BOTTOM","STACK_PADDING_LEFT","STACK_PADDING_RIGHT","STACK_PADDING_TOP"]}}},154170:(e,t,l)=>{l.d(t,{Vy:()=>tJ});var n=l(411855),a=l(188507),r=l(270068),i=l(520244),s=l(845438),o=l(570446),c=l(263159);let d=(0,n.memo)(function(e){return(0,c.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,c.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10.5 3h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5M9 3.5A1.5 1.5 0 0 1 10.5 2h2A1.5 1.5 0 0 1 14 3.5v2A1.5 1.5 0 0 1 12.5 7h-2A1.5 1.5 0 0 1 9 5.5zM4.5 5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5M3.382 8.5A1.5 1.5 0 0 1 3 7.5v-2A1.5 1.5 0 0 1 4.5 4h2A1.5 1.5 0 0 1 8 5.5v2c0 .231-.052.45-.146.646C8.05 8.052 8.27 8 8.5 8h2A1.5 1.5 0 0 1 12 9.5v2a1.5 1.5 0 0 1-1.5 1.5h-2c-.384 0-.735-.144-1-.382a1.5 1.5 0 0 1-1 .382h-2A1.5 1.5 0 0 1 3 11.5v-2c0-.384.144-.735.382-1M6.5 9a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5zm2 3a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5z",clipRule:"evenodd"})})});var u=l(740039);let p=(0,n.memo)(function(e){return(0,c.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,c.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 11.5a.5.5 0 0 0 .5.5h6.789l-2.4 2.389a.5.5 0 0 0 .706.708l3.258-3.242a.5.5 0 0 0 0-.709l-3.258-3.243a.5.5 0 1 0-.705.71L15.289 11H8.5a.5.5 0 0 0-.5.5",clipRule:"evenodd"})})}),m=(0,n.memo)(function(e){return(0,c.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,c.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15 7a2 2 0 1 1 0 4H9.711l2.4-2.388a.5.5 0 0 0-.706-.709l-3.258 3.243a.5.5 0 0 0 0 .708l3.258 3.243a.5.5 0 0 0 .705-.709L9.711 12H15a3 3 0 1 0 0-6h-.5a.5.5 0 0 0 0 1z",clipRule:"evenodd"})})});var h=l(747579),_=l(805014),g=l(851169),y=l(254773),f=l(108982),E=l(841962),b=l(563192),v=l(62791),C=l(453956),k=l(693565),S=l(132939),w=l(76265),N=l(835918),T=l(366172),I=l(999538),A=l(965636),x=l(427494),M=l(797187),P=l(404227),L=l(688656),R=l(33415),O=l(225690),D=l(76237),F=l(70921),B=l(938094),K=l(238567),G=l(172385),V=l(546931),H=l(190773),U=l(790291),z=l(742713),W=l(442133),j=l(375478),$=l(326612),Y=l(163773),X=l(666308);let Z=(0,l(174103).ex)("autolayout_v3_migration_info",function(e){let{tooltipText:t}=e,l=(0,X.Gc)(e=>{e.stopPropagation(),Y.Ay.unsafeRedirect("https://help.figma.com/hc/articles/360040451373#Updates_to_Auto_Layout","_blank")});return n.createElement("div",{className:"autolayout_v3_migration_info_tooltip--autolayoutMigration--OQ8zC"},t,n.createElement($.N,{newTab:!0,trusted:!0,href:"https://help.figma.com/hc/articles/360040451373#Updates_to_Auto_Layout",htmlAttributes:{onMouseDown:l}},(0,w.tx)("fullscreen.properties_panel.migration_tooltip_learn_more")))},e=>({tooltipText:e.getAttribute("data-tooltip-text")}));var q=l(588172),J=l(19776),Q=l(923219),ee=l(926996),et=l(756044),el=l(891720),en=l(806565),ea=l(629019),er=l.n(ea),ei=l(991458),es=l(145427);let eo="alignment_view_v4--indicator--VmKfE",ec="alignment_view_v4--indicatorBaseline--4kxfb",ed="alignment_view_v4--counterCenter--MlF9q";function eu({onClick:e,onDoubleClick:t,onHover:l,...a}){let r=(0,es.rO)(a.stackPrimaryAlignItems),i="BASELINE"===a.stackCounterAlignItems,s="HORIZONTAL"===a.stackMode?"HORIZONTAL":"VERTICAL",o="WRAP"===a.stackWrap,c="HORIZONTAL"===s?"alignment_view_v4--horizontal--UiniT":"alignment_view_v4--vertical--JVrRJ",d=r?"alignment_view_v4--spaceBetween--RZOdp":"alignment_view_v4--packed--MZMpk",u=(0,Q.hS)(a.stackPrimaryAlignItems)&&(0,Q.hS)(a.stackCounterAlignItems),p=a.primaryHover&&a.counterHover,m=(0,n.useCallback)(e=>{let[l,n]=eE(e.target);if(r){let t=e.target.getBoundingClientRect();"HORIZONTAL"===s?l=Math.floor((e.clientX-t.x)/t.width*3):n=Math.floor((e.clientY-t.y)/t.height*3)}t(l,n)},[t,r,s]),h=(0,n.useCallback)(e=>l(...eE(e.target)),[l]),_=(0,n.useCallback)(e=>l(null,null),[l]);return n.createElement("div",{className:er()(a.className,"alignment_view_v4--mainContainer--zUBsm",c,d,{"alignment_view_v4--baselineAlign--xLTR2":i}),tabIndex:0,onKeyDown:a.onKeyDown},n.createElement(ef,{baseline:i}),n.createElement(eg,{stackMode:s,spaceBetween:r,baselineAlign:i,onMouseMove:h,onMouseOut:_,onClick:e,onDoubleClick:m}),p&&n.createElement(ep,{hover:!0,primaryAlign:a.primaryHover,counterAlign:a.counterHover,isStackWrap:o}),u&&n.createElement(ep,{primaryAlign:a.stackPrimaryAlignItems,counterAlign:a.stackCounterAlignItems,isStackWrap:o}),i&&n.createElement(e_,{onClick:a.onRemoveBaseline}))}function ep({hover:e,primaryAlign:t,counterAlign:l,isStackWrap:a}){return n.createElement("div",{className:er()("alignment_view_v4--indicatorContainer--ewQnB alignment_view_v4--_centered--S6qQk",t?eh[t]:void 0,l?em[l]:void 0,{"alignment_view_v4--hover---ncmo":e})},n.createElement("div",{className:er()("alignment_view_v4--indicatorGroup--vlMlW",{"alignment_view_v4--wrap--nsYBR":a})},"BASELINE"===l?(0,es.rO)(t)?n.createElement(n.Fragment,null,n.createElement("div",{className:eo}),n.createElement("span",{className:ec},"A"),n.createElement("div",{className:eo})):n.createElement("span",{className:ec},"A"):a?n.createElement(n.Fragment,null,n.createElement("div",{className:eo}),n.createElement("div",{className:eo}),n.createElement("div",{className:eo}),n.createElement("div",{className:eo}),n.createElement("div",{className:eo})):n.createElement(n.Fragment,null,n.createElement("div",{className:eo}),n.createElement("div",{className:eo}),n.createElement("div",{className:eo}))))}let em={MIN:"alignment_view_v4--counterMin--1LPg6",CENTER:ed,MAX:"alignment_view_v4--counterMax--HzBqX",BASELINE:ed},eh={MIN:"alignment_view_v4--primaryMin--DHsQj",CENTER:"alignment_view_v4--primaryCenter--ci9Aj",MAX:"alignment_view_v4--primaryMax--i8kqd",SPACE_EVENLY:"",SPACE_BETWEEN:""};function e_({onClick:e}){let t=ev(),l=eC(),a=2*t/3+2,r=t-9,i=t-5.5;return n.createElement("svg",{className:"alignment_view_v4--baselineControls--cwzcf alignment_view_v4--_centered--S6qQk",width:t,height:t,viewBox:l,fill:"none"},n.createElement("g",{className:"alignment_view_v4--baselineHovered--uY49E","data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,w.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e},n.createElement("rect",{x:"4.5",y:`${a}`,width:`${r}`,height:"14",rx:"2",fill:"var(--color-bg-selected-tertiary, #EDF5FA)"}),n.createElement("line",{x1:"5.5",y1:`${a}`,x2:`${i}`,y2:`${a}`,stroke:"var(--color-bg-brand-hover, #0D99FF)",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"1 5"}),n.createElement("line",{x1:"5.5",y1:`${a}`,x2:`${i}`,y2:`${a}`,stroke:"var(--color-bg-tertiary, rgba(0, 0, 0, 0.3))",strokeWidth:"2",strokeLinecap:"round"})))}function eg({spaceBetween:e,stackMode:t,baselineAlign:l,onMouseMove:a,onMouseOut:r,onClick:i,onDoubleClick:s}){let o=eb({stackMode:t,baselineAlign:l,spaceBetween:e});return n.createElement("div",{className:"alignment_view_v4--tooltipGrid--1PH8Z alignment_view_v4--_centered--S6qQk",onMouseMove:a,onMouseOut:r,onClick:i,onDoubleClick:s},o.map((l,a)=>{let r=a%3,i=Math.floor(a/3);return"HORIZONTAL"===t&&e&&(i=r,r=0),n.createElement(ey,{key:a,x:r,y:i,..."string"==typeof l?{tooltip:l}:l})}))}function ey({x:e,y:t,tooltip:l,below:a}){return n.createElement("div",{"data-x":e,"data-y":t,"data-tooltip-type":L.Ib.TEXT,"data-tooltip":l,"data-tooltip-show-above":!a||void 0})}function ef({baseline:e}){let t=eC(),l=ev(),a=l/3,r=`${a}`,i=`${a/2}`,s=e?a:0,o=e?a:l,c=(0,n.useId)();return n.createElement("svg",{width:l,height:l,viewBox:t,fill:"currentColor"},n.createElement("defs",null,n.createElement("pattern",{id:c,width:r,height:r,patternUnits:"userSpaceOnUse"},n.createElement("circle",{cx:i,cy:i,r:"1"}))),n.createElement("rect",{width:"79",height:o,y:s,fill:`url(#${c})`}))}function eE(e){let{x:t,y:l}=e.dataset;return[parseInt(t),parseInt(l)]}function eb({baselineAlign:e,spaceBetween:t,stackMode:l,isUi3:n}){return e&&t?n?[{tooltip:(0,w.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),below:!0}]:[(0,w.t)("fullscreen.properties_panel.stack_panel.align_baseline")]:e?[{tooltip:(0,w.t)("fullscreen.properties_panel.stack_panel.align_left_baseline"),below:n},{tooltip:(0,w.t)("fullscreen.properties_panel.stack_panel.align_center_baseline"),below:n},{tooltip:(0,w.t)("fullscreen.properties_panel.stack_panel.align_right_baseline"),below:n}]:t?"HORIZONTAL"===l?n?[(0,w.t)("fullscreen.properties_panel.stack_panel.align_top"),(0,w.t)("fullscreen.properties_panel.stack_panel.align_center"),{tooltip:(0,w.t)("fullscreen.properties_panel.stack_panel.align_bottom"),below:!0}]:[(0,w.t)("fullscreen.properties_panel.stack_panel.align_auto_top_gap"),(0,w.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),{tooltip:(0,w.t)("fullscreen.properties_panel.stack_panel.align_auto_bottom_gap"),below:!0}]:n?[(0,w.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,w.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,w.t)("fullscreen.properties_panel.stack_panel.align_right")]:[(0,w.t)("fullscreen.properties_panel.stack_panel.align_auto_left_gap"),(0,w.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),(0,w.t)("fullscreen.properties_panel.stack_panel.align_auto_right_gap")]:[(0,w.t)("fullscreen.properties_panel.stack_panel.align_top_left"),(0,w.t)("fullscreen.properties_panel.stack_panel.align_top_center"),(0,w.t)("fullscreen.properties_panel.stack_panel.align_top_right"),(0,w.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,w.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,w.t)("fullscreen.properties_panel.stack_panel.align_right"),{tooltip:(0,w.t)("fullscreen.properties_panel.stack_panel.align_bottom_left"),below:!0},{tooltip:(0,w.t)("fullscreen.properties_panel.stack_panel.align_bottom_center"),below:!0},{tooltip:(0,w.t)("fullscreen.properties_panel.stack_panel.align_bottom_right"),below:!0}]}let ev=()=>(0,ei.jz)("60px"),eC=()=>{let e=ev();return`0 0 ${e} ${e}`},ek="alignment_view_v4_ui3--indicatorBaseline--NUe6M",eS="alignment_view_v4_ui3--counterCenter--QC-B7";function ew({onClick:e,onDoubleClick:t,onHover:l,...a}){let r=(0,es.rO)(a.stackPrimaryAlignItems),i="BASELINE"===a.stackCounterAlignItems,s=(0,es.c4)((0,Q.E7)(a.stackMode))?"HORIZONTAL":"VERTICAL",o="WRAP"===a.stackWrap,c="HORIZONTAL"===s?"alignment_view_v4_ui3--horizontal--2Shqc":"alignment_view_v4_ui3--vertical--zGQMJ",d=r?"alignment_view_v4_ui3--spaceBetween--o3EAq":"alignment_view_v4_ui3--packed--EvdQi",u=(0,Q.hS)(a.stackPrimaryAlignItems)&&(0,Q.hS)(a.stackCounterAlignItems),p=a.primaryHover&&a.counterHover,m=(0,n.useCallback)(e=>{let[l,n]=eO(e.target);if(r){let t=e.target.getBoundingClientRect();"HORIZONTAL"===s?l=Math.floor((e.clientX-t.x)/t.width*3):n=Math.floor((e.clientY-t.y)/t.height*3)}t(l,n)},[t,r,s]),h=(0,n.useCallback)(e=>l(...eO(e.target)),[l]),_=(0,n.useCallback)(e=>l(null,null),[l]);return n.createElement("div",{className:er()(a.className,"alignment_view_v4_ui3--mainContainer---0NcS",c,d,{"alignment_view_v4_ui3--baselineAlign--OxyzT":i}),tabIndex:0,onKeyDown:a.onKeyDown},n.createElement(eR,null),n.createElement(eM,{stackMode:s,spaceBetween:r,baselineAlign:i,onMouseMove:h,onMouseOut:_,onClick:e,onDoubleClick:m}),p&&n.createElement(eN,{hover:!0,primaryAlign:a.primaryHover,counterAlign:a.counterHover,isStackWrap:o}),u&&n.createElement(eN,{primaryAlign:a.stackPrimaryAlignItems,counterAlign:a.stackCounterAlignItems,isStackWrap:o}),i&&n.createElement("div",{className:"alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if"},n.createElement(ex,{onClick:a.onRemoveBaseline})))}function eN({hover:e,primaryAlign:t,counterAlign:l,isStackWrap:a}){function r(){let e=(0,es.rO)(t);if("BASELINE"===l)return e?n.createElement(n.Fragment,null,n.createElement("span",{className:ek},"A"),n.createElement("span",{className:ek},"A"),n.createElement("span",{className:ek},"A")):n.createElement("span",{className:ek},"A");let r=a&&!e?5:3;return n.createElement(eT,{n:r})}return n.createElement("div",{className:er()("alignment_view_v4_ui3--indicatorContainer--napq- alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",t?eA[t]:void 0,l?eI[l]:void 0,{"alignment_view_v4_ui3--hover--ypG6x":e})},"BASELINE"===l?r():n.createElement("div",{className:"alignment_view_v4_ui3--indicatorGridCell--lp1lH"},n.createElement("div",{className:er()("alignment_view_v4_ui3--indicatorGroup--urXG2",{"alignment_view_v4_ui3--wrap--JWwtI":a})},r())))}function eT({n:e}){return n.createElement(n.Fragment,null,Array.from({length:e},(e,t)=>n.createElement("div",{key:t,className:"alignment_view_v4_ui3--indicator--82j5F"})))}let eI={MIN:"alignment_view_v4_ui3--counterMin--aOx1R",CENTER:eS,MAX:"alignment_view_v4_ui3--counterMax--cCtqr",BASELINE:eS},eA={MIN:"alignment_view_v4_ui3--primaryMin--Q8O6a",CENTER:"alignment_view_v4_ui3--primaryCenter--RzFRC",MAX:"alignment_view_v4_ui3--primaryMax--eMvqL",SPACE_EVENLY:"",SPACE_BETWEEN:""};function ex({onClick:e}){return n.createElement("button",{className:"alignment_view_v4_ui3--baselineControls--xazGW alignment_view_v4_ui3--_centered--MV2if","data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,w.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e},n.createElement("div",{className:"alignment_view_v4_ui3--baselineControlLine--6BBmA"}))}function eM({spaceBetween:e,stackMode:t,baselineAlign:l,onMouseMove:a,onMouseOut:r,onClick:i,onDoubleClick:s}){let o=eb({stackMode:t,baselineAlign:l,spaceBetween:e,isUi3:(0,el.R)()});return n.createElement("div",{className:"alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",onMouseMove:a,onMouseOut:r,onClick:void 0,onMouseUp:i,onDoubleClick:s},"HORIZONTAL"===t&&l&&e?n.createElement(eP,{tooltips:o}):o.map((l,a)=>{let r=a%3,i=Math.floor(a/3);return"HORIZONTAL"===t&&e&&(i=r,r=0),n.createElement(eL,{key:a,x:r,y:i,..."string"==typeof l?{tooltip:l}:l})}))}function eP({tooltips:e}){let t=(0,n.useId)(),l=e[0];return null==l?null:n.createElement(n.Fragment,null,n.createElement("div",{"data-tooltip-proxy-element-id":t}),n.createElement(eL,{id:t,x:1,y:1,..."string"==typeof l?{tooltip:l}:l}),n.createElement("div",{"data-tooltip-proxy-element-id":t}))}function eL({id:e,x:t,y:l,tooltip:a,below:r}){return n.createElement("div",{id:e,"data-x":t,"data-y":l,"data-tooltip-type":L.Ib.TEXT,"data-tooltip":a,"data-tooltip-show-above":!r||void 0})}function eR(){return n.createElement("div",{className:"alignment_view_v4_ui3--dotGrid--N6RPe alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if"},Array.from({length:9},(e,t)=>n.createElement("div",{className:"alignment_view_v4_ui3--dotGridCell--r7m5y",key:t},n.createElement("div",{key:t,className:"alignment_view_v4_ui3--dot--d5NQx"}))))}function eO(e){let{x:t,y:l}=e.dataset;return[parseInt(t),parseInt(l)]}var eD=l(189854),eF=l(626632);let eB=["MIN","CENTER","MAX"];function eK({className:e,recordingKey:t}){let l=(0,A.kl)("stackMode"),r=(0,A.kl)("stackWrap"),[i,s]=(0,A.lJ)("stackPrimaryAlignItems"),[o,c]=(0,A.lJ)("stackCounterAlignItems"),[d,u]=(0,n.useState)(void 0),[p,m]=(0,n.useState)(void 0),h=(0,eF.sR)(),g=(0,eF.uV)(),f=(0,y.am)(),E=(0,el.R)(),C=(0,a.d4)(P.Sh),k=(0,en.Vj)((0,ee._6)()),S=(0,es.rO)(i),w="BASELINE"===o,N=(0,n.useCallback)((e,t)=>{if(null==e||null==t){u(void 0),m(void 0);return}let n=eG(e,t,l,S,k),a=eV(e,t,l,w);u(n),m(a)},[l,w,S,u,m,k]),T=b.rf(t,"click",(0,n.useCallback)(e=>{let t=d,l=p;e&&e.__interactionTest&&(t=e.primaryAlignItems,l=e.counterAlignItems),t&&l&&(S||s(t,et.zk.NO),c(l),f("Autolayout alignment grid used",{nodeIds:C}))},[d,p,S,c,f,s,C]),{recordMetadata:()=>({primaryAlignItems:d,counterAlignItems:p}),playbackMetadata:e=>({...e,__interactionTest:!0})}),{clearVariableConsumption:I}=(0,eD.O)("STACK_SPACING",_.rXF.FLOAT),x=(0,n.useCallback)((e,t)=>{g(void 0===t||t,e,et.zk.NO),I()},[g,I]),M=(0,n.useCallback)((e,t)=>{if(S){g(!1,"alignment double click",et.zk.NO);let n=eG(e,t,l,!1,k),a=eV(e,t,l,w);u(n),m(a),s(n,et.zk.NO),c(a),f("Autolayout spacing mode changed",{mode:n,doubleClick:!0})}else x("alignment double click"),c(eV(e,t,l,w))},[x,w,S,c,s,g,l,f,k]),L=(0,n.useCallback)(()=>{c("CENTER"),f("Disable baseline alignment",{source:"alignment grid"})},[c,f]),R=b.v_(t,"keydown",(0,n.useCallback)(e=>{function t(e){(0,es.c4)((0,Q.E7)(l))?s(e):c(e)}function n(e){"VERTICAL"===l?s(e):c(e)}function a(e,t){if((0,Q.gl)(e))return"CENTER";let l=eB.indexOf(e);if(-1===l)return null;let n=(0,q.qE)(l+t,0,eB.length-1);return eB[n]}let r=(0,es.c4)((0,Q.E7)(l))?i:o,d="VERTICAL"===l?i:o;switch(e.keyCode){case X.Uz.ESCAPE:case X.Uz.ENTER:e.currentTarget.blur();break;case X.Uz.UP_ARROW:{let e=a(d,-1);e&&n(e);break}case X.Uz.DOWN_ARROW:{let e=a(d,1);e&&n(e);break}case X.Uz.LEFT_ARROW:{let e=a(r,-1);e&&t(e);break}case X.Uz.RIGHT_ARROW:{let e=a(r,1);e&&t(e);break}case X.Uz.B:"HORIZONTAL"===l&&h("BASELINE"!==o,"alignment keyboard");break;case X.Uz.X:x("alignment keyboard",!(0,es.rO)(i));break;case X.Uz.W:n("MIN");break;case X.Uz.A:t("MIN");break;case X.Uz.S:n("MAX");break;case X.Uz.D:t("MAX");break;case X.Uz.V:n("CENTER");break;case X.Uz.H:t("CENTER");break;default:(0,J.jr)(e,J.W0.YES,J.VA.YES);return}e.preventDefault()},[x,o,i,h,c,s,l])),O=E?n.createElement(ew,{className:e,stackMode:l,stackWrap:r,stackPrimaryAlignItems:i,stackCounterAlignItems:o,onHover:N,onClick:T,onDoubleClick:M,onKeyDown:R,onRemoveBaseline:L,counterHover:p,primaryHover:d}):n.createElement(eu,{className:e,stackMode:l,stackWrap:r,stackPrimaryAlignItems:i,stackCounterAlignItems:o,onHover:N,onClick:T,onDoubleClick:M,onKeyDown:R,onRemoveBaseline:L,counterHover:p,primaryHover:d});return n.createElement(v.E,{name:"alignment_view"},O)}function eG(e,t,l,n,a){return n?(0,E.kc)().ce_stack_justify_space_between||a?"SPACE_BETWEEN":"SPACE_EVENLY":eB["VERTICAL"===l?t:e]}function eV(e,t,l,n){return n?"BASELINE":eB["VERTICAL"===l?e:t]}var eH=l(28983),eU=l(428104),ez=l(492769),eW=l(556843),ej=l(591421),e$=l(746643),eY=l(324608),eX=l(241162),eZ=l(343373),eq=l(125682),eJ=l(303480),eQ=l(517338),e0=l(95820),e1=l(453783),e5=l(28819),e3=l(744850),e4=l(336427),e2=l(225371),e6=l(622667),e7=l(424819),e8=l(143364),e9=l(845113);function te({id:e,onClose:t,...l}){let r=(0,a.wA)(),i=(0,e7.kG)(e),s=(0,e4.ZC)(i.showing),o=(0,e9.p1)(),c=(0,n.useRef)(t);c.current=t,(0,n.useEffect)(()=>{s&&!i.showing&&c.current?.()},[i.showing,s]),(0,n.useEffect)(()=>()=>c.current?.(),[]);let d=()=>{i.showing&&(i.hide(),T.Y5.deselectProperty())};return n.createElement(n.Fragment,null,n.createElement(tt,{name:l.buttonInteractableName},n.createElement(e5.d,{actionOnPointerDown:!0,onClick:t=>{if(t.stopPropagation(),i.showing){d();return}let l=o();if(!l)return;let{top:n}=t.currentTarget.getBoundingClientRect(),a=l.getBoundingClientRect().left-e8.qo;r(e2.u1({id:e,initialX:a,initialY:n}))},"aria-expanded":i.showing,"aria-label":l.tooltip,recordingKey:b.Pt(l,"trigger"),htmlAttributes:{onPointerMove:()=>{i.showing&&r(e6.jD())}}},l.icon)),i.showing?n.createElement(tl,{name:l.windowTrackableName},n.createElement(e3.bL,{width:l.width,onClose:d,defaultPosition:i.initialPosition,recordingKey:b.Pt(l,"window")},l.children)):null)}function tt({children:e,name:t}){return t?n.createElement(v.E,{name:t},e):n.createElement(n.Fragment,null,e)}function tl({children:e,name:t}){return t?n.createElement(C.k,{name:t},e):n.createElement(n.Fragment,null,e)}var tn=l(991944),ta=l(848969);function tr({onOpen:e,onClose:t,modalKey:l,...r}){let i=(0,a.wA)(),s=(0,e7.kG)(l),o=(0,n.useRef)(null),c=(0,el.R)(),d=(0,e4.ZC)(s.showing),u=(0,n.useRef)(t);u.current=t,(0,n.useEffect)(()=>{d&&!s.showing&&u.current?.()},[s.showing,d]),(0,n.useEffect)(()=>()=>u.current?.(),[]);let p=()=>{s.showing&&(s.hide(),T.Y5.deselectProperty())},m=()=>{if(s.showing)return;let{top:e}=o.current.getBoundingClientRect();i(e2.u1({id:l,initialX:e8.qo,initialY:e}))},h=n.createElement(ta.YW,{ref:o,svg:r.svg,fallbackSvg:r.fallbackSvg,"data-tooltip-type":L.Ib.TEXT,"data-tooltip":r.tooltip,onMouseMove:()=>{s.showing&&i(e6.jD())},onMouseDown:e=>{e.stopPropagation(),s.showing?p():m()},recordingKey:b.Pt(r,"trigger"),selected:s.showing,className:r.buttonClassName},c?r.ui3Icon:void 0),_=r.buttonInteractableName?n.createElement(v.E,{name:r.buttonInteractableName},h):h,g=s.showing?n.createElement(tn.vx,{title:r.title,initialPosition:s.initialPosition,initialConstraints:{x:"right",y:"top"},headerSize:"small",onClose:p,recordingKey:b.Pt(r,"modal")},r.children):null,y=g&&r.modalTrackableName?n.createElement(C.k,{name:r.modalTrackableName},g):g;return n.createElement(n.Fragment,null,_,y)}var ti=l(303596),ts=l(43262);let to="stack_layout_details_preview--stroke--tWkNh",tc="stack_layout_details_preview--strokeLight--RsPk7",td="stack_layout_details_preview--fill--V74cf",tu="stack_layout_details_preview--fillWhite--uTjlG",tp="stack_layout_details_preview--fillTertiary--xuwqQ",tm={reverseStackingOrder:function({enabled:e}){let t=[n.createElement("g",{key:"1",filter:"url(#reverse-stacking-order-filter)"},n.createElement("rect",{className:tu,x:"67",y:"40",width:"40",height:"40",rx:"20"}),n.createElement("path",{className:td,d:"M88.4893 53.9091V67H87.294V55.1619H87.2173L84.1491 57.201V55.9609L87.2429 53.9091H88.4893Z"}),n.createElement("rect",{className:to,x:"66.5",y:"39.5",width:"41",height:"41",rx:"20.5"})),n.createElement("g",{key:"2",filter:"url(#reverse-stacking-order-filter)"},n.createElement("rect",{className:tu,x:"99",y:"40",width:"40",height:"40",rx:"20"}),n.createElement("path",{className:td,d:"M114.964 67V66.1243L119.241 61.3175C119.799 60.6868 120.248 60.1477 120.589 59.7003C120.93 59.2528 121.177 58.8395 121.331 58.4602C121.488 58.081 121.567 57.6868 121.567 57.2777C121.567 56.7791 121.45 56.3445 121.216 55.9737C120.986 55.5987 120.668 55.3068 120.263 55.098C119.858 54.8892 119.402 54.7848 118.895 54.7848C118.358 54.7848 117.888 54.8999 117.483 55.13C117.082 55.3601 116.771 55.6754 116.549 56.076C116.328 56.4766 116.217 56.9368 116.217 57.4567H115.073C115.073 56.7322 115.239 56.0909 115.571 55.5327C115.908 54.9702 116.366 54.5291 116.946 54.2095C117.53 53.8899 118.19 53.7301 118.927 53.7301C119.656 53.7301 120.304 53.8878 120.87 54.2031C121.437 54.5142 121.883 54.9382 122.206 55.4751C122.53 56.0121 122.692 56.6129 122.692 57.2777C122.692 57.7592 122.607 58.2259 122.437 58.6776C122.27 59.1293 121.983 59.6321 121.574 60.1861C121.165 60.7401 120.598 61.4176 119.873 62.2188L116.626 65.843V65.9261H123.101V67H114.964Z"}),n.createElement("rect",{className:to,x:"98.5",y:"39.5",width:"41",height:"41",rx:"20.5"})),n.createElement("g",{key:"3",filter:"url(#reverse-stacking-order-filter)"},n.createElement("rect",{className:tu,x:"131",y:"40",width:"40",height:"40",rx:"20"}),n.createElement("path",{className:td,d:"M151.048 67.179C150.243 67.179 149.522 67.0341 148.887 66.7443C148.252 66.4503 147.75 66.0433 147.379 65.5234C147.008 65.0036 146.812 64.4048 146.791 63.7273H147.999C148.02 64.2045 148.167 64.6222 148.44 64.9801C148.713 65.3338 149.075 65.6108 149.527 65.8111C149.978 66.0071 150.481 66.1051 151.035 66.1051C151.64 66.1051 152.173 65.9922 152.633 65.7663C153.098 65.5405 153.46 65.2315 153.72 64.8395C153.984 64.4432 154.116 63.9957 154.116 63.4972C154.116 62.9687 153.982 62.5021 153.713 62.0973C153.445 61.6925 153.059 61.3771 152.556 61.1513C152.058 60.9254 151.461 60.8125 150.767 60.8125H150V59.7386H150.767C151.333 59.7386 151.834 59.6364 152.269 59.4318C152.708 59.223 153.053 58.9311 153.304 58.5561C153.556 58.1811 153.681 57.7401 153.681 57.233C153.681 56.7514 153.573 56.3274 153.355 55.9609C153.138 55.5945 152.831 55.3068 152.435 55.098C152.043 54.8892 151.585 54.7848 151.061 54.7848C150.554 54.7848 150.089 54.8828 149.667 55.0788C149.245 55.2749 148.904 55.5518 148.645 55.9098C148.389 56.2678 148.252 56.6918 148.235 57.1818H147.078C147.096 56.5 147.283 55.9013 147.641 55.3857C148.003 54.8658 148.483 54.4609 149.079 54.1712C149.68 53.8771 150.345 53.7301 151.074 53.7301C151.845 53.7301 152.512 53.8878 153.074 54.2031C153.637 54.5185 154.071 54.9382 154.378 55.4624C154.689 55.9822 154.845 56.5554 154.845 57.1818C154.845 57.9276 154.642 58.5668 154.238 59.0994C153.833 59.6278 153.287 59.9943 152.601 60.1989V60.282C153.436 60.4482 154.093 60.8189 154.57 61.3942C155.051 61.9652 155.292 62.6662 155.292 63.4972C155.292 64.196 155.109 64.8246 154.743 65.3828C154.376 65.9368 153.873 66.3757 153.234 66.6996C152.599 67.0192 151.87 67.179 151.048 67.179Z"}),n.createElement("rect",{className:to,x:"130.5",y:"39.5",width:"41",height:"41",rx:"20.5"}))];return e&&t.reverse(),n.createElement("svg",{width:"240",height:"120",fill:"none"},t,n.createElement("rect",{className:tc,x:"58.5",y:"28.5",width:"123",height:"63",rx:"3.5",strokeDasharray:"4 2"}),n.createElement("defs",null,n.createElement("filter",{id:"reverse-stacking-order-filter",x:"-1px",y:"-1px",width:"44",height:"42",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"2"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1112_23748"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1112_23748",result:"shape"}))))},alignToBaseline:function(){return n.createElement("svg",{width:240,height:120,fill:"none"},n.createElement("path",{className:er()("stack_layout_details_preview--alignToBaselineLine--Erw5t","stack_layout_details_preview--strokeAssistive--GgFOd"),d:"M38 60.5h164"}),n.createElement("g",{className:"stack_layout_details_preview--alignToBaselineA--kQYyh"},n.createElement("path",{className:td,d:"M63.8516 67L65.2514 63.0561H70.7486L72.1484 67H73.4013L68.6392 53.9091H67.3608L62.5987 67H63.8516ZM65.6349 61.9822L67.9553 55.4624H68.0447L70.3651 61.9822H65.6349Z"}),n.createElement("rect",{className:to,x:46.5,y:38.5,width:43,height:43,rx:1.5})),n.createElement("rect",{className:er()("stack_layout_details_preview--alignToBaselineEmpty--Z-l7O",to),x:98.5,y:38.5,width:43,height:43,rx:1.5}),n.createElement("g",{className:"stack_layout_details_preview--alignToBaselineG--YayQ-"},n.createElement("path",{className:td,d:"M171.843 68.8864C174.169 68.8864 175.895 67.7486 175.895 65.2557V55.1818H174.783V57.0547H174.668C174.265 56.1726 173.453 55.0476 171.651 55.0476C169.222 55.0476 167.592 57.0803 167.592 60.0653C167.592 63.076 169.279 64.8977 171.632 64.8977C173.396 64.8977 174.259 63.875 174.649 62.9737H174.751V65.1854C174.751 67.0135 173.581 67.8636 171.843 67.8636C170.161 67.8636 169.356 67.0518 168.941 66.304L168.007 66.9176C168.583 68.0426 169.835 68.8864 171.843 68.8864ZM171.766 63.8558C169.816 63.8558 168.736 62.2962 168.736 60.0462C168.736 57.8345 169.797 56.0831 171.766 56.0831C173.69 56.0831 174.77 57.745 174.77 60.0462C174.77 62.4176 173.658 63.8558 171.766 63.8558Z"}),n.createElement("rect",{className:to,x:150.5,y:38.5,width:43,height:43,rx:1.5})),n.createElement("rect",{className:er()("stack_layout_details_preview--alignToBaselineOutline--YlRIY",tc),x:38.5,y:30.5,width:163,height:59,rx:3.5,strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"}))},bordersTakeSpace:function(){return n.createElement("svg",{width:240,height:120,fill:"none"},n.createElement("g",{className:"stack_layout_details_preview--bordersTakeSpaceLeft--WTfPZ"},n.createElement("rect",{className:tp,x:"43",y:"37",width:"48",height:"48",rx:"2"}),n.createElement("rect",{className:tu,x:"49",y:"43",width:"36",height:"36",rx:"2"})),n.createElement("g",{className:"stack_layout_details_preview--bordersTakeSpaceRight--QCBF1"},n.createElement("rect",{className:tp,x:"98",y:"37",width:"99",height:"48",rx:"2"}),n.createElement("rect",{className:tu,x:"104",y:"43",width:"87",height:"36",rx:"2"})),n.createElement("rect",{className:er()("stack_layout_details_preview--bordersTakeSpaceOutline--Xq42w",tc),x:"48.5",y:"42.5",width:"143",height:"37",rx:"1.5",strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"}))}};function th({setting:e,enabled:t}){let l=e?tm[e]:null;return n.createElement("div",{className:er()("stack_layout_details_preview--preview---r9k-",{"stack_layout_details_preview--active--yCMB3":t}),"data-non-interactive":!0},l?n.createElement(l,{enabled:t}):n.createElement("div",{className:"stack_layout_details_preview--previewText--0NBYb"},(0,w.tx)("fullscreen.properties_panel.stack_panel.preview")))}let t_="stack_layout_details_modal--dropdownControl--PRPD5",tg="stack_layout_details_modal--onboardingBody--SQp9T",ty="stack_layout_details_modal--input--h2Yc7",tf="stack_layout_details_modal--chevron--tW9wo";var tE=l(599115),tb=l(362679);let tv="seen_stack_spacing_auto_onboarding";function tC(e){let t=(0,E.kc)().fpl_window,[l,a]=(0,n.useState)(!1),[r,i]=(0,n.useState)({enabled:!1}),s=(0,el.R)()?(0,w.t)("fullscreen.properties_panel.section_autoLayout.settings"):(0,w.t)("fullscreen.properties_panel.stack_panel.advanced_layout");return t?n.createElement(te,{id:"LAYOUT_DETAILS_PICKER",tooltip:s,buttonInteractableName:"open_stack_layout_details_modal_button",windowTrackableName:"stack_layout_details_modal",icon:n.createElement(S.U,{svg:tb.A},n.createElement(ej.A,null)),recordingKey:e.recordingKey},n.createElement(eW.vo,null,n.createElement(eW.Y9,null,n.createElement(eW.hE,null,s)),n.createElement(eW.nB,{noPadding:!0},n.createElement(tk,{hoveredSetting:r,setHoveredSetting:i,recordingKey:e.recordingKey})))):n.createElement(n.Fragment,null,n.createElement(tr,{title:s,tooltip:s,modalKey:"LAYOUT_DETAILS_PICKER",buttonInteractableName:"open_stack_layout_details_modal_button",modalTrackableName:"stack_layout_details_modal",svg:tb.A,ui3Icon:n.createElement(ej.A,null),buttonClassName:tE.Sj,recordingKey:e.recordingKey,onClose:()=>{setTimeout(()=>{a(!0)},250)}},n.createElement(tk,{hoveredSetting:r,setHoveredSetting:i,recordingKey:e.recordingKey})),l&&n.createElement(tA,{onDismiss:()=>a(!1)}))}function tk({hoveredSetting:e,setHoveredSetting:t,recordingKey:l}){return n.createElement(n.Fragment,null,n.createElement(th,{setting:e.setting,enabled:e.enabled}),n.createElement("div",{className:"stack_layout_details_modal--controls--SFjhS"},n.createElement(tN,{updatePreview:t,recordingKey:l}),n.createElement(tS,{updatePreview:t,recordingKey:l}),n.createElement(tw,{updatePreview:t,recordingKey:l})))}function tS({updatePreview:e,recordingKey:t}){let l=(0,a.wA)(),r=(0,eq.Um)(),[i,s]=(0,A.lJ)("stackReverseZIndex"),o=(0,y.am)(),c=(0,a.d4)(P.Sh),d=(0,eZ.GS)(),u=eY.Gq()?.getPrimaryLocale(!0)===ez.hT.EN?120:180,p=!0===i;return n.createElement(v.E,{name:"stacking_order_control"},n.createElement(eQ.L,{label:(0,w.t)("fullscreen.properties_panel.stack_panel.canvas_stacking_order"),onMouseEnter:()=>e({setting:"reverseStackingOrder",enabled:p}),onMouseLeave:()=>e({enabled:!1})},n.createElement(e1.l6,{id:"reverse-stacking-order-select",dispatch:l,className:t_,inputClassName:ty,chevronClassName:tf,textAlign:d?void 0:"right",property:i,formatter:tT,onChange:e=>{s(e),o(e?"Enable reverse zIndex":"Disable reverse zIndex",{nodeIds:c})},recordingKey:b.Pt(t,"reverseStackingOrder"),dropdownShown:r,dropdownAlignment:"right",dropdownWidth:u,onOptionFocus:t=>e({setting:null!=t?"reverseStackingOrder":void 0,enabled:!!t})},n.createElement(e1.c$,{value:!0}),n.createElement(e1.c$,{value:!1}))))}function tw({updatePreview:e,recordingKey:t}){let l=(0,A.kl)("stackMode"),a="BASELINE"===(0,A.kl)("stackCounterAlignItems"),r="HORIZONTAL"!==l,i=(0,eF.sR)();return n.createElement(v.E,{name:"baseline_alignment_control"},n.createElement(e0.k,{label:(0,w.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),recordingKey:b.Pt(t,"alignToBaseline"),property:a,disabled:r,onChange:t=>{i(t,"modal"),e({setting:"alignToBaseline",enabled:t})},onFocus:t=>{e({setting:"alignToBaseline",enabled:a})},onHover:(t,l)=>{e({setting:"ENTER"===l?"alignToBaseline":void 0,enabled:t})},"data-tooltip":r?(0,w.t)("fullscreen.properties_panel.stack_panel.only_applicable_for_horizontal_layout"):void 0,"data-tooltip-type":L.Ib.TEXT}))}function tN({updatePreview:e,recordingKey:t}){let l=(0,a.wA)(),r=(0,eq.Um)(),[i,s]=(0,A.lJ)("bordersTakeSpace"),o=(0,y.am)(),c=(0,a.d4)(P.Sh),d=(0,eZ.GS)(),u=!0===i;return n.createElement(v.E,{name:"borders_take_space_control"},n.createElement(eQ.L,{label:(0,w.t)("fullscreen.properties_panel.stack_panel.borders_take_space"),onMouseEnter:()=>e({setting:"bordersTakeSpace",enabled:u}),onMouseLeave:()=>e({enabled:!1})},n.createElement(e1.l6,{id:"borders-take-space-select",dispatch:l,className:t_,inputClassName:ty,chevronClassName:tf,dropdownWidth:168,textAlign:d?void 0:"right",property:u,formatter:tI,onChange:e=>{s(e),o("change_borders_take_space",{enabled:e,source:"modal",nodeIds:c})},recordingKey:b.Pt(t,"bordersTakeSpace"),dropdownShown:r,onOptionFocus:t=>e({setting:null!=t?"bordersTakeSpace":void 0,enabled:!!t})},n.createElement(e1.c$,{value:!0}),n.createElement(e1.c$,{value:!1}))))}let tT={format:e=>e?(0,w.t)("fullscreen.properties_panel.stack_panel.first_on_top"):(0,w.t)("fullscreen.properties_panel.stack_panel.last_on_top")},tI={format:e=>e?(0,w.t)("fullscreen.properties_panel.stack_panel.included"):(0,w.t)("fullscreen.properties_panel.stack_panel.excluded"),formatExtended:e=>({text:e?(0,w.t)("fullscreen.properties_panel.stack_panel.included_in_layout"):(0,w.t)("fullscreen.properties_panel.stack_panel.excluded_from_layout")})};function tA({onDismiss:e}){let t=(0,a.wA)();if((0,eJ.f)(tv))return null;let l=(0,E.kc)().eu_fpl_migration_link?{secondaryCtaText:(0,w.tx)("general.learn_more"),secondaryCtaHref:"https://help.figma.com/hc/articles/360040451373-Explore-auto-layout-properties#spacing-between"}:{secondaryCtaText:n.createElement("a",{href:"https://help.figma.com/hc/articles/360040451373-Explore-auto-layout-properties#spacing-between",target:"_blank",style:{textDecoration:"none"}},(0,w.tx)("general.learn_more")),onClickSecondaryCta:e$.lQ};return n.createElement(ti.OA,{targetKey:"stack-spacing-input",shouldNotWrapInParagraphTag:!0,dismissModal:()=>{t(eX.b({[tv]:!0})),e()},background:"light",width:268,title:(0,w.tx)("fullscreen.properties_panel.stack_panel.gap_onboarding_title"),ctaText:(0,w.tx)("general.got_it"),onClickPrimaryCta:e,arrowPosition:tn.F_.RIGHT_TITLE,...l},n.createElement(ts.Gv,{containerClassName:"stack_layout_details_modal--onboardingImg--4Uak-",src:(0,E.ck)("94241d15e9d47a0c73734ae71850674f78cd4ab0")}),n.createElement("p",{className:tg},(0,w.tx)("fullscreen.properties_panel.stack_panel.gap_onboarding_body1",{gapBetweenItems:n.createElement("strong",null,(0,w.tx)("fullscreen.properties_panel.stack_panel.gap_items"))})),n.createElement("p",{className:tg},(0,w.tx)("fullscreen.properties_panel.stack_panel.gap_onboarding_body2",{auto:n.createElement("strong",null,(0,w.tx)("fullscreen.properties_panel.stack_panel.auto"))})))}let tx=(0,n.memo)(function(e){return(0,c.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,c.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 9.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0zm9 0a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0zm-8-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m.5 8.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})});var tM=l(848070),tP=l(186190),tL=l(864300),tR=l(689606);function tO({recordingKey:e}){let[t,l]=(0,n.useState)(!1),[r,i]=(0,n.useState)(!1),s=(0,tL.U)(),{version:o}=(0,h.DP)();(0,x.f4)(e=>{let{stackHorizontalPadding:t,stackPaddingRight:n,stackVerticalPadding:a,stackPaddingBottom:r}=e.mirror.selectionProperties,i=(0,Q.q)(t,n),o=(0,Q.q)(a,r);l((0,Q.gl)(i)||(0,Q.gl)(o)||s)});let c=(0,y.am)(),d=(0,a.d4)(P.Sh),u=(0,el.R)(),p=()=>{l(!t),_.Qa7.setFocusStackPanelInput(_.RN9.PADDING_ALL,!1),c(t?"Disable autolayout independent padding":"Enable autolayout independent padding",{nodeIds:d})},m=u?n.createElement(e5.d,{onClick:p,"aria-expanded":t,actionOnPointerDown:!0,"aria-label":(0,w.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),recordingKey:b.Pt(e,"showAllPaddingControls"),htmlAttributes:{"data-tooltip":(0,w.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),"data-tooltip-type":L.Ib.TEXT,"data-test-id":"stack-padding-toggle"}},n.createElement(tx,null)):n.createElement(tM.m,{"data-tooltip-type":L.Ib.TEXT,"aria-label":(0,w.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),"data-tooltip":(0,w.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),recordingKey:b.Pt(e,"showAllPaddingControls"),"data-test-id":"stack-padding-toggle",onMouseDown:p,svg:tR.A,toggled:t,className:tE.NC});return n.createElement(v.E,{name:"stack_padding_controls"},n.createElement("ui3"===o?tF:tD,{showAllPaddingControls:t,showSinglePaddingControl:r,setShowSinglePaddingControl:i,recordingKey:e,handleClick:function(e){(0,X.Fo)(e)&&i(!0)},showAllPaddingControlsToggle:m}))}function tD({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:l,recordingKey:a,handleClick:r,showAllPaddingControlsToggle:i}){return n.createElement(D.fI,{heightMultiplier:e&&!t?2:void 0},t?n.createElement(tB,{className:tE.mR,paddingSelection:es.mx.ALL,setShowSinglePaddingControl:l,focusOnMount:!0,recordingKey:a}):e?n.createElement(n.Fragment,null,n.createElement(tB,{className:er()(tE.oH,tE.aO),paddingSelection:es.mx.LEFT,onClick:r,recordingKey:a,inputTestId:"padding-left"}),n.createElement(tB,{className:er()(tE.oH,tE.uH),paddingSelection:es.mx.RIGHT,onClick:r,recordingKey:a,inputTestId:"padding-right"}),n.createElement(tB,{className:er()(tE.T1,tE.aO),paddingSelection:es.mx.TOP,onClick:r,recordingKey:a,inputTestId:"padding-top"}),n.createElement(tB,{className:er()(tE.T1,tE.uH),paddingSelection:es.mx.BOTTOM,onClick:r,recordingKey:a,inputTestId:"padding-bottom"})):n.createElement(n.Fragment,null,n.createElement(tB,{className:tE.oH,paddingSelection:es.mx.HORIZONTAL,onClick:r,recordingKey:a,inputTestId:"padding-horizontal"}),n.createElement(tB,{className:tE.T1,paddingSelection:es.mx.VERTICAL,onClick:r,recordingKey:a,inputTestId:"padding-vertical"})),i)}function tF({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:l,recordingKey:a,handleClick:r,showAllPaddingControlsToggle:i}){return n.createElement(tP.W,{showAllPaddingControls:e,showSinglePaddingControl:t,singleInput:n.createElement(tB,{paddingSelection:es.mx.ALL,focusOnMount:!0,recordingKey:a,setShowSinglePaddingControl:l}),collapsedLeftInput:n.createElement(tB,{paddingSelection:es.mx.HORIZONTAL,onClick:r,recordingKey:a,inputTestId:"padding-horizontal"}),collapsedRightInput:n.createElement(tB,{paddingSelection:es.mx.VERTICAL,onClick:r,recordingKey:a,inputTestId:"padding-vertical"}),expandedTopLeftInput:n.createElement(tB,{paddingSelection:es.mx.LEFT,onClick:r,recordingKey:a}),expandedBottomLeftInput:n.createElement(tB,{paddingSelection:es.mx.RIGHT,onClick:r,recordingKey:a}),expandedTopRightInput:n.createElement(tB,{paddingSelection:es.mx.TOP,onClick:r,recordingKey:a}),expandedBottomRightInput:n.createElement(tB,{paddingSelection:es.mx.BOTTOM,onClick:r,recordingKey:a}),topIcon:i,leftLabel:(0,w.tx)("fullscreen.properties_panel.section_autoLayout.label_padding"),rightLabel:null,bottomIcon:null})}function tB({className:e,paddingSelection:t,recordingKey:l,inputTestId:a,onClick:r,onBlur:i,focusOnMount:s,setShowSinglePaddingControl:o}){let c=(0,es.Wx)(),d=(0,es.Y9)();return n.createElement(tL.s,{outerClassName:e,paddingSelection:t,focusOnMount:s,onFocus:()=>_.Qa7.setFocusStackPanelInput(t,!0),onBlur:e=>{_.Qa7.setFocusStackPanelInput(t,!1),i?.(e)},onMouseEnter:()=>d(t,!0),onMouseLeave:()=>d(t,!1),onClick:r,onScrubBegin:()=>c(t,!0),onScrubEnd:()=>c(t,!1),onNudge:()=>_.glU.temporarilyHideOverlay(_.hJs.SELECTION),setShowSinglePaddingControl:o,recordingKey:b.Pt(l,"stackPadding",es.mx[t]),inputTestId:a,source:"panel"})}var tK=l(537756),tG=l(190406);let tV=(0,n.memo)(function(e){return(0,c.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,c.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.5 7h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5M6 7.5A1.5 1.5 0 0 1 7.5 6h2A1.5 1.5 0 0 1 11 7.5v2A1.5 1.5 0 0 1 9.5 11h-2A1.5 1.5 0 0 1 6 9.5zm8.5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5m-1.5.5A1.5 1.5 0 0 1 14.5 6h2A1.5 1.5 0 0 1 18 7.5v2a1.5 1.5 0 0 1-1.5 1.5h-2A1.5 1.5 0 0 1 13 9.5zM9.5 14h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5m-2-1A1.5 1.5 0 0 0 6 14.5v2A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 9.5 13zm10.384 1.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034z",clipRule:"evenodd"})})}),tH=(0,n.memo)(function(e){return(0,c.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,c.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5m-9-1A1.5 1.5 0 0 0 6 7.5v2A1.5 1.5 0 0 0 7.5 11h9A1.5 1.5 0 0 0 18 9.5v-2A1.5 1.5 0 0 0 16.5 6zm2 8h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5m-2-1A1.5 1.5 0 0 0 6 14.5v2A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 9.5 13zm10.384 1.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034z",clipRule:"evenodd"})})});var tU=l(779099);function tz(){return(0,f.R)(e=>{let{mirror:{appModel:t,selectionProperties:{propertiesPanelShouldShowRemoveAutoLayout:l,containsStacksNeedingAlignmentMigration:n,stackMode:a,stackWrap:r,textAutoResize:i,missingFont:s}}}=e;return{showMigrationUi:n,actionEnabledStackSelection:(0,tU.Yh)(t,"stack-selection"),actionEnabledMultiStackSelection:(0,tU.Yh)(t,"run-multi-stack-auto-layout"),actionEnabledUnstackSelection:(0,tU.Yh)(t,"unstack-selection"),propertiesPanelShouldShowRemoveAutoLayout:l,wrappingEnabled:("HORIZONTAL"===a||(0,Q.gl)(a))&&("WRAP"===r||(0,Q.gl)(r)),textAutoResize:i,missingFont:s}})}function tW(e){let{propertiesPanelShouldShowRemoveAutoLayout:t}=tz(),l=t?(0,w.t)("fullscreen.properties_panel.stack_panel.remove_auto_layout"):(0,w.t)("fullscreen.properties_panel.stack_panel.use_auto_layout"),{actionEnabledStackSelection:a,actionEnabledUnstackSelection:i}=tz(),s=t?i:a,o=t?"unstack-selection":"stack-selection",c=(0,n.useCallback)(()=>{T.Y5.triggerActionInUserEditScope(o,{source:"panel"})},[o]);return n.createElement(r.f,{checked:t,variant:"highlighted","aria-label":l,onIcon:n.createElement(tj,null),offIcon:n.createElement(tj,null),onChange:c,disabled:!s,recordingKey:b.Pt(e.recordingKey,t?"removeButton":"addButton"),htmlAttributes:{"data-tooltip":l,"data-tooltip-type":L.Ib.TEXT,"data-tooltip-shortcut-key":o}})}function tj(){let e=(0,A.kl)("stackMode"),t=(0,A.kl)("stackWrap"),{propertiesPanelShouldShowRemoveAutoLayout:l}=tz();if(!l)return n.createElement(tK.Q,null);if((0,Q.gl)(e)||!e||"GRID"===e||(0,Q.gl)(t))return n.createElement(tG.v,null);if("WRAP"===t)return n.createElement(tV,null);switch(e){case"NONE":case"HORIZONTAL":default:return n.createElement(tG.v,null);case"VERTICAL":return n.createElement(tH,null)}}var t$=l(729705),tY=l(258890),tX=l(996620),tZ=l(957069),tq=l(733982);function tJ(e){return n.createElement(C.k,{name:"stack_panel"},n.createElement("div",{className:"displayContents","data-test-id":"stack_panel"},n.createElement(tQ,{...e})))}let tQ=n.memo(e=>{let{version:t}=(0,h.DP)();return"ui3"===t?n.createElement(t1,{...e}):n.createElement(t0,{...e})});function t0(e){let{showMigrationUi:t,actionEnabledStackSelection:l,actionEnabledUnstackSelection:a,propertiesPanelShouldShowRemoveAutoLayout:r,wrappingEnabled:i}=tz();return n.createElement(D.Zk,null,n.createElement(F.u,{title:(0,w.tx)("fullscreen.properties_panel.stack_panel.auto_layout"),addProperty:()=>{T.Y5.triggerActionInUserEditScope("stack-selection",{source:"panel"})},removeProperty:()=>{T.Y5.triggerActionInUserEditScope("unstack-selection",{source:"panel"})},contentsVisibleOrMixed:e.onlyStacksSelected,showButton:r?"-":"+",minusDisabled:!a,plusDisabled:!l,recordingKey:e.recordingKey,dataTestId:"open-stack-panel"},t?n.createElement(t4,null):n.createElement(n.Fragment,null,n.createElement(D.fI,{className:i?tE.TE:tE.mm},n.createElement(t2,{recordingKey:e.recordingKey}),n.createElement("div",{className:tE.T$},n.createElement(eK,{recordingKey:b.Pt(e,"alignment")})),n.createElement(tC,{recordingKey:b.Pt(e,"stackLayoutDetails")}),n.createElement(t7,{recordingKey:e.recordingKey}),i&&n.createElement(t8,{recordingKey:e.recordingKey})),n.createElement(tO,{recordingKey:e.recordingKey}))))}function t1(e){let t=(0,E.kc)().ce_tv_grid&&(0,E.kc)().ce_tv_grid_properties_panel,l=e.onlyStacksSelected&&!t?(0,w.tx)("fullscreen.properties_panel.stack_panel.auto_layout"):(0,w.tx)("fullscreen.properties_panel.stack_panel.layout"),i=(0,a.d4)(e=>(0,O.aW)(void 0,e.mirror.selectionProperties,void 0)),s=(0,I.Zr)("resize-to-fit"),o=(0,A.kl)("stackMode"),c=(0,E.kc)().ce_tv_grid&&"GRID"===o;return n.createElement(D.Zk,{"data-onboarding-key":j.W},n.createElement(z.Wv,{titleTx:l},s&&n.createElement(R.hw,{recordingKey:b.Pt(e,"frameFitButton")}),!e.hideToggleButton&&i&&!t&&n.createElement(tW,{recordingKey:e.recordingKey}),(0,E.kc)().ce_tv_grid&&i&&!t&&n.createElement(r.f,{"aria-label":(0,w.t)("fullscreen.properties_panel.grid_panel.grid"),onIcon:n.createElement(d,null),offIcon:n.createElement(d,null),onChange:()=>{c?T.Y5.triggerActionInUserEditScope("remove-grid",{source:"panel"}):T.Y5.triggerActionInUserEditScope("grid-selection",{source:"panel"})}}),t&&!c&&e.onlyStacksSelected&&!e.onlyShowResizingRow&&n.createElement(tC,{recordingKey:b.Pt(e.recordingKey,"stackLayoutDetails")})),n.createElement(t5,{...e}))}let t5=n.memo(function({onlyStacksSelected:e,onlyShowResizingRow:t,recordingKey:l}){let{showMigrationUi:a,wrappingEnabled:r,textAutoResize:i,missingFont:s}=tz(),o=(0,G.Df)(),c=(0,n.useRef)(null),d=(0,A.kl)("nodesAreAllInsideStacks"),u=(0,M.J2)(_.Ez5.propertiesPanelState().enabledTypePanelControls),p=!!T.Y5?.isFontListLoaded(),m=(0,A.kl)("numSelectedByType"),h=!!m&&(0,N.vx)(m,"TEXT"),g=(0,E.kc)().ce_tv_grid&&(0,E.kc)().ce_tv_grid_properties_panel,y="GRID"===(0,A.kl)("stackMode")&&(0,E.kc)().ce_tv_grid,f="transformPanel",v=n.createElement(n.Fragment,null,n.createElement(H.Ws,{recordingKey:f,forwardedRef:c}),n.createElement(V.J,{visible:!!(e||d),widthHeightRowRef:c})),C=o.fixedFrameOptions&&n.createElement(B.u,{recordingKey:l}),k=h&&n.createElement("div",{className:tE.Z2},n.createElement(U.f,{disabled:!p||!!s,enabledTypePanelControls:u,textAutoResize:i,recordingKey:l})),S=!y&&n.createElement(K.e,{recordingKey:f}),I=n.createElement(eH.tL,{recordingKey:l});return!(e||y)||t?n.createElement(n.Fragment,null,v,I,k,S,C):a?n.createElement(t4,null):g?n.createElement(n.Fragment,null,v,n.createElement(tO,{recordingKey:l}),I,!y&&n.createElement(W.sY,{leftLabel:(0,w.tx)("fullscreen.properties_panel.section_autoLayout.label_alignment"),leftInput:n.createElement(eK,{recordingKey:b.Pt(l,"alignment")}),rightLabel:(0,w.tx)("fullscreen.properties_panel.section_autoLayout.label_gap"),topRightInput:n.createElement(t7,{recordingKey:l}),bottomRightInput:r&&n.createElement(t8,{recordingKey:l}),topIcon:n.createElement(t6,{recordingKey:l}),bottomIcon:null}),S,n.createElement(B.u,{recordingKey:l})):n.createElement(n.Fragment,null,v,I,!y&&n.createElement(W.sY,{topLeftInput:n.createElement(t2,{recordingKey:l}),rightInput:n.createElement(eK,{recordingKey:b.Pt(l,"alignment")}),leftLabel:r?(0,w.tx)("fullscreen.properties_panel.section_autoLayout.label_direction"):(0,w.tx)("fullscreen.properties_panel.section_autoLayout.label_direction_and_gap"),rightLabel:(0,w.tx)("fullscreen.properties_panel.section_autoLayout.label_alignment"),bottomLeftInput:r?null:n.createElement(t7,{recordingKey:l}),topIcon:n.createElement(tC,{recordingKey:b.Pt(l,"stackLayoutDetails")}),bottomIcon:null}),!y&&r?n.createElement(W.fn,{leftInput:n.createElement(t7,{recordingKey:l}),rightInput:n.createElement(t8,{recordingKey:l}),icon:null,leftLabel:(0,w.tx)("fullscreen.properties_panel.section_autoLayout.label_gap"),rightLabel:null}):null,n.createElement(tO,{recordingKey:l}),S,n.createElement(B.u,{recordingKey:l}))}),t3=!1;function t4(){let e;let t=(0,y.am)(),[l,a]=(0,n.useState)(!1),{isOrInInstance:r,containsComponents:s}=(0,f.R)(e=>{let{isInstanceSelected:t,isInstanceSublayerSelected:l,numSelectedByType:n}=e.mirror.selectionProperties;return{isOrInInstance:!!(t||l),containsComponents:!!n&&!!n.SYMBOL}});(0,n.useEffect)(()=>{t3||(t("stack_v2_migration_info_shown"),t3=!0)},[t]),(0,x.f4)(()=>{a(!1)});let o=(0,n.useCallback)(()=>{let e=_.AlE.getActiveCanvas();g.l7.user("update-stack-to-alv3",()=>{_.Qa7.updateStackToAutoLayoutV3(e,_.Ez5.bigNudgeAmount())}),T.Y5.triggerAction("commit"),a(!0),t("stack_v2_migration_updated")},[t]),c=(0,n.useCallback)(e=>{T.Y5.triggerActionInUserEditScope("undo"),a(!1)},[]);if(l)return n.createElement(D.fI,{className:tE.A5},n.createElement("span",{className:tE.Yv},(0,w.tx)("fullscreen.properties_panel.stack_panel.auto_layout_updated")),n.createElement("span",{className:tE.QP},n.createElement(i.$n,{variant:"ghost",onClick:c},(0,w.tx)("fullscreen.properties_panel.stack_panel.undo"))));let d=_.AlE.getActiveCanvas(),u=_.Qa7.isOrInInstanceWithDeprecatedAlignmentOverride(d);return e=r?u?(0,w.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance_overrides"):(0,w.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance"):s?(0,w.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_components"):(0,w.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version"),n.createElement(D.fI,{className:tE.A5},n.createElement("div",{className:tE.Yv},(0,w.tx)("fullscreen.properties_panel.stack_panel.new_auto_layout_version_available"),n.createElement(k.B,{className:tE.zp,svg:tq.A,"data-tooltip-type":L.Ib.SPECIAL,"data-tooltip":Z,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-text":e})),n.createElement("span",{className:tE.Z6},n.createElement(i.IK,{variant:"secondary",onClick:o,disabled:r&&!u},(0,w.tx)("fullscreen.properties_panel.stack_panel.update"))))}function t2(e){let t=(0,I.Zr)("unstack-selection"),l=(0,A.kl)("stackMode"),r=(0,A.kl)("stackWrap"),{version:i}=(0,h.DP)(),c=(0,y.am)(),d=(0,a.d4)(P.Sh),f="ui2"===i?tE.N:tE.O_;return n.createElement(v.E,{name:"stack_mode_control"},n.createElement("div",{className:f,"data-onboarding-key":"stack-mode-control"},n.createElement(s.bL,{value:"HORIZONTAL"===l&&"WRAP"===r?"WRAP":l,onChange:e=>{c("Stack Mode Changed",{stackMode:e,nodeIds:d}),g.l7.user("set-stack-mode",()=>_.Qa7?.setStackModeAndFlipPrimaryAndCounterAxisValues(e))},recordingKey:b.Pt(e,"stackMode"),readonly:!t,legend:n.createElement(o.q,null,(0,w.tx)("fullscreen.properties_panel.section_autoLayout.label_direction")," ")},n.createElement(s.c$,{value:"VERTICAL","aria-label":(0,w.t)("fullscreen.properties_panel.stack_panel.vertical_direction"),icon:n.createElement(S.U,{svg:tX.A},n.createElement(u.D,null))}),n.createElement(s.c$,{value:"HORIZONTAL","aria-label":(0,w.t)("fullscreen.properties_panel.stack_panel.horizontal_direction"),icon:n.createElement(S.U,{svg:tY.A},n.createElement(p,null))}),n.createElement(s.c$,{value:"WRAP","aria-label":(0,w.t)("fullscreen.properties_panel.stack_panel.wrap"),icon:n.createElement(S.U,{svg:tZ.A},n.createElement(m,null))}))))}function t6(e){let t=(0,A.kl)("stackMode"),l=(0,A.kl)("stackWrap"),i=(0,y.am)(),s=(0,a.d4)(P.Sh);return"HORIZONTAL"!==t?null:n.createElement(r.f,{variant:"highlighted","aria-label":(0,w.t)("fullscreen.properties_panel.stack_panel.wrap"),checked:"WRAP"===l,onIcon:n.createElement(S.U,{svg:tZ.A},n.createElement(m,null)),offIcon:n.createElement(S.U,{svg:tZ.A},n.createElement(m,null)),onChange:()=>{let e="WRAP"===l?"HORIZONTAL":"WRAP";i("Stack Mode Changed",{newStackWrap:e,nodeIds:s}),g.l7.user("set-stack-mode",()=>_.Qa7?.setStackModeAndFlipPrimaryAndCounterAxisValues(e))},recordingKey:b.Pt(e,"stackWrap")})}function t7(e){let t=(0,es.Wx)(),l=(0,es.Y9)(),{version:a}=(0,h.DP)(),r="ui2"===a?tE.Kz:void 0;return n.createElement(v.E,{name:"stack_spacing_control"},n.createElement(t$.KI,{outerClassName:r,onFocus:()=>t(_.RN9.SPACING,!0),onBlur:()=>t(_.RN9.SPACING,!1),onScrubBegin:()=>t(_.RN9.SPACING,!0),onScrubEnd:()=>t(_.RN9.SPACING,!1),onMouseEnter:()=>l(_.RN9.SPACING,!0),onMouseLeave:()=>l(_.RN9.SPACING,!1),onNudge:()=>_.glU.temporarilyHideOverlay(_.hJs.SELECTION),recordingKey:b.Pt(e,"stackSpacing"),source:"panel",onboardingKey:"stack-spacing-input"}))}function t8(e){let t=(0,es.Wx)(),l=(0,es.Y9)(),{version:a}=(0,h.DP)(),r="ui3"===a?void 0:tE.UN;return n.createElement(v.E,{name:"stack_counter_spacing_input"},n.createElement(eU.q,{outerClassName:r,onFocus:()=>t(_.RN9.COUNTER_SPACING,!0),onBlur:()=>t(_.RN9.COUNTER_SPACING,!1),onScrubBegin:()=>t(_.RN9.COUNTER_SPACING,!0),onScrubEnd:()=>t(_.RN9.COUNTER_SPACING,!1),onMouseEnter:()=>l(_.RN9.COUNTER_SPACING,!0),onMouseLeave:()=>l(_.RN9.COUNTER_SPACING,!1),onNudge:()=>_.glU.temporarilyHideOverlay(_.hJs.SELECTION),recordingKey:b.Pt(e,"stackCounterSpacing"),inputTestId:"stack-counter-spacing",source:"panel"}))}},172601:(e,t,l)=>{l.d(t,{r:()=>D});var n=l(411855),a=l(188507),r=l(28819),i=l(591421),s=l(108982),o=l(693565),c=l(132939),d=l(76265),u=l(225371),p=l(674505),m=l(848540),h=l(77383),_=l(688656),g=l(143364),y=l(904510),f=l(659782),E=l(241353),b=l(119856),v=l(76237);let C="template-controls-picker";var k=l(612724),S=l(991944),w=l(851169),N=l(366172),T=l(404227),I=l(686408);function A(){let{sceneNodesToEdit:e,description:t}=(0,s.R)(e=>({sceneNodesToEdit:(0,T.F4)(e),description:e.mirror.selectionProperties.description})),l="string"==typeof t?t:"",a=n.useCallback((t,l)=>{w.l7.user("set-description",()=>{for(let n of e)n.setDescriptionRich(t,l)})},[e]),r=n.useCallback(()=>{N.Y5.commit()},[]);return n.createElement("div",{className:"template_controls_menu--descriptionContainer--pRK0M"},n.createElement(I.A,{description:l,isViewOnly:!1,placeholder:(0,d.t)("design_systems.template_panel.template_placeholder"),onBlur:r,onSubmit:a,forceQuill_DO_NOT_USE:!0}))}function x(){let e=(0,a.wA)(),t=(0,a.d4)(e=>e.pickerShown),l=new k.Mi(t?.initialX,t?.initialY);return t?.id!==C?null:n.createElement(S.vx,{autoflowHeight:!0,headerSize:"small",initialPosition:l,initialWidth:320,onClose:()=>{e(u.XE())},scrollOverflow:!1,title:(0,d.t)("design_systems.template_panel.template_controls")},n.createElement(A,null))}var M=l(336968),P=l(403016),L=l(529768),R=l(691151),O=l(999918);let D=n.memo(function(){let{containingTemplate:e,pickerShown:t,templateDescription:l}=(0,s.R)(e=>({containingTemplate:(0,y._k)(e),pickerShown:e.pickerShown,templateDescription:e.mirror.selectionProperties.description??""})),k=(0,a.d4)(h.Dr),S=(0,a.d4)(h.cB),{allowLibraryPublish:w}=n.useContext(m.s),N=n.useRef(null),T=(0,a.wA)(),I=n.useCallback((e,t,l=g.qo)=>{if(!N)return;let n=(0,g.cn)(N.current,l);T(u.u1({id:t,initialX:n.x,initialY:n.y})),T(p.sw()),T(u.Uv())},[T]),A=n.useCallback(e=>{t?.id===C?T(u.XE()):I(e,C,320)},[t,T,I]);return e&&e.isAlive?n.createElement(v.Zk,{ref:N},n.createElement(v.fI,{className:M.LO},n.createElement(E.R,{guid:e.guid,value:e.name,canEdit:!0,icon:n.createElement(o.B,{svg:R.A,className:L.Kk}),editAction:"rename-template"}),n.createElement("span",{className:P.MC},n.createElement(r.d,{"aria-label":(0,d.t)("design_systems.template_panel.template_controls"),onClick:A,"aria-expanded":t?.id===C,htmlAttributes:{"data-tooltip-type":_.Ib.TEXT,"data-tooltip":(0,d.t)("design_systems.template_panel.template_controls"),onMouseDown:e=>e.stopPropagation()},recordingKey:"templateControls"},n.createElement(c.U,{svg:O.A},n.createElement(i.A,null))))),n.createElement(f.n,{description:l}),k&&S&&w&&n.createElement(b.x,null),n.createElement(x,null)):null})},666055:(e,t,l)=>{l.d(t,{Y:()=>o});var n=l(411855),a=l(76265),r=l(955301),i=l(76237),s=l(671044);function o({onExpand:e}){return n.createElement(i.Zk,{"data-testid":"toggle-simplified-panels",className:s.aW},n.createElement(r.z,{onClick:e,recordingKey:"toggleSimplifiedPanels"},(0,a.tx)("design_systems.component_properties.show_more_properties")))}},453557:(e,t,l)=>{l.d(t,{$:()=>N});var n=l(411855),a=l(188507),r=l(649151),i=l(747579),s=l(918091),o=l(132939),c=l(76265),d=l(47795),u=l(225371),p=l(143364),m=l(166382),h=l(757982),_=l(198136),g=l(981161),y=l(612605),f=l(767158),E=l(663582),b=l(904510),v=l(153332),C=l(929717),k=l(76237),S=l(129768),w=l(633779);function N({recordingKey:e}){let t=(0,a.wA)(),{version:l}=(0,i.DP)(),N=(0,a.d4)(b._k),T=!(0,a.d4)(E.Jp),I=(0,a.d4)(e=>!!e.dropdownShown&&e.dropdownShown.type===_.C4),A=(0,a.d4)(e=>!!e.modalShown&&e.modalShown.type===g.n.type),x=(0,a.d4)(e=>e.pickerShown),M=I||A||x?.id===_.Dd,P=!!(0,a.d4)(f.Z3).length,L=(0,a.d4)(f.K4),R=!!L?.length,O=n.useRef(null),D=n.useRef(null),F=n.useCallback(()=>{x&&t(u.XE()),I?t(d.oB()):t(d.j7({type:_.C4}))},[t,x,I]),B=n.useCallback(()=>{let e=D.current,l=e?(0,p.cn)(e,_.wh):{};t(u.u1({id:_.Dd,initialX:l?.x,initialY:l?.y}))},[t]);if(!N||!R)return null;let K="ui3"===l?y.PQ:y.Ws;return n.createElement(k.Zk,{ref:D},n.createElement(K,{isPanelEmpty:T,isAddPropButtonSelected:M,hasBubbledInstances:P,selectAddPropOptionRef:O,toggleAddPropDropdown:F,stateGroupSelectionMode:void 0}),I&&O.current&&n.createElement(C.Cf,{targetRect:O.current.getBoundingClientRect(),propagateCloseClick:!0},n.createElement(s.c$,{disabled:!0,className:S.XV},(0,c.tx)("design_systems.component_properties.expose_nested_instances")),n.createElement(s.c$,{className:S.RU,onClick:B,recordingKey:"openBubbledPropPicker"},n.createElement(v.Nu,null,n.createElement(o.U,{svg:w.A},n.createElement(r.r,null))),(0,c.t)("design_systems.component_properties.choose_instances"))),x?.id===_.Dd&&n.createElement(h.Z,null),P&&n.createElement(n.Fragment,null,n.createElement("p",{className:S.Zr},(0,c.t)("design_systems.component_properties.bubbled_instances")),n.createElement(m.$,{recordingKey:e})))}},740039:(e,t,l)=>{l.d(t,{D:()=>a});var n=l(263159);let a=(0,l(411855).memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.5 7a.5.5 0 0 0-.5.5v6.789l-2.388-2.4a.5.5 0 0 0-.709.706l3.243 3.258a.5.5 0 0 0 .708 0l3.243-3.258a.5.5 0 0 0-.709-.705L13 14.289V7.5a.5.5 0 0 0-.5-.5",clipRule:"evenodd"})})})},656720:(e,t,l)=>{l.d(t,{U:()=>a});var n=l(263159);let a=(0,l(411855).memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.854 6.854a.5.5 0 0 0-.708-.708l-11 11a.5.5 0 0 0 .708.708zm-8.708-.708a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L10.293 9H9a3 3 0 0 0-2.143 5.1.5.5 0 0 1-.714.7A4 4 0 0 1 9 8h1.293L9.146 6.854a.5.5 0 0 1 0-.708m8.004 3.047a.5.5 0 0 1 .707.008A4 4 0 0 1 15 16h-1.293l1.147 1.145a.5.5 0 0 1-.708.708l-2-2a.5.5 0 0 1 0-.708l2-2a.5.5 0 0 1 .708.708L13.707 15H15a3 3 0 0 0 2.143-5.1.5.5 0 0 1 .007-.707",clipRule:"evenodd"})})})},444184:(e,t,l)=>{l.d(t,{p:()=>a});var n=l(263159);let a=(0,l(411855).memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.146 6.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L10.293 9H9a3 3 0 1 0 0 6h.5a.5.5 0 0 1 0 1H9a4 4 0 0 1 0-8h1.293L9.146 6.854a.5.5 0 0 1 0-.708M14 8.5a.5.5 0 0 1 .5-.5h.5a4 4 0 0 1 0 8h-1.293l1.147 1.146a.5.5 0 0 1-.708.708l-2-2a.5.5 0 0 1 0-.708l2-2a.5.5 0 0 1 .708.708L13.707 15H15a3 3 0 1 0 0-6h-.5a.5.5 0 0 1-.5-.5",clipRule:"evenodd"})})})}}]);

//# debugId=844840cd-885a-5be9-8232-50e0ec30c808

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/1176c482f07d2b2a35742b3bb4cadcc6d63f6b91/7996-09ad6376474cd490.min.js.map
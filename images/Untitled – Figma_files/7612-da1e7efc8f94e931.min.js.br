"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="092f6117-92d4-5852-acce-b5130cb0c9f3")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7612],{595346:(e,t,n)=>{n.d(t,{AR:()=>Y,A_:()=>F,DN:()=>v,E3:()=>S,FK:()=>h,Gv:()=>c,Hd:()=>o,JX:()=>K,Kl:()=>l,Mf:()=>_,Ng:()=>d,ON:()=>w,PP:()=>g,Pt:()=>N,QF:()=>W,Qu:()=>Q,S:()=>z,Ub:()=>f,Uj:()=>C,VA:()=>X,VN:()=>V,Wz:()=>k,Ye:()=>s,ZE:()=>B,bV:()=>P,bq:()=>D,cB:()=>U,d3:()=>L,dJ:()=>i,gC:()=>r,gD:()=>A,gP:()=>I,jT:()=>a,k8:()=>y,kb:()=>G,lX:()=>b,mH:()=>E,nN:()=>m,nZ:()=>M,oB:()=>u,q_:()=>x,sH:()=>T,x0:()=>O,xR:()=>p,yl:()=>R,zN:()=>H});let a="fd_browse_resource_modal--modalContainer--I03bg draggable_modal--positionedContainer--HdvZU",r="fd_browse_resource_modal--modalContainerPinAnimation--dBKwy fd_browse_resource_modal--modalContainer--I03bg draggable_modal--positionedContainer--HdvZU",l="fd_browse_resource_modal--slidingPaneContainer--sW-oK sliding_pane--slidingPaneContainer--RQkXf",o="fd_browse_resource_modal--slidingPaneContainerAdjustable--ge7kl sliding_pane--slidingPaneContainer--RQkXf",i="fd_browse_resource_modal--slidingPane--TqmkG sliding_pane--slidingPane--6OmDU",s="fd_browse_resource_modal--slidingPaneLeft--TOiZt sliding_pane--slidingPaneLeft--Wrfdy sliding_pane--slidingPane--6OmDU",c="fd_browse_resource_modal--backButton--S7dMz",d="fd_browse_resource_modal--tabHeader--edoDO",u="fd_browse_resource_modal--tabsContainer--v6cIk",m="fd_browse_resource_modal--tabClickTarget--QDM1e",_="fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd",p="fd_browse_resource_modal--selectedTab--u91ec fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd",g="fd_browse_resource_modal--searchBarContainer--Q2kZ7",E="fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg",f="fd_browse_resource_modal--searchBarAndFilterContainer--F1Wg8",v="fd_browse_resource_modal--searchBarContainerScrolled--2-lJE fd_browse_resource_modal--searchBarContainer--Q2kZ7",y="fd_browse_resource_modal--devHandoffSearchBarContainerScrolled--KosxI fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg",w="fd_browse_resource_modal--searchBar---bmO8",b="fd_browse_resource_modal--searchBarEmpty--8dNhE",h="fd_browse_resource_modal--searchBarDevHandoff--uuPW-",I="fd_browse_resource_modal--searchBarFilterButton--hQeym",N="fd_browse_resource_modal--filterButtonActive--8krHg",P="fd_browse_resource_modal--sectionHeader--a-cdT fd_browse_resource_modal--_sectionHeaderBase--dsvXv text--fontPos12--YsUAh text--_fontBase--QdLsd",T="fd_browse_resource_modal--sectionHeaderWithIcon--Tr-vS fd_browse_resource_modal--_sectionHeaderBase--dsvXv text--fontPos12--YsUAh text--_fontBase--QdLsd",k="fd_browse_resource_modal--horizontalDivider--H67hA",C="fd_browse_resource_modal--horizontalDividerLong--cQZ0n fd_browse_resource_modal--horizontalDivider--H67hA",x="fd_browse_resource_modal--mainViewHeader--AZpur",L="fd_browse_resource_modal--mainViewHeaderHeight--7TbQi",A="fd_browse_resource_modal--mainViewHeaderScrolled--RPI7X fd_browse_resource_modal--mainViewHeader--AZpur",R="fd_browse_resource_modal--mainViewSelectorTitle--TnoUK text--fontPos12--YsUAh text--_fontBase--QdLsd",D="fd_browse_resource_modal--mainViewSelectorChevron--P-lJ8",S="fd_browse_resource_modal--mainViewSelector--chQy5",B="fd_browse_resource_modal--mainViewSelectorTitleContainer--PITMQ",O="fd_browse_resource_modal--mainViewHeaderRightSide--hxfTP text--fontPos12--YsUAh text--_fontBase--QdLsd",M="fd_browse_resource_modal--viewExpandedCta--xrZpk text--fontPos12--YsUAh text--_fontBase--QdLsd",U="fd_browse_resource_modal--expandedViewHeader--uLZl5",G="fd_browse_resource_modal--left--si6Cj",F="fd_browse_resource_modal--expandedViewHeaderTitle--wG-j2 text--fontPos11--2LvXf text--_fontBase--QdLsd",V="fd_browse_resource_modal--close--G1pa0",W="fd_browse_resource_modal--expandedViewContainer--EvsBd",Q="fd_browse_resource_modal--communityLink--gI-Ei fd_browse_resource_modal--communityLinkBase---qAie text--fontPos12--YsUAh text--_fontBase--QdLsd",K="fd_browse_resource_modal--communityLinkIcon--gNQIW text--fontPos12--YsUAh text--_fontBase--QdLsd",H="fd_browse_resource_modal--emptySection--ANbkm text--fontPos12--YsUAh text--_fontBase--QdLsd",z="fd_browse_resource_modal--loadingSpinner--0IwJ9",X="fd_browse_resource_modal--subtitle--Rvd0d text--fontPos11--2LvXf text--_fontBase--QdLsd",Y="fd_browse_resource_modal--showAllSavedExtensionsButton--LDbiv text--fontPos12--YsUAh text--_fontBase--QdLsd"},480945:(e,t,n)=>{n.d(t,{H:()=>a});let a=n(411855).createContext({externalCommentScrollRef:null,onScrollToRatings:null})},432402:(e,t,n)=>{n.d(t,{s:()=>R});var a=n(411855),r=n(188507),l=n(927030),o=n(972640),i=n(343373),s=n(999538),c=n(427494),d=n(511002),u=n(459256),m=n(248082),_=n(698725),p=n(176160),g=n(351966),E=n(76265),f=n(366172),v=n(688656);function y({children:e}){let t=(0,E.t)("fullscreen_actions.expand-ui");return a.createElement(g.E,{className:"toggle_expanded_sidebar_button--button--brZmz",onClick:()=>f.Y5.triggerAction("toggle-sidebar",{source:"left_panel"}),"aria-label":t,recordingKey:"left-panel-island.toggle-minimize-ui",htmlAttributes:{"data-tooltip-type":v.Ib.TEXT,"data-tooltip":t,"data-tooltip-shortcut-key":"toggle-sidebar"}},e)}var w=n(42360),b=n(968903),h=n(345063),I=n(51594),N=n(6428),P=n(392789);function T(){let e=(0,N.qM)()?(0,E.t)("fullscreen_actions.expand-ui"):(0,E.t)("fullscreen_actions.minimize-ui");return a.createElement(I.J,{"aria-label":e,onClick:()=>f.Y5.triggerAction("toggle-sidebar",{source:"left_panel"}),recordingKey:"left-panel-island.toggle-minimize-ui",htmlAttributes:{"data-onboarding-key":P.ue,"data-tooltip":e,"data-tooltip-type":v.Ib.TEXT,"data-tooltip-shortcut-key":"toggle-sidebar"}},a.createElement(h.C,null))}function k(){return a.createElement("div",{className:"toggle_sidebars_icon_button--nonInteractiveContainer--OPLHV"},a.createElement(h.C,null))}function C(){let e=(0,p.q5)();return a.createElement(y,null,a.createElement("div",{className:"design_dev_handoff_collapsed_left_panel_toggle--fileName--3AMNd"},a.createElement(b.n,null)),e&&a.createElement(w.s,{openFile:e}),a.createElement(m.n8,null),a.createElement(k,null))}var x=n(462926),L=n(497092),A=n(352989);function R(){let e=(0,i.GS)(),t=(0,o.b)(),{isLeftPanelCollapsed:n}=(0,a.useContext)(d.t),l=(0,c.aV)(),s=(0,r.d4)(e=>e.mirror.appModel.showUi);return e&&!l&&s?a.createElement(x._,{isInsetEditor:t,isCollapsed:n},a.createElement(m.xG,null),n?a.createElement(C,null):a.createElement(D,null)):null}function D(){let e=(0,s.Zr)("toggle-sidebar"),t=(0,l.rW)()();return a.createElement("div",{className:"design_dev_handoff_left_panel_island--expandedIconSection--8-YFf"},a.createElement(m.n8,null),a.createElement(L.E,null),a.createElement(A.J,null),a.createElement(u.A,null),t&&a.createElement(_.$0,null),e&&a.createElement(T,null))}},626626:(e,t,n)=>{n.d(t,{U:()=>d});var a=n(411855),r=n(28819),l=n(623817),o=n(563192),i=n(76265),s=n(688656),c=n(275258);function d(e){let{Dropdown:t,toggleDropdown:n,dropdownTargetRef:d,isDropdownShown:u}=(0,c.B)("LAYERS_PANEL_DROPDOWN");return a.createElement(a.Fragment,null,a.createElement("div",{ref:d},a.createElement(r.d,{"aria-label":(0,i.t)("dev_handoff.code.options"),recordingKey:e.recordingKey,"aria-expanded":u,onClick:function(e){e.stopPropagation(),n()},htmlAttributes:{"data-tooltip":(0,i.t)("dev_handoff.code.options"),"data-tooltip-type":s.Ib.TEXT}},a.createElement(l.J,null))),a.createElement(t,{items:e.dropdownItems,showPoint:!0,lean:e.lean,recordingKey:o.Pt(e.recordingKey,"dropdown")}))}},106646:(e,t,n)=>{n.d(t,{A:()=>Q});var a=n(411855),r=n(188507),l=n(32257),o=n(138225),i=n(190952),s=n(712830),c=n(263159);let d=(0,a.memo)(function(e){return(0,c.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,c.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5V8h10v-.5a.5.5 0 0 0-.5-.5m.5 2H7v7.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5zM7.5 6A1.5 1.5 0 0 0 6 7.5v9A1.5 1.5 0 0 0 7.5 18h9a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 16.5 6zm7 7a1 1 0 0 0-.486-.857l-2.5-1.5A1 1 0 0 0 10 11.5v3a1 1 0 0 0 1.515.857l2.5-1.5A1 1 0 0 0 14.5 13m-1.972-.583L13.5 13l-.972.583L12 13.9l-1 .6v-3l1 .6z",clipRule:"evenodd"})})});var u=n(805014),m=n(851169),_=n(629019),p=n.n(_),g=n(875877),E=n(746643),f=n(563192),v=n(653798),y=n(453956),w=n(132939),b=n(76265),h=n(7842),I=n(809596),N=n(72411),P=n(366172),T=n(923219),k=n(965636),C=n(427494),x=n(176160),L=n(952122),A=n(509732),R=n(688656),D=n(738402),S=n(495118),B=n(98551),O=n(501717),M=n(933174),U=n(76237),G=n(457272),F=n(812717),V=n(953663);function W({selected:e,hasFocus:t,flowItemsCount:n,item:r,index:c,hasFile:m,fileKey:_,fileProtoUrl:g,isDragging:E,viewOnly:v,dispatch:y,onMouseDown:N,onMouseMove:P,onMouseUp:T,renamingStartingPointNodeId:k,setRenamingStartingPointNodeId:C,submitRename:x,selectFlowRowAndSetToEditName:D,recordingKey:S}){return a.createElement(B.e,{selected:e&&t,singletonRow:n<=1,dragging:E,onMouseDown:N,onMouseMove:P,onMouseUp:T,onDoubleClick:()=>{var e;return e=r.nodeID,void(v||k===e||(C(e),u.X3B.centerViewportOnNodeIfNecessary(e)))},className:"prototype_flows_panel--flowRow--pqvyi",recordingKey:f.Pt(S,"draggableRow"),key:r.nodeID,"data-testid":"prototype-flow-panel-row"},!v&&k&&k===r.nodeID?a.createElement(M.m,{defaultValue:r.prototypeStartingPoint.name||"",submitRename:e=>x(r.nodeID,e),recordingKey:f.Pt(S,"startingPointNameInput"),shouldListenForTabKeyboardEvent:n>1,onTabKeyboardEvent:e=>D(e?c-1:c+1),className:"prototype_flows_panel--startingPointNameInput--fH7vx prototype_starting_point_panel--startingPointNameInput--uR8GY raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t"}):a.createElement(U.JU,{className:"prototype_flows_panel--flowName--kg1JF"},r.prototypeStartingPoint.name),k!==r.nodeID&&a.createElement("div",{className:p()(["prototype_flows_panel--panelInfoContainer--pVsR6","prototype_flows_panel--fadeOutOnTitleUnhover--G4xPQ"])},a.createElement(l.o,{display:"contents",eventListeners:["onMouseDown"]},a.createElement(o.K,{onClick:()=>{var e;return e=r.nodeID,void u.glU.selectInstances(e,!u.X3B.isNodeVisibleInViewport(e))},"aria-label":(0,b.t)("proto.flows_panel.select_frame"),htmlAttributes:{"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,b.t)("proto.flows_panel.select_frame")}},a.createElement(w.U,{svg:V.A,fallbackSvg:V.A},a.createElement(i.A,null))),a.createElement(o.K,{disabled:!m,onClick:()=>(function(e){let t=u.X3B.currentDeviceType(),n=(0,A.vp)({scalingInfo:{viewportScalingMode:(0,L.qb)(t),contentScalingMode:(0,L.Rv)(t)},nodeId:void 0,startingPointNodeId:e,showHotspots:void 0});y(h.lW({stringToCopy:`${g}${n}`}))})(r.nodeID),"aria-label":(0,b.t)("proto.flows_panel.copy_link"),htmlAttributes:{"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,b.t)("proto.flows_panel.copy_link")}},a.createElement(w.U,{svg:F.A,fallbackSvg:F.A},a.createElement(s.r,null))),a.createElement(o.K,{disabled:!_,onClick:function(){y((0,I.K)({fileKey:_,startingPointNodeId:r.nodeID,shouldOpenAtStartingPoint:!0,source:"properties_panel"}))},"aria-label":(0,b.t)("proto.flows_panel.preview"),htmlAttributes:{"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,b.t)("proto.flows_panel.preview")}},a.createElement(w.U,{svg:G.A,fallbackSvg:G.A},a.createElement(d,null))))))}let Q=function(e){let t=(0,k.kl)("prototypeStartingPointsInfo"),n=(0,r.d4)(x.sS)||"",l=(0,x.q5)(),o=(0,x.Cq)({useSinatraType:!0}),i=(0,r.d4)(e=>e.mirror.appModel.currentSelectedProperty),s=(0,C.eY)(),c=(0,D.ks)(),[d,_]=a.useState(null),p=(0,r.wA)(),w=c||e.viewOnly,h=(0,r.d4)(e=>e.mirror.appModel.prototypeCanvasUiVisible&&w),I=(0,T._W)(t,[]),{collapsedInspectionPanelAtom:L,collapseEnabled:A}=(0,S.QZ)("prototype_flows"),[R,B]=(0,g.useAtom)(L),M=a.useCallback(()=>{B(!R)},[B,R]);if(a.useEffect(()=>{o||(0,v.x1)("prototyping","No file available in flows panel",{fileKey:n})},[o,n]),!t||c&&0===(I=I.filter(e=>s.get(e.nodeID)?.visible)).length)return null;function G(e){let t=e;e>=I.length?t=0:e<0&&(t=I.length-1),P.Y5.updateAppModel({currentSelectedProperty:{type:u.rrT.PROTOTOTYPE_STARTING_POINT,indices:[t]}}),_(I[t].nodeID)}function F(e,t){_(null),t&&m.l7.user("update-prototype-starting-point-name",()=>{u.glU.updatePrototypeStartingPointName(e,t)})}return a.createElement(y.k,{name:"prototype_flows_panel"},a.createElement(U.Zk,{className:R?"noBottomPadding":void 0},a.createElement(O.h6,{title:(0,b.t)("proto.flows"),stylePickerShown:{isShown:!1},addProperty:E.lQ,hideAddButton:!0,shouldIgnoreKeyboardEventDuplicateProperty:!0,renderProperty:(e,t,r,l,i,s,c,u,m)=>a.createElement(W,{key:t,flowItemsCount:I.length,item:e,renamingStartingPointNodeId:d,index:t,hasFocus:i,isDragging:l,selected:r,hasFile:!!o,fileProtoUrl:o?.prototype_url,fileKey:n,viewOnly:!!w,onMouseDown:c,onMouseMove:u,onMouseUp:m,submitRename:F,setRenamingStartingPointNodeId:_,dispatch:p,selectFlowRowAndSetToEditName:G,recordingKey:f.Pt("prototypeFlowsList",t)}),openFile:l,onChange:e=>{if(0===e.length||0===i.indices.length)return;let t=I.filter((e,t)=>i.indices.includes(t)).map(e=>e.nodeID);if(0===t.length)return;let n=I[i.indices[0]].nodeID,a=e[0].nodeID===n?"":e[e.findIndex(e=>e.nodeID===n)-1].nodeID,r=I[i.indices[i.indices.length-1]].nodeID,l=e[e.length-1].nodeID===r?"":e[e.findIndex(e=>e.nodeID===r)+1].nodeID;m.l7.user("change-starting-points",()=>{u.glU.insertPrototypeStartingPointsBetween(t,a,l)})},currentSelectedProperty:i,selectedPropertyType:u.rrT.PROTOTOTYPE_STARTING_POINT,propertyList:I,reversed:!1,pickerShown:null,dispatch:p,onDeleteProperty:w?()=>{}:e=>{let t=I.filter((t,n)=>e.has(n)).map(e=>e.nodeID);t.length>0&&u.glU.deletePrototypeStartingPoints(t)},showVisibleFlowsButton:w,toggleVisibleFlows:e=>{A&&e.stopPropagation(),N.VU.get("toggle-prototyping-info","panel")(e)},visibleFlowsButtonChecked:h,recordingKey:"prototypeFlowsList",isPanelBodyCollapsedAtom:A?L:void 0,onHeaderClick:A?M:void 0})))}},933174:(e,t,n)=>{n.d(t,{m:()=>j,A:()=>X});var a=n(411855),r=n(188507),l=n(138225),o=n(351966),i=n(32257),s=n(263159);let c=(0,a.memo)(function(e){return(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,s.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15 17H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1m-6 1h6a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2m1.5-9a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm-.5 2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5m.5 1.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})});var d=n(662068),u=n(712830),m=n(640978),_=n(805014),p=n(851169),g=n(108982),E=n(666308),f=n(563192),v=n(132939),y=n(76265),w=n(7842),b=n(343373),h=n(366172),I=n(923219),N=n(965636),P=n(176160),T=n(952122),k=n(509732),C=n(688656),x=n(103785),L=n(991458),A=n(631769),R=n(612724),D=n(663844),S=n(754807),B=n(991944),O=n(488527);let M=function({startingPoint:e,closeModal:t,parentPanelRectObject:n,recordingKey:r}){let[l,o]=(0,a.useState)(e?.description||""),i=(0,a.useRef)(l);(0,a.useEffect)(()=>{i.current=l},[l]);let s=(0,x.uQ)(),c=(0,a.useRef)(s),d=(0,a.useCallback)(()=>{p.l7.user("submit-prototype-starting-point-description",()=>{c.current&&_.glU.updatePrototypeStartingPointDescription(c.current,i.current)}),t()},[t]);(0,a.useEffect)(()=>d,[d]);let u=(0,a.useCallback)(()=>{p.l7.user("blur-prototype-starting-point-description",()=>{c.current&&_.glU.updatePrototypeStartingPointDescription(c.current,i.current)})},[]);return(0,a.useEffect)(()=>(window.addEventListener("blur",u),window.addEventListener("focus",u),()=>{window.removeEventListener("blur",u),window.removeEventListener("focus",u)}),[u]),a.createElement(B.vx,{title:(0,y.t)("proto.starting_point_modal.description"),initialPosition:new R.Mi(n.x-(0,L.hG)(O.M0y),n.y),headerSize:"small",truncateTitleText:!0,dragHeaderOnly:!0,onClose:d},a.createElement(D.P,{className:"prototype_starting_point_modal--contentContainer--PuTTf"},a.createElement("div",{className:"prototype_starting_point_modal--richTextEditor--Ru95M",dir:"auto"},a.createElement(A.X,{fallback:null,errorFallback:null,placeholder:(0,y.t)("proto.starting_point_modal.enter_a_description_for_your_starting_point"),defaultValue:l,onInputChange:e=>{S.wt.reportEditAction("change-flow-description"),o(e)},onBlur:u,mountBehavior:"focusAndSelectAll",toolbarOptions:"minimal",toolbarProps:{"aria-label":(0,y.t)("proto.starting_point_modal.description")}}))))};var U=n(76237),G=n(442133);let F="prototype_starting_point_panel--rightIconButton--ID6ZQ";var V=n(812717),W=n(819785),Q=n(695038),K=n(943131),H=n(501191),z=n(660164);function X(e){let[t,n]=(0,N.lJ)("prototypeStartingPoint"),s=(0,b.GS)(),E=!!(0,g.R)(Y),[L,A]=(0,a.useState)(!1),[R,D]=(0,a.useState)(I.E7(t)?.name||""),[S,B]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=I.E7(t)?.name||"";e!==R&&(D(e),!R&&S&&(B(!1),A(!0)))},[t,R,S]);let[O,X]=(0,a.useState)(!1),Z=(0,a.useRef)(null),$=(0,a.useRef)(null),q=(0,x.Tv)(),J=(0,P.Cq)({useSinatraType:!0}),ee=!!J,et=J?.prototype_url,en=(0,r.d4)(e=>e.mirror.appModel.urlNodeId),ea=(0,r.wA)(),er=(0,a.useCallback)(()=>{X(!1)},[]);(0,a.useEffect)(()=>{er()},[er,q]);let el=p.nc.user("delete-prototype-starting-points",()=>{q&&_.glU.deletePrototypeStartingPoints(q)}),eo=f.rf(f.Pt(e.recordingKey,"minusButton"),"click",e=>{el()}),ei=f.rf(f.Pt(e.recordingKey,"nameLabel"),"click",e=>{A(!0)});(0,a.useEffect)(()=>(h.Y5.fromFullscreen.on("focusPrototypeStartingPointPanelToEditName",ei),()=>{h.Y5.fromFullscreen.removeListener("focusPrototypeStartingPointPanelToEditName",ei)}),[ei]);let es=f.rf(e.recordingKey,"click",e=>{B(!0),p.l7.user("add-prototype-starting-point",()=>{h.Y5.triggerAction("add-prototype-starting-point")})}),ec=q&&q.length>1,ed=(0,I._W)(t,{}),eu=a.createElement(a.Fragment,null,L?a.createElement(j,{defaultValue:R,submitRename:function(e){A(!1),e?n({name:e,description:(0,I.E7)(t)?I.E7(t)?.description:"",position:(0,I.E7)(t)?I.E7(t)?.position:""}):D(I.E7(t)?.name||"")},recordingKey:f.Pt(e,"startingPointNameInput")}):a.createElement(U.JU,{className:"prototype_starting_point_panel--startingPointNameLabel--Mipwi raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",onClick:ei},R)),em=a.createElement(l.K,{onClick:()=>{X(!0)},htmlAttributes:{"data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,y.t)("proto.starting_points.edit_description")},"aria-label":(0,y.t)("proto.starting_points.edit_description"),recordingKey:f.Pt(e,"startingPointPanelIcon")},a.createElement(v.U,{svg:K.A,fallbackSvg:K.A},a.createElement(c,null))),e_=s?a.createElement(G.DE,{ref:$,label:null,input:eu,icon:em}):a.createElement(U.fI,{ref:Z},eu,a.createElement("span",{className:F},em));return E?a.createElement(U.Zk,null,a.createElement(U.fI,{className:"prototype_starting_point_panel--flowStartingPointRow--Ajjk1 collapsible_property_panel--panelTitleRowOuter--i5K0R"},a.createElement(U.xw,{extended:!0},(0,y.tx)("proto.starting_points.flow_starting_point_title")),a.createElement("span",{className:"prototype_starting_point_panel--fadeOutOnUnhover--6-o5B"},!ec&&a.createElement(l.K,{disabled:!ee,onClick:()=>(function(e){let t=_.X3B.currentDeviceType(),n=(0,k.vp)({scalingInfo:{viewportScalingMode:(0,T.qb)(t),contentScalingMode:(0,T.Rv)(t)},nodeId:void 0,startingPointNodeId:e,showHotspots:void 0});ea(w.lW({stringToCopy:`${et}${n}`}))})(en),htmlAttributes:{"data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,y.t)("proto.flows_panel.copy_link")},"aria-label":(0,y.t)("proto.flows_panel.copy_link")},a.createElement(v.U,{svg:V.A,fallbackSvg:V.A},a.createElement(u.r,null)))),a.createElement("span",{className:F},a.createElement(l.K,{onClick:eo,htmlAttributes:{"data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,y.t)("proto.starting_points.delete_starting_point_tooltip")},"aria-label":(0,y.t)("proto.starting_points.delete_starting_point_tooltip")},a.createElement(v.U,{svg:W.A,fallbackSvg:Q.A},a.createElement(m.O,null))))),ec?a.createElement(U.fI,null,a.createElement(U.UZ,{className:"prototype_starting_point_panel--mixedNoteLabel--gzISu draggable_list--label--Gcpsi"},(0,y.tx)("proto.starting_points.click_to_remove_mixed_content"))):a.createElement(a.Fragment,null,e_,O&&a.createElement(M,{startingPoint:ed,closeModal:er,parentPanelRectObject:(s?$.current:Z.current).getBoundingClientRect(),recordingKey:f.Pt(e,"startingPointDescriptionModal")}))):ec?null:a.createElement(U.Zk,null,a.createElement(U.fI,{className:"prototype_starting_point_panel--panelHeaderRowFaded--pswTv draggable_list--panelHeaderRowFaded--kETRR"},a.createElement(U.xw,{faded:!0,extended:!0},a.createElement(o.E,{className:"prototype_starting_point_panel--panelTitleText--F75N0 draggable_list--panelTitleText--SwKez",onClick:es,recordingKey:f.Pt(e,"panelTitle")},(0,y.tx)("proto.starting_points.flow_starting_point_title"))),a.createElement("span",{className:"prototype_starting_point_panel--addButton--M-0Xy draggable_list--addButton--D0q--"},a.createElement(i.o,{eventListeners:["onMouseDown"],display:"contents"},a.createElement(l.K,{onClick:es,htmlAttributes:{"data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,y.t)("proto.starting_points.add_starting_point_tooltip")},"aria-label":(0,y.t)("proto.starting_points.add_starting_point_tooltip"),recordingKey:f.Pt(e,"plusButton")},a.createElement(v.U,{svg:H.A,fallbackSvg:z.A},a.createElement(d.e,null)))))))}function Y(e){return e.mirror.selectionProperties.prototypeStartingPoint}function j(e){let[t,n]=a.useState(e.defaultValue),r=f.AF(e.recordingKey,"change",e=>{n(e.target.value)}),l=f.iQ(e.recordingKey,"blur",p.nc.user("rename-starting-point",()=>e.submitRename(t))),o=f.v_(e.recordingKey,"keydown",n=>{"Enter"===n.key?e.submitRename(t):"Escape"===n.key?e.submitRename(""):e.shouldListenForTabKeyboardEvent&&n.keyCode===E.Uz.TAB&&(n.preventDefault(),e.submitRename(t),e.onTabKeyboardEvent?.(n.shiftKey))});return a.createElement(i.o,{eventListeners:["onMouseDown"],display:"contents"},a.createElement("input",{autoFocus:!0,type:"text",dir:"auto",className:e.className||"prototype_starting_point_panel--startingPointNameInput--uR8GY raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",defaultValue:e.defaultValue,placeholder:"Flow name",onChange:r,onBlur:l,onKeyDown:o,onFocus:e=>{e.currentTarget.select()}}))}},597459:(e,t,n)=>{let a,r,l,o;n.d(t,{k:()=>D});var i=n(411855),s=n(188507),c=n(747579),d=n(139879),u=n(612724),m=n(677840),_=n(747327),p=n(939380),g=n(47795),E=n(315145),f=n(140835),v=n(73041),y=n(72411),w=n(58590),b=n(125682),h=n(914077),I=n(708862),N=n(450129),P=n(276769),T=n(176384),k=n(831723),C=n(748940),x=n(991944),L=n(72114),A=n(280937),R=n(595346);function D(){let e=(0,s.d4)(e=>e.universalInsertModal),t=(0,s.d4)(e=>e.mirror.appModel.showUi),{fdPreviewResource:n,initialFdView:D,initialFdResourceTab:B}=e,O=n?.type,{activeTab:M,setCurrentViewOrTab:U,currentView:G}=function(){let{initialFdResourceTab:e,initialFdView:t}=(0,s.d4)(e=>e.universalInsertModal),[n,a]=i.useState(e||r||C.s.COMPONENT),[c,d]=i.useState(e===C.s.PLUGIN&&t||l||"recents_and_saved"),[u,m]=i.useState(e===C.s.WIDGET&&t||o||"recents_and_saved"),_=i.useCallback(e=>{e===C.s.PLUGIN?l=c:e===C.s.WIDGET&&(o=u)},[c,u]),p=n===C.s.PLUGIN?c:u,g=i.useCallback(({newView:e,newTab:t})=>{let l=t===C.s.PLUGIN?c:t===C.s.WIDGET?u:void 0;e&&l!==e&&(_(n),(t||n)===C.s.PLUGIN?d(e):(t||n)===C.s.WIDGET&&m(e)),t&&n!==t&&(_(n),r=n,a(t))},[n,c,u,_]);return i.useEffect(()=>{g({newView:t,newTab:e})},[e,t]),i.useEffect(()=>{r=n,_(n)},[n,_]),i.useMemo(()=>({activeTab:n,currentView:p,setCurrentViewOrTab:g}),[n,p,g])}(),F="ui3"===(0,c.DP)().version,V=(0,s.wA)(),W=i.useRef(null),[Q]=i.useState(D?"":a||"");i.useEffect(()=>{(0,m.YQ)({id:"figma-inserts-opened"}),(0,m.YQ)({id:N.ko})},[]);let K=(0,P.Au)();i.useEffect(()=>{K&&V(E.eo())}),i.useEffect(()=>{a=Q},[Q]),i.useEffect(()=>V(p.aq()),[V]),(0,d.IT)((0,_.se)()),(0,d.IT)((0,_.fd)()),i.useEffect(()=>{U({newTab:O||B})},[B,O]);let H=(0,v.E3)(),[z,X]=i.useState(),Y=F?k.tS:k.Zv;(0,w.J$)(e.pinned===I.t.NOT_PINNED,W,Y);let j=(0,k.CK)(),Z=(0,k.CG)(),{bounds:$,showLeftPinBound:q,setShowLeftPinBound:J,shouldSnapToPosition:ee,setPinned:et}=(0,T.C)(S,X,e.pinned,j,Z,e.showing),en=(0,w.LR)(),ea=(0,b.Um)(),er=i.useCallback(e=>{e.stopPropagation(),ea&&V(g.oB())},[V,ea]),el=i.useMemo(()=>({activeTab:M,viewResource:e=>{V(E.IN({fdPreviewResource:e}))},closeResource:()=>{V(E.IN({fdPreviewResource:void 0}))},closeModal:en,pinModal:et,setCurrentViewOrTab:U,currentView:G}),[M,en,et,V,U,G]),eo=i.useCallback(e=>{y.VU.get("set-tool-default","toolbar")(),V(E.jy({pinned:I.t.PINNED})),er(e)},[V,er]),ei=i.useCallback(()=>{q&&et()},[q,et]);if(!e.showing)return null;let es={height:"auto",overflow:"hidden"};return(e.pinned!==I.t.NOT_PINNED||F||(es.borderTopLeftRadius="0px"),H===h.nT.DevHandoff)?null:i.createElement(f.fu,{name:"universal-insert"},e.pinned===I.t.PINNED&&q&&i.createElement("div",{className:A.k,style:{left:j.x,top:j.y,width:k.AN}}),i.createElement(k.B0.Provider,{value:el},i.createElement(x.vx,{initialPosition:z||new u.Mi(e.initialX,e.initialY),initialWidth:k.AN,bounds:$,onEnterBound:()=>{F||J(!0)},onLeaveBound:()=>{J(!1)},canResetPosition:ee,onClose:en,onDragStart:eo,onDragEnd:ei,minTopMargin:t?void 0:0,onClick:er,ref:W,containerClassName:e.pinned===I.t.PINNED_AND_DOCKED_LEFT?R.gC:R.jT,frameStyle:es},i.createElement(L.z,null))))}function S(){return{x:-k.AN,y:0,width:2*k.AN+k.wR,height:window.innerHeight}}},72114:(e,t,n)=>{let a;n.d(t,{z:()=>t1});var r=n(411855),l=n(188507),o=n(28819),i=n(263159);let s=(0,r.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12 5a7 7 0 1 0 0 14 7 7 0 0 0 0-14M8 9.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m1.5 2a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm1 2.5a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})});var c=n(738958),d=n(629019),u=n.n(d),m=n(126049),_=n(875877),p=n(666308),g=n(918091),E=n(153767),f=n(663844),v=n(14489),y=n(132939),w=n(265851),b=n(76265),h=n(837982),I=n(17100),N=n(47795),P=n(140835),T=n(648735),k=n(761263),C=n(58590),x=n(125682),L=n(661137),A=n(733050),R=n(492366),D=n(688656),S=n(738402),B=n(929717),O=n(453783),M=n(601256),U=n(569969),G=n(788843),F=n(926295),V=n(827473),W=n(34062),Q=n(392695),K=n(568631),H=n(460168),z=n(831723);function X(e){let t=(0,l.wA)(),n=(0,l.Pj)(),a=(0,l.d4)(H.m),o=(0,l.d4)(e=>(0,W.CX)(e)),i=r.useRef(null),s=(0,z.NF)(z.gC+z.Kr+z.Ix);r.useEffect(()=>{(async()=>{if(t((0,G.zK)()),o){await V.NW;let{fileVersion:e}=n.getState();e&&!(0,V.El)("INVALID-FILE-KEY-SHOULD-BE-REMOVED",o)&&n.dispatch((0,F.n)({libraryKey:o}))}})()},[t,o,n]);let[c,d]=r.useState(!1);return r.createElement("div",null,e.header,r.createElement("div",{"data-not-draggable":!0},r.createElement(K.LL,{selectedItems:a?[a]:[],scrollContainerHeight:s,recordingKey:"componentInsert",toggleGridViewButton:r.createElement(K.Cc,{isSwapPicker:!1}),pickerType:U.Zl.RESOURCE_INSERT_MODAL,searchBarRef:i,query:e.query,setQuery:e.setQuery,drilldownPickerContextValue:{listItemHeight:48,leafListHeight:48,listItemThumbnailStylesOverride:{height:40,width:40,borderRadius:2}},isSearching:c,setIsSearching:d,entrypointForLogging:null}),r.createElement(Q.Q,null)))}var Y=n(138225),j=n(623817),Z=n(311332),$=n(841962),q=n(631769),J=n(621847),ee=n(299009),et=n(693565),en=n(818630),ea=n(548478),er=n(488130),el=n(973393),eo=n(15092),ei=n(467593),es=n(471174);function ec({resource:e}){let t=(0,l.d4)(e=>e.authedActiveCommunityProfile),n=(0,eo.iZ)(),a=(0,el.ej)(e);return r.createElement("div",{className:ei.I4,"data-not-draggable":!0},r.createElement("div",{className:ei.QW},r.createElement(et.B,{svg:es.A})),r.createElement("div",{className:ei.hI},(0,b.tx)("community.buyer.payment_for_this_resource_is_moving_over_to_figma")),r.createElement("div",{className:ei.JL},r.createElement("button",{onClick:()=>{(0,er.mG)(e,R.aL.INSERTS,n.id,t?.id),a()}},(0,b.tx)("community.buyer.update_payment"))))}var ed=n(926603);n(65014),n(931654),n(480945);var eu=n(968525);n(991944),n(874360),n(303596);let em="rating_stats_data--averageStar--YdqTY";function e_({isHovered:e}){return r.createElement("span",{className:em,"aria-label":(0,b.t)("community.detail_view.full_star")},r.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M7.77304 0.492166C7.86239 0.298449 8.13771 0.298448 8.22707 0.492166L10.2571 4.89337L15.0703 5.46405C15.2821 5.48917 15.3672 5.75101 15.2106 5.89585L11.6521 9.18663L12.5967 13.9405C12.6383 14.1498 12.4155 14.3116 12.2294 14.2074L8.00005 11.84L3.77072 14.2074C3.58457 14.3116 3.36183 14.1498 3.4034 13.9405L4.348 9.18663L0.789528 5.89586C0.632903 5.75101 0.717982 5.48917 0.929831 5.46405L5.74296 4.89337L7.77304 0.492166Z",fill:e?"var(--color-text-tooltip-warning, $yellow_400_light)":"var(--color-multiplayeryellow, $multiplayerYellow)"})))}function ep(){return r.createElement("span",{className:em,"aria-label":(0,b.t)("community.detail_view.empty_star")},r.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.58344 5.82031L7.99995 2.38731L6.41646 5.82031L2.66216 6.26545L5.43781 8.83229L4.70102 12.5404L7.99995 10.6938L11.2989 12.5404L10.5621 8.83229L13.3377 6.26545L9.58344 5.82031ZM15.0702 5.46385C15.282 5.48897 15.3671 5.75081 15.2105 5.89566L11.652 9.18643L12.5966 13.9403C12.6382 14.1496 12.4154 14.3114 12.2293 14.2072L7.99995 11.8398L3.77062 14.2072C3.58447 14.3114 3.36173 14.1496 3.4033 13.9403L4.3479 9.18643L0.789429 5.89566C0.632804 5.75081 0.717883 5.48897 0.929731 5.46385L5.74286 4.89318L7.77294 0.491968C7.86229 0.29825 8.13762 0.29825 8.22697 0.491968L10.257 4.89318L15.0702 5.46385Z",fill:"var(--color-text-secondary,$figmaFGBlack5)"})))}let eg="rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd";var eE=n(610253),ef=n(13033);function ev({onSelect:e,existingRating:t,showDescriptions:n=!1,useBigStars:a=!0,isOptional:l=!1,disabled:o=!1,disabledTooltip:i}){let[s,c]=(0,r.useState)(0),[d,u]=(0,r.useState)(0),[m,_]=(0,r.useState)(!1),p=[(0,b.t)("community.star_ratings.i_really_dont_like_it"),(0,b.t)("community.star_ratings.i_dont_like_it"),(0,b.t)("community.star_ratings.its_okay"),(0,b.t)("community.star_ratings.i_like_it"),(0,b.t)("community.star_ratings.i_love_it")];(0,r.useEffect)(()=>{void 0===t||s||(c(t),u(t))},[t,s]);let g=a?r.createElement(et.B,{svg:eE.A,className:"rating_star_selector--emptyStar--P-7A1 rating_star_selector--star--ML342","aria-label":(0,b.t)("community.detail_view.empty_star"),dataTestId:"empty-star-big"}):r.createElement(ep,null),E=a?r.createElement(et.B,{svg:ef.A,className:m?"rating_star_selector--fullStarHover--JKgxp rating_star_selector--star--ML342":"rating_star_selector--fullStar--rCWKu rating_star_selector--star--ML342","aria-label":(0,b.t)("community.detail_view.full_star"),dataTestId:"full-star-big"}):r.createElement(e_,{isHovered:m}),f=e=>{o||(c(e+1),_(!0))},v=t=>{o||(t+1===d&&l?(u(0),e(0)):(u(t+1),e(t+1)))};return r.createElement("div",{className:a?"rating_star_selector--starInfoContainer--aW-rA":"rating_star_selector--starInfoContainerBigStars--y3zus rating_star_selector--starInfoContainer--aW-rA"},r.createElement("div",{className:o?"rating_star_selector--starContainerDisabled--7bMU6 rating_star_selector--starContainer--1y2ZB":"rating_star_selector--starContainer--1y2ZB",onMouseLeave:()=>{o||d===s||c(d)},"data-tooltip-type":o?D.Ib.TEXT:void 0,"data-tooltip":o?i:void 0,"data-tooltip-show-immediately":!0,"data-testid":"rating-tooltip"},(()=>{let e=[];for(let t=0;t<5;t++)e.push(r.createElement("span",{className:w.s.flex.$,key:`rating-star-${t}}`,onMouseEnter:()=>f(t),onMouseLeave:()=>_(!1),onClick:()=>v(t),role:"button",tabIndex:0},t<s?E:g));return e})()),r.createElement("div",{className:"rating_star_selector--ratingDescriptionVisibility--XvJs2"},r.createElement(r.Fragment,null,n&&r.createElement("div",{className:a?"rating_star_selector--ratingDescriptionBigStars--WKSN3 rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd":eg},p[s-1]),l&&0===s&&r.createElement("div",{className:eg},o?(0,b.tx)("community.rating_review.ratings_not_available"):(0,b.tx)("community.rating_review.optional")))))}function ey({userRating:e,isInsertsModal:t,disabled:n,disabledTooltip:a,openRatingModal:l}){return r.createElement("div",{className:t?"rating_stats_view--ratingSelectorContainerInsertsModal--yPaAm rating_stats_view--ratingSelectorContainer--9lgDS":"rating_stats_view--ratingSelectorContainer--9lgDS"},r.createElement("div",{className:t?"rating_stats_view--ratingCTAInsertsModal--lcpeW text--fontPos11--2LvXf text--_fontBase--QdLsd":"rating_stats_view--ratingCTA--Wa386 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e?r.createElement("div",{onClick:()=>l(e?.ratingValue),className:"rating_stats_view--editRating---V3U6",role:"button",tabIndex:0},(0,b.tx)("community.detail_view.edit_rating")):(0,b.tx)("community.detail_view.leave_a_rating")),r.createElement(ev,{onSelect:l,existingRating:e?.ratingValue,disabled:n,disabledTooltip:a}))}var ew=n(419378),eb=n(66683),eh=n(747327),eI=n(7842),eN=n(216491),eP=n(375900),eT=n(985814),ek=n(409504),eC=n(968656),ex=n(263352),eL=n(712204),eA=n(190263),eR=n(754648),eD=n(2408),eS=n(252679),eB=n(482868),eO=n(647173);function eM({onBack:e,text:t}){let n=(0,S.ks)();return r.createElement("div",{className:"browse_resource_modal_tab_header--header--MQQB5 text--fontPos11--2LvXf text--_fontBase--QdLsd"},r.createElement("div",{className:"browse_resource_modal_tab_header--left--UnLHb"},r.createElement(et.B,{"data-not-draggable":!0,svg:eO.A,className:"browse_resource_modal_tab_header--backButton--xXsNC fd_browse_resource_modal--backButton--S7dMz",onClick:e}),t),!n&&r.createElement(z.Ex,{containerClassName:"browse_resource_modal_tab_header--close--9Fu6o"}))}var eU=n(616845),eG=n(748940),eF=n(336272),eV=n(961576);let eW="detail_view--ratingSelectorContainer--zbvCM";var eQ=n(270951),eK=n(362679),eH=n(13556),ez=n(949554);function eX(e){let t=(0,l.wA)(),{activeTab:n}=(0,z.IT)(),a=n===eG.s.PLUGIN,o=(0,T.cW)(),i=(0,T.ZT)(),s=(a?o:i)[e.resourceId];return(r.useEffect(()=>{s&&s.community_publishers||t(eh.af({id:e.resourceId,resourceType:a?R.bD.PLUGIN:R.bD.WIDGET}))},[t,s,e.resourceId,a]),s)?r.createElement(eY,{resourceId:e.resourceId,resource:s}):r.createElement("div",{className:w.s.flex.wFull.borderBox.justifyCenter.pt32.$},r.createElement(ee.kt,{size:"medium"}))}function eY(e){let{resource:t}=e,{activeTab:n}=(0,z.IT)(),a=n===eG.s.PLUGIN,o=(0,l.wA)(),i=(0,S.ks)(),s=(0,T.JI)(),c=(0,x.Um)(),d=(0,z.NF)((0,eT.T)()?z.gC+64:z.gC),m=(0,l.d4)(e=>e.authedUsers),_=(0,el.EO)(t),p=(0,el.lt)(t),g=(0,el.gn)(t),E=(0,ew.QQ)(p),v=(0,l.d4)(e=>e.authedActiveCommunityProfile),h=(0,eB.b)(),I=(0,L.sZ)(),k=(0,T.ll)(),C=(0,T.U6)(),A=Object.values((0,T.$1)()).find(t=>String(t.plugin_id)===e.resourceId),{dragState:B,onInsertableResourcePointerDown:O}=(0,eC.P)({resource:(0,ex.uF)(t),clickToInsert_DEPRECATED:!0,afterSuccessfulInsert:h,triggeredFrom:"universal-insert"}),{canRate:M=!1}={},U=r.useCallback(()=>{o(eI.Pv({url:a?(0,eA.ab)(e.resourceId):(0,eA.ox)(e.resourceId),extensionType:a?"plugin":"widget"}))},[o,e.resourceId,a]),G=a&&c?.type===eU.yW&&c.data.pluginId===e.resourceId&&c.data.targetRect,F=r.useCallback(t=>{t.stopPropagation(),a&&(G?o(N.oB()):o(N.j7({type:eU.yW,data:{pluginId:e.resourceId,targetRect:t.currentTarget.getBoundingClientRect()}})))},[a,G,o,e.resourceId]),V=r.useCallback(()=>{o(N.oB())},[o]);if(!t)return null;t.community_resource_payment=p;let W=(0,ex.uF)(t),Q=(0,el.Zk)(v,m,t),K=(0,ex.og)({canAssociatedUserPurchaseThisResource:Q,resource:t}),H=!A&&(0,eP.XV)({org:I,extension:t,allowlistedExtensions:a?k:C}),X=a?r.createElement(eV.tO,{pluginId:e.resourceId,usePrimaryButtonStyles:!0,dropdownShownType:"DROPDOWN_TYPE_RUN_PLUGIN_SUBMENU_DETAIL_VIEW"}):r.createElement(eV.GJ,{widgetId:e.resourceId});return r.createElement(P.fu,{name:"detail",properties:{resourceId:e.resourceId,resourceType:a?R.bD.PLUGIN:R.bD.WIDGET,isMonetized:(0,R.m3)(t),editorType:"figma"}},r.createElement(ej,null),r.createElement(f.P,{height:d,onScroll:V,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},r.createElement("div",{className:"detail_view--contentContainer--nSBG8"},r.createElement("div",{className:(0,eT.T)()?"detail_view--contentContainerVsCode--QO3Ls":void 0},r.createElement("div",{className:(0,eT.T)()?"detail_view--coverImageContainerVsCode--4UADZ detail_view--coverImageContainer--2AZZG detail_view--coverImageContainer--2AZZG":"detail_view--coverImageContainer--2AZZG"},r.createElement("img",{className:u()([(0,eT.T)()?"detail_view--coverImageVsCode--ZtGDB":a?"detail_view--coverImageNotDraggable--5PzSB detail_view--coverImage---G-H1":"detail_view--coverImage---G-H1",w.s.if((0,eT.T)(),w.s.bRadius5).$]),src:W.redirect_cover_image_url||"",alt:`${W.name}`,onPointerDown:e=>!a&&O(e)}),r.createElement(ek.E,{dragState:B})),g&&r.createElement(eD.cu,null),K&&!g&&!E&&r.createElement(ec,{resource:t}),r.createElement("div",{className:(0,eT.T)()?"detail_view--infoContainerVsCode--g6DeF detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd":"detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd"},r.createElement("div",{className:"detail_view--metadataContainer--GSTfB"},r.createElement("div",{className:"detail_view--name--oJZlL text--fontPos14--OL9Hp text--_fontBase--QdLsd"},r.createElement("div",{className:"detail_view--nameString--D7CH4 ellipsis--ellipsis--Tjyfa"},W.name),(0,en.$3)({resource:t,height:"16",validBadges:[en.op.PURCHASED],authedActiveCommunityProfile:v})||r.createElement(ea.I,{badges:t.badges,height:"16",hideTooltip:!0})),r.createElement("div",{className:"detail_view--publishers--EXOAA text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},(t.community_publishers?.accepted||[]).length>0&&r.createElement(r.Fragment,null,r.createElement(eL.Ro,{entity:t.community_publishers?.accepted[0],size:16,className:"detail_view--avatar--trwkE"}),(0,z.kB)(t)))),(!i||s)&&r.createElement("div",{className:"detail_view--actionsRow--sAwdf"},r.createElement("div",{className:"detail_view--ctaContainer--Z5uKT"},_&&!(0,$.kc)().community_hub_admin_reviewer?r.createElement(ed.I,{resource:t,context:R.aL.INSERTS,payment:p}):H?r.createElement(eF.s,{version:W,isPlugin:a}):X),r.createElement("div",{className:w.s.ml8.flex.itemsCenter.$},r.createElement(eS._W,{resourceId:e.resourceId,resourceType:a?R.vt.PLUGIN:R.vt.WIDGET,parentView:eS.nN.DETAIL})),i&&(0,ex.Th)(W,I,k)?r.createElement(r.Fragment,null,r.createElement("div",{className:"detail_view--dotsContainer--JdwCt"},r.createElement(Y.K,{"aria-label":(0,b.t)("universal_insert.more_options"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,b.t)("universal_insert.more_options")},onClick:F},r.createElement(y.U,{className:"detail_view--moreOptionsIcon--najos",svg:eK.A,fallbackSvg:eH.A},r.createElement(j.J,null)))),G&&r.createElement(eU.Gq,{resourceId:e.resourceId,plugin:W,resourceType:a?R.vt.PLUGIN:R.vt.WIDGET})):r.createElement(Y.K,{"aria-label":(0,b.t)("universal_insert.copy_link"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,b.t)("universal_insert.copy_link")},onClick:U},r.createElement(y.U,{className:"detail_view--copyLinkIcon--PFKiL",svg:ez.A},r.createElement(Z.W,null)))),r.createElement("div",{className:"detail_view--horizontalDivider--nZbBH"}),r.createElement("div",{className:"detail_view--resourceUsageDetails--dKwea"},r.createElement(eR.f,{resource:t})),r.createElement("div",{className:eW},M&&(0,eb.Ul)(t)&&r.createElement("div",{className:eW},r.createElement(ey,{openRatingModal:e=>{},isInsertsModal:!0}))),r.createElement(q.R,{fallback:null,errorFallback:null,value:W.description})))),r.createElement(eZ,{resourceId:e.resourceId})))}function ej(){let{closeResource:e,activeTab:t}=(0,z.IT)();return r.createElement(eM,{onBack:e,text:t===eG.s.PLUGIN?(0,b.tx)("universal_insert.plugin"):(0,b.tx)("universal_insert.widget")})}function eZ(e){let{activeTab:t}=(0,z.IT)(),n=t===eG.s.PLUGIN?"plugin":"widget",{href:a,onClick:l}=(0,eN.y)(`/community/${n}/${e.resourceId}`);return r.createElement(r.Fragment,null,r.createElement(J.Ph,{className:"detail_view--communityLink--e-ixL fd_browse_resource_modal--communityLinkBase---qAie text--fontPos11--2LvXf text--_fontBase--QdLsd",href:a,onClick:l,target:"_blank",trackingEventName:"Inserts Detail View - Browse More From Community",trusted:!0},r.createElement(et.B,{svg:eQ.A,className:"detail_view--communityLinkIcon--FPd8D fd_browse_resource_modal--communityLinkIcon--gNQIW text--fontPos12--YsUAh text--_fontBase--QdLsd"}),(0,b.tx)("universal_insert.see_more_details_in_community")),r.createElement("div",{className:"detail_view--communityLinkSpacer--2-rRR"}))}var e$=n(648800),eq=n(326612),eJ=n(520244),e0=n(662068),e1=n(766794),e5=n(777840),e2=n(233950),e6=n(885354),e4=n(908341);function e7({isDesktop:e}){return r.createElement(e5.Y1,{direction:"vertical",verticalAlignItems:"center",horizontalAlignItems:"center"},r.createElement(et.B,{svg:e4.A,className:w.s.colorIconSecondary.pb24.$,autosize:!0,height:(0,eT.T)()?"64px":void 0}),r.createElement(e3,{isDesktop:e}))}function e3({isDesktop:e}){let t={learnMoreLink:r.createElement(eq.N,{href:"https://www.figma.com/plugin-docs",newTab:!0},(0,b.tx)("dev_handoff.inspect_panel.learn_more_plugin_development"))};return r.createElement(r.Fragment,null,e?r.createElement(r.Fragment,null,r.createElement("div",{className:w.s.alignCenter.$},r.createElement(e2.E,{color:"secondary"},(0,b.tx)("dev_handoff.inspect_panel.create_first_here")),r.createElement("br",null),r.createElement(e2.E,null,(0,b.tx)("dev_handoff.inspect_panel.learn_more_link",t))),r.createElement(e8,null)):r.createElement("div",{className:w.s.alignCenter.$},r.createElement(e2.E,{color:"secondary"},(0,b.tx)("dev_handoff.inspect_panel.inspect_plugins_go_here")),r.createElement("br",null),r.createElement(e2.E,{color:"secondary"},(0,b.tx)("dev_handoff.inspect_panel.use_desktop_to_develop")),r.createElement("br",null),r.createElement(e2.E,null,(0,b.tx)("dev_handoff.inspect_panel.learn_more_link",t))))}function e8(){let e=(0,l.wA)(),t=(0,x.Um)(),n=t?.type===e6.kt,a=r.useCallback(t=>{n?e(N.oB()):e(N.j7({type:e6.kt,data:{targetRect:t.currentTarget?.getBoundingClientRect()}}))},[e,n]);return r.createElement("div",{className:w.s.pt16.$},r.createElement(eJ.$n,{onClick:a,variant:"secondary"},r.createElement(e5.Y1,{direction:"horizontal",verticalAlignItems:"center",padding:0},r.createElement(e0.e,{className:w.s.pr8.$}),r.createElement(e2.E,null,(0,b.tx)("dev_handoff.inspect_panel.new_plugin")),r.createElement(e1.r,null))),n&&r.createElement("div",null,r.createElement(e6.Pq,{resourceType:R.bD.PLUGIN})))}var e9=n(800491);function te(){let{activeTab:e}=(0,z.IT)(),t=(0,S.$A)((0,l.d4)(e=>e.selectedView)),n=(0,T.nl)({allowNonVsCodePluginsInVsCode:!0}),a=(0,T.yQ)(),o=e===eG.s.WIDGET,i=o?a:n,s=(0,A.M)(),c=(0,T.sp)(o);return s&&(Object.keys(i).length>0||c.length>0)?r.createElement(P.fu,{name:"Development"},Object.keys(i).map((e,t)=>r.createElement(eV.ff,{resourceId:e,key:e,type:eV.R7.DEVELOPMENT,keyboardNavigationPath:[z.B6,t]})),c.map((e,t)=>r.createElement(eV.ff,{resourceId:e.id,key:e.id,type:eV.R7.DEVELOPMENT_MISSING_LOCAL,keyboardNavigationPath:[z.B6,Object.keys(i).length+t]}))):t?r.createElement(e$.Y,{horizontalAlignItems:"center",verticalAlignItems:(0,eT.T)()?"start":"center"},r.createElement(e7,{isDesktop:!!s})):r.createElement(e9.W,{isWidget:o})}var tt=n(552650),tn=n(146061),ta=n(798361),tr=n(595346);function tl(){let{activeTab:e}=(0,z.IT)(),t=(0,ta.BI)(),n=(0,S.ks)(),{href:a,onClick:l}=(0,eN.y)(`/community/${e===eG.s.PLUGIN?"plugins":"widgets/figma_design"}${n?"/devmode":""}`);return t?.shouldOptimizeForIpadApp?null:r.createElement(J.Ph,{className:tr.Qu,href:a,onClick:l,trackingEventName:"Inserts - Browse More From Community",target:"_blank",trusted:!0},r.createElement(et.B,{svg:eQ.A,className:tr.JX}),(0,b.tx)("universal_insert.browse_more_in_community"))}function to({viewType:e,onBackPress:t}){let n=(0,z.NF)(z.gC);return r.createElement(r.Fragment,null,r.createElement(ti,{viewType:e,onBackPress:t}),r.createElement(f.P,{height:n,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},r.createElement(ts,{viewType:e}),r.createElement(tl,null)))}function ti({viewType:e,onBackPress:t}){let n;let{activeTab:a}=(0,z.IT)(),l=a===eG.s.PLUGIN;return n=e===eG.Y.ORG_PRIVATE_EXPANDED_LIST?l?(0,b.tx)("universal_insert.all_internal_plugins"):(0,b.tx)("universal_insert.all_internal_widgets"):l?(0,b.tx)("universal_insert.all_approved_plugins"):(0,b.tx)("universal_insert.all_approved_widgets"),r.createElement("div",{className:tr.cB},r.createElement("div",{className:tr.kb},r.createElement(et.B,{svg:eO.A,className:tr.Gv,onClick:t,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()}),r.createElement("div",{className:tr.A_},n)),r.createElement(z.Ex,{containerClassName:tr.VN}))}function ts({viewType:e}){let t;let{activeTab:n}=(0,z.IT)(),a=(0,tn.h)("plugin"),l=(0,tn.h)("widget"),o=n===eG.s.WIDGET,i=(0,T.ll)(),s=(0,tt.bT)(Object.values(i)),c=(0,T.U6)(),d=o?Object.keys(c):s.map(e=>e.plugin_id);return t=e===eG.Y.ORG_PRIVATE_EXPANDED_LIST?r.createElement(r.Fragment,null,(o?l:a).map((e,t)=>r.createElement(eV.ff,{resourceId:e.plugin_id,type:eV.R7.ORG_PRIVATE,key:e.plugin_id,keyboardNavigationPath:[z.B6,t]}))):r.createElement(r.Fragment,null,d.map((e,t)=>r.createElement(eV.ff,{resourceId:e,type:eV.R7.COMMUNITY,key:e,keyboardNavigationPath:[z.B6,t]}))),r.createElement("div",{className:tr.QF},t)}var tc=n(377203),td=n(108982),tu=n(22293),tm=n(176160),t_=n(314540),tp=n(354465),tg=n(940795),tE=n(269049),tf=n(7395),tv=n(163119),ty=n(26096);function tw(e){let t=(0,tg.b_)({migrationGroup:tE.L.GROUP_1,component:"OrgView"});return t?r.createElement(tb,{currentOrgId:t,viewExpandedList:e.viewExpandedList}):r.createElement(ee.kt,{className:tr.S})}function tb(e){let{currentOrgId:t,viewExpandedList:n}=e,a=(0,tg.yN)({migrationGroup:tE.L.GROUP_1,component:"_OrgView",legacy:(e,t)=>t?.plugins_whitelist_enforced??!1,migrated:(e,t)=>t?.pluginsWhitelistEnforced??!1}),o=(0,tg.yN)({migrationGroup:tE.L.GROUP_1,component:"_OrgView",legacy:(e,t)=>t?.widgets_whitelist_enforced??!1,migrated:(e,t)=>t?.widgetsWhitelistEnforced??!1}),{activeTab:i}=(0,z.IT)(),s=i===eG.s.WIDGET,c=(0,tn.h)("plugin"),d=(0,tt.bT)(c),u=(0,tn.h)("widget"),m=s?u:d,_=m.length>0,p=s?o:a,g=s?tf.n_:tf.Gb,E=(0,tm.tS)(),f=(0,tp.mC)(g(t,E)),v=(0,T.ll)(),w=(0,tt.bT)(Object.values(v)).map(e=>e.plugin_id),h=(0,T.U6)(),I=r.useMemo(()=>Object.keys(h),[h]),N=(0,T.Be)(),k=(0,T.pR)(N),C=k.orgWidgets,x=k.orgPlugins,L=(0,l.d4)(e=>e.orgUsersByOrgId[t][e.user.id]?.permission===t_._D.GUEST),A=(0,td.R)(e=>L?{}:(0,ex.Qt)((0,ex.i8)(Object.values(e.publishedPlugins)),t)),R=r.useMemo(()=>{let e=Object.values(x).filter(e=>!A[e.plugin_id]);return a&&(e=e.filter(e=>v[e.plugin_id])),e.sort(T.YW)},[v,a,A,x]),S=(0,tt.Ol)(R);S=(0,tt.bT)(S);let B=r.useMemo(()=>S.map(e=>e.plugin_id),[S]),O=r.useMemo(()=>w.filter(e=>!x[e]),[w,x]),M=r.useMemo(()=>{let e=Object.values(C).filter(e=>!(0,tu.s7)(e,t));return o&&(e=e.filter(e=>h[e.plugin_id])),e.sort(T.YW)},[C,o,t,h]),U=(0,tt.Ol)(M),G=r.useMemo(()=>U.map(e=>e.plugin_id),[U]),F=r.useMemo(()=>I.filter(e=>!C[e]),[I,C]),V=s?F:O,W=s?G:B,Q=_?r.createElement(r.Fragment,null,(p?m.slice(0,z.Xo):m).map((e,t)=>r.createElement(eV.ff,{key:e.plugin_id,resourceId:e.plugin_id,type:eV.R7.ORG_PRIVATE,keyboardNavigationPath:[z.B6,t]})),p&&m.length>z.Xo&&r.createElement(th,{viewExpandedList:()=>{n(eG.Y.ORG_PRIVATE_EXPANDED_LIST)},ctaText:s?(0,b.t)("universal_insert.all_internal_widgets"):(0,b.t)("universal_insert.all_internal_plugins")})):r.createElement("div",{className:tr.zN},s?(0,b.tx)("universal_insert.no_internal_widgets"):(0,b.tx)("universal_insert.no_internal_plugins")),{href:K,onClick:H}=(0,eN.y)(`/community/${s?"widgets":"plugins"}`),X=p&&r.createElement(r.Fragment,null,r.createElement("div",{className:tr.Uj}),r.createElement("div",{className:tr.sH},(0,b.tx)("universal_insert.approved_from_figma_community"),r.createElement("a",{href:K,target:"_blank"},r.createElement(Y.K,{onClick:H,"aria-label":(0,b.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,b.t)("universal_insert.go_to_community")}},r.createElement(y.U,{svg:ty.A},r.createElement(tc.N,null))))),f&&0===V.length?r.createElement("div",{className:tr.zN},s?(0,b.tx)("universal_insert.organization_has_no_approved_community_widgets"):(0,b.tx)("universal_insert.organization_has_no_approved_community_plugins")):r.createElement(r.Fragment,null,(_?V.slice(0,5):V).map((e,t)=>r.createElement(eV.ff,{key:e,resourceId:e,type:eV.R7.COMMUNITY,keyboardNavigationPath:[z.B6+1,t]})),_&&V.length>5&&r.createElement(th,{viewExpandedList:()=>{n(eG.Y.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:s?(0,b.t)("universal_insert.all_approved_widgets"):(0,b.t)("universal_insert.all_approved_plugins")}))),j=W.length>0?r.createElement(r.Fragment,null,r.createElement("div",{className:tr.Wz}),r.createElement("div",{className:tr.sH},(0,b.tx)("universal_insert.saved_from_community"),r.createElement("a",{href:K,target:"_blank"},r.createElement(Y.K,{"aria-label":(0,b.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,b.t)("universal_insert.go_to_community")},onClick:H},r.createElement(y.U,{svg:ty.A},r.createElement(tc.N,null))))),W.map((e,t)=>r.createElement(eV.ff,{key:e,resourceId:e,type:eV.R7.SAVED,keyboardNavigationPath:[z.B6+2,t]}))):r.createElement(r.Fragment,null,r.createElement("div",{className:tr.Wz}),r.createElement("div",{className:tr.sH},(0,b.tx)("universal_insert.saved_from_community"),r.createElement("a",{href:K,target:"_blank"},r.createElement(Y.K,{onClick:H,"aria-label":(0,b.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,b.t)("universal_insert.go_to_community")}},r.createElement(y.U,{svg:ty.A},r.createElement(tc.N,null))))),r.createElement("div",{className:tr.zN},s?(0,b.tx)("universal_insert.no_saved_widgets"):(0,b.tx)("universal_insert.no_saved_plugins")));return r.createElement(P.fu,{name:"Org"},Q,j,X)}function th(e){return r.createElement("button",{onClick:e.viewExpandedList,className:tr.nZ},r.createElement("span",null,e.ctaText),r.createElement(et.B,{svg:tv.A}))}var tI=n(461832),tN=n(834825),tP=n(217950),tT=n(277154),tk=n(550479),tC=n(437256),tx=n(773991),tL=n(184748),tA=n(140924),tR=n(709701),tD=n(599110),tS=n(91247);function tB({viewExpandedList:e,keyboardNavigationOffset:t,shortDivider:n}){let{activeTab:a}=(0,z.IT)(),o=a===eG.s.WIDGET,i=(0,S.ks)(),s=(0,_.useAtomValue)(I.RB)&&i,[c,d]=r.useState(!1),{allowListIsLoading:u,allowList:m,hasAllowList:p,hasPluginAllowList:g,hasWidgetAllowList:E,publicExtensionsDisallowed:f}=(0,T.jA)(o),v=(0,tt.bT)(Object.values(m)).map(e=>e.plugin_id),[w,h]=r.useState(null),[N,k]=r.useState(null),[C,x]=r.useState(!1),[L,A]=r.useState(!1),R=(0,l.wA)();r.useEffect(()=>{let e=c!==s;if(g||f||!e&&null!==w||C)return;x(!0);let t={sort_by:tS.eg.POPULAR};i?(t.editor_type=tR.k.Editors.DEV_MODE,s&&(t.capability_type=tA.h.CODEGEN)):t.editor_type=tR.k.Editors.FIGMA,(0,tL.nC)().filter(t).browse(tD.L.BrowseResourceTypes.PLUGINS).then(e=>{let t=e.data.meta.resources;R(eh.Qi({publishedPlugins:t,src:"Figma inserts modal recents view"})),h((0,tN.k4)(t)),x(!1),d(s)}).catch(e=>{(0,tk.$D)(tP.e.COMMUNITY,e),x(!1),h([]),d(s)})},[R,w,C,i,p,g,f,s,c]),r.useEffect(()=>{E||null!==N||L||(A(!0),(0,tL.nC)().filter({sort_by:tS.eg.POPULAR,editor_type:tR.k.Editors.FIGMA}).browse(tD.L.BrowseResourceTypes.WIDGETS).then(e=>{let t=e.data.meta.resources;R(eh.Qi({publishedPlugins:t,src:"Figma inserts modal recents view"})),k((0,tN.k4)(t)),A(!1)}).catch(e=>{(0,tk.$D)(tP.e.COMMUNITY,e),A(!1),k([])}))},[R,N,L,p,E]);let B=o?N:w,O=o?L:C,{href:M,onClick:U}=(0,eN.y)(`/community/${a===eG.s.PLUGIN?"plugins":"widgets"}`);return r.useMemo(()=>{if(p?u:O)return r.createElement(ee.kt,{className:tr.S});if(!(null!==B)&&!p)return null;let l=p?v:B.map(e=>e.id);return f||0===l.length?null:r.createElement(P.fu,{name:p?"Approved plugins":"From Community"},r.createElement("div",{className:n?tr.Wz:tr.Uj}),r.createElement("div",{className:tr.sH,"data-onboarding-key":"community_feed_header"},p?(0,b.tx)("universal_insert.approved_from_figma_community"):(0,b.tx)("universal_insert.from_community"),r.createElement("a",{href:M,target:"_blank"},r.createElement(tx.Me,{onClick:U,"aria-label":(0,b.t)("universal_insert.go_to_community"),htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,b.t)("universal_insert.go_to_community")},trackingEventName:"Inserts - Browse More From Community Icon Button"},r.createElement(y.U,{svg:ty.A},r.createElement(tc.N,null))))),l.slice(0,p?5:10).map((e,n)=>r.createElement(eV.ff,{key:e,type:eV.R7.COMMUNITY,resourceId:e,keyboardNavigationPath:[t,n]})),p&&l.length>5?r.createElement(th,{viewExpandedList:()=>{e(eG.Y.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:o?(0,b.t)("universal_insert.all_approved_widgets"):(0,b.t)("universal_insert.all_approved_plugins")}):r.createElement(r.Fragment,null,r.createElement(tl,null),r.createElement(tC.a,{onIntersectionChange:e=>{e.isIntersecting&&(0,tT.sx)("community_feed_bottom_reached",{location:"inserts",resourceType:a})}})))},[p,u,O,B,v,f,M,U,o,e,t,n,a])}var tO=n(866415);function tM(e){let t=(0,T.Be)(),n=t.widgets,a=Object.values(t.plugins).sort(T.YW).filter(e=>"user"===e.installed_by),l=(0,tO.xx)(()=>a),o=(0,tt.Ol)(l()),i=(o=(0,tt.bT)(o)).map(e=>e.plugin_id),s=Object.values(n).sort(T.YW).filter(e=>"user"===e.installed_by),c=(0,tO.xx)(()=>s),d=(0,tt.Ol)(c()).map(e=>e.plugin_id);return r.useMemo(()=>e?d:i,[i,d,e])}function tU(e){let t=tM(e.isWidget),[n,a]=r.useState(!1),l=r.useMemo(()=>n?t:t.slice(0,40),[t,n]);return 0===t.length?null:r.createElement(P.fu,{name:"saved"},r.createElement("div",{className:tr.VA},(0,b.tx)("universal_insert.saved")),l.map((e,t)=>r.createElement(eV.ff,{key:e,resourceId:e,type:eV.R7.SAVED,keyboardNavigationPath:[z.B6+1,t]})),t.length>40&&!n&&r.createElement("button",{className:tr.AR,onClick:()=>a(!0)},e.isWidget?(0,b.tx)("universal_insert.show_all_saved_widgets"):(0,b.tx)("universal_insert.show_all_saved_plugins")))}function tG(e){let{activeTab:t}=(0,z.IT)(),n=(0,T.op)(),a=(0,T.qr)(),l=(0,T.Be)(),o=t===eG.s.WIDGET,{filterByAllowlist:i,filterByPublicResourcesAllowed:s}=(0,T.jA)(o),c=o?a:n;c=s(c=i(c)),c=(0,tt.bT)(c);let d=r.useMemo(()=>c.length>0?r.createElement(P.fu,{name:"recents"},r.createElement("div",{className:tr.VA,"data-onboarding-key":"recents_plugin_header"},(0,b.tx)("universal_insert.recents")),c.slice(0,z.Zm).map((e,t)=>r.createElement(eV.ff,{key:e.plugin_id,type:eV.R7.RECENT,resourceId:e.plugin_id,keyboardNavigationPath:[z.B6,t]}))):r.createElement(r.Fragment,null),[c]),u=tM(o);if(!0===l.loaded&&c.length+u.length===0)return r.createElement(P.fu,{name:"Recents and saved"},r.createElement(tI.H,{isWidget:t===eG.s.WIDGET}),r.createElement(tB,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:z.B6+2}));let m=r.createElement(tU,{isWidget:t===eG.s.WIDGET}),_=c.length>0,p=u.length>0;return r.createElement(P.fu,{name:"Recents and saved"},d,p&&_&&r.createElement("div",{className:tr.Wz}),m,r.createElement(tB,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:z.B6+2}))}var tF=n(32050);function tV(){let e=r.useRef({}),t=r.useCallback((t,n)=>{e.current[t]=n},[]),n=r.useCallback(t=>e.current[t]||[],[]),a=r.useCallback(t=>t in e.current,[]),l=r.useCallback(()=>{e.current={}},[]);return r.useMemo(()=>({setResultsForQuery:t,getResultsForQuery:n,hasQueryResultsCached:a,resetCache:l}),[t,n,a,l])}var tW=n(484930);let tQ=new tW.Ef([],{...eu.Pk,keys:eu.Kj}),tK=new tW.Ef([],{...eu.Pk,keys:[{name:"name",weight:1}]}),tH=new tW.Ef([],{...eu.Pk,keys:eu.Kj});function tz(e){let t;let{activeTab:n}=(0,z.IT)(),a=n===eG.s.WIDGET,l=(0,S.ks)(),o=e.query.trim(),{pluginServerSideSearch:i,pluginSearchIsLoading:s,pluginSearchHasResolved:c}=(0,T.I5)(tR.k.Editors.FIGMA),{widgetServerSideSearch:d,widgetSearchIsLoading:u,widgetSearchHasResolved:m}=(0,T.SG)(tR.k.Editors.FIGMA),{getResultsForQuery:_,setResultsForQuery:p,resetCache:g}=tV(),E=_(o),{getResultsForQuery:v,setResultsForQuery:y,resetCache:w}=tV(),h=v(o),{getResultsForQuery:I,setResultsForQuery:N,hasQueryResultsCached:C,resetCache:x}=tV(),A=tX(I(o),[E]),{getResultsForQuery:R,setResultsForQuery:D,hasQueryResultsCached:B,resetCache:O}=tV(),M=tX(R(o),[E,A]),{getResultsForQuery:U,setResultsForQuery:G,resetCache:F}=tV(),V=tX(U(o),[E,A,M]),{getResultsForQuery:W,setResultsForQuery:Q,hasQueryResultsCached:K,resetCache:H}=tV(),X=tX(W(o),[E,A,M,V]);r.useEffect(()=>{g(),w(),x(),O(),H(),F()},[a,F,H,x,w,O,g]);let Y=(0,T.Tg)(),j=(0,T.qr)(),Z=(0,T.$1)(),$=(0,T.yQ)(),q=(0,T.ll)(),J=(0,T.U6)(),et=(0,T.cW)(),en=(0,T.ZT)(),ea=(0,tF.k9)(()=>Object.keys(a?J:q).map(e=>(0,ex.uF)((a?en:et)[e])),[q,en,et,J,a]);r.useEffect(()=>{tQ.set(Object.values(a?j:Y))},[Y,j,a]),r.useEffect(()=>{tK.set(Object.values(a?$:Z))},[Z,$,a]),r.useEffect(()=>{tH.set(ea)},[ea]);let er=(0,L.sZ)(),{serverSideSearch:el,isLoading:eo,hasResolved:ei}=n===eG.s.PLUGIN?{serverSideSearch:i,isLoading:s,hasResolved:c}:{serverSideSearch:d,isLoading:u,hasResolved:m};r.useEffect(()=>{""!==o&&(K(o)&&B(o)&&C(o)||el(o,e=>Q(o,e),e=>D(o,e),e=>N(o,e)),p(o,tQ.search(o).map(e=>e.plugin_id)),y(o,tK.search(o).map(e=>e.localFileId.toString())),G(o,tH.search(o).map(e=>e.plugin_id)))},[o,K,C,B,el,G,Q,N,y,D,p]);let es=k.z4.getIsExtension()?z.gC+z.Ix:l?z.gC+z.Ix+z.ff+8:z.gC+z.Ix,ec=(0,z.NF)(es),ed=l?tr.mH:tr.PP,eu=l?tr.k8:tr.DN,em=r.useCallback(t=>{let n=e.searchContainerRef.current;n&&(t>0?n.className=eu:n.className=ed)},[e.searchContainerRef,eu,ed]);r.useEffect(()=>()=>{e.searchContainerRef.current&&(e.searchContainerRef.current.className=ed)},[]);let e_=er&&(a?er.widgets_whitelist_enforced:er.plugins_whitelist_enforced),ep=(!e_||(0,eP.Cs)({org:er,isWidget:a}))&&X&&X.length>0&&ei,eg=e_&&V.length>0,eE=er&&M&&M.length>0&&ei,ef=A.length>0&&ei,ev=E.length>0,ey=h.length>0,ew=ei&&(ep||eE||ev||ef||eg);if(ei&&!(ev||ey||ew))t=r.createElement("div",{className:tr.zN},a?e_?(0,b.tx)("universal_insert.no_widgets_matching_query_for_allowlist",{orgName:er.name,query:o}):(0,b.tx)("universal_insert.no_widgets_matching_query",{query:o}):e_?(0,b.tx)("universal_insert.no_plugins_matching_query_for_allowlist",{orgName:er.name,query:o}):(0,b.tx)("universal_insert.no_plugins_matching_query",{query:o}));else{t=[];let e=z.B6;ev&&(t.push(r.createElement(tj,{sectionHeader:(0,b.tx)("universal_insert.recents"),ids:E,type:eV.R7.RECENT,sectionIdx:e,key:eV.R7.RECENT})),e+=1),ey&&(t.push(r.createElement(tj,{sectionHeader:(0,b.tx)("universal_insert.development"),ids:h,type:eV.R7.DEVELOPMENT,key:eV.R7.DEVELOPMENT,sectionIdx:e})),e+=1),eo&&!ew?t.push(r.createElement(ee.kt,{className:tr.S,key:"Loading spinner"})):(ef&&(t.push(r.createElement(tj,{sectionHeader:(0,b.tx)("universal_insert.saved"),ids:A,type:eV.R7.SAVED,key:eV.R7.SAVED,sectionIdx:e})),e+=1),eE&&(t.push(r.createElement(tj,{sectionHeader:er.name,ids:M,type:eV.R7.ORG_PRIVATE,key:eV.R7.ORG_PRIVATE,sectionIdx:e})),e+=1),eg&&(t.push(r.createElement(tj,{sectionHeader:(0,b.tx)("universal_insert.approved_from_figma_community"),ids:V,type:eV.R7.COMMUNITY,key:`ALLOW_LIST_${eV.R7.COMMUNITY}`,sectionIdx:e})),e+=1),ep&&t.push(r.createElement(tj,{sectionHeader:(0,b.tx)("universal_insert.from_community"),ids:X,type:eV.R7.COMMUNITY,key:eV.R7.COMMUNITY,sectionIdx:e})))}return r.createElement(f.P,{height:ec,onScroll:em,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},r.createElement(P.fu,{name:"search",properties:{searchQuery:o,resourceType:n}},t))}let tX=(e,t)=>{let n={};return t.forEach(e=>e.forEach(e=>n[e]=!0)),e.filter(e=>!n[e])};function tY(e){return r.createElement("div",{onClick:()=>(0,tT.sx)("search result clicked"),"data-testid":`browse-resource-tile-${e.resourceId}`},r.createElement(eV.ff,{resourceId:e.resourceId,type:e.type,keyboardNavigationPath:e.keyboardNavigationPath,shouldFocusFirstItem:!0}))}function tj(e){return r.createElement(r.Fragment,null,e.sectionIdx>z.B6&&r.createElement("div",{className:tr.Wz}),r.createElement("div",{className:tr.bV},e.sectionHeader),e.ids.map((t,n)=>r.createElement(tY,{key:t,resourceId:t,type:e.type,keyboardNavigationPath:[e.sectionIdx,n]})))}let tZ=()=>({[eG.s.COMPONENT]:{label:(0,b.t)("universal_insert.components"),tab:eG.s.COMPONENT,resourceTypeLabel:(0,b.t)("universal_insert.components_resource_type")},[eG.s.PLUGIN]:{label:(0,b.t)("community.view_bar.plugins"),tab:eG.s.PLUGIN,resourceTypeLabel:(0,b.t)("community.plugins.plugin")},[eG.s.WIDGET]:{label:(0,b.t)("community.view_bar.widgets"),tab:eG.s.WIDGET,resourceTypeLabel:(0,b.t)("community.plugins.widget")}});function t$(e){let t=tr.Mf,n=tr.xR;return r.createElement("div",{className:tr.Ng},r.createElement("div",{className:tr.oB},Object.entries(tZ()).map(([a,l])=>r.createElement("div",{className:tr.nN,key:a,role:"tab",onClick:()=>e.onClick(l.tab),onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),tabIndex:0},r.createElement("div",{key:a,"data-label":l.label,className:l.tab===e.selectedTab?n:t},l.label)))),r.createElement(z.Ex,{containerClassName:tr.VN}))}var tq=n(120118),tJ=n(115381);let t0="BROWSE_CODEGEN_FILTER_DROPDOWN";function t1(){let e=r.useRef(null),{fdPreviewResource:t,initialFdView:n}=(0,l.d4)(e=>e.universalInsertModal),o=t?.id,{activeTab:i,currentView:s,setCurrentViewOrTab:c}=(0,z.IT)(),d=(0,S.ks)(),u=d?tr.Hd:tr.Kl,[m,_]=r.useState(n?"":a||""),[g,f]=r.useState(eG.Y.MAIN),v=r.useCallback(e=>{if(e.keyCode===p.Uz.ENTER){let t=e.target,n=t?.querySelector("button");n?.click()}},[]);r.useEffect(()=>{a=m},[m]);let y=r.useMemo(()=>r.createElement(t$,{onClick:t=>{t!==eG.s.COMPONENT&&e.current?.querySelector("input")?.focus(),c({newTab:t})},selectedTab:i}),[i,c]),w=r.useMemo(()=>{let t=d?tr.mH:tr.PP;return i===eG.s.COMPONENT?r.createElement(P.fu,{name:i},r.createElement(X,{header:y,query:m,setQuery:_})):r.createElement(P.fu,{name:i},!d&&y,r.createElement("div",{onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},r.createElement(E.dP,{onKeyDown:v},r.createElement("div",{className:t,ref:e},r.createElement(t5,{searchQuery:m,placeholder:i===eG.s.PLUGIN?(0,b.t)("universal_insert.search_all_plugins"):i===eG.s.WIDGET?(0,b.t)("universal_insert.search_all_widgets"):(0,b.t)("universal_insert.search_all_extensions"),setSearchQuery:_})),0===m.length&&r.createElement(t2,{viewExpandedList:f,currentView:s,setCurrentView:e=>c({newView:e})}),m.length>0&&r.createElement(tz,{query:m,searchContainerRef:e}))))},[i,v,m,d,y,s,c]),h=null;return o?h=r.createElement(eX,{resourceId:o}):(g===eG.Y.ORG_PRIVATE_EXPANDED_LIST||g===eG.Y.ORG_ALLOWLIST_EXPANDED_LIST)&&(h=r.createElement(E.dP,{onKeyDown:v},r.createElement(to,{viewType:g,onBackPress:()=>f(eG.Y.MAIN)}))),r.createElement("div",{className:u},r.createElement("div",{className:h?tr.Ye:tr.dJ},w),h&&r.createElement("div",{className:tr.dJ},h))}function t5({searchQuery:e,setSearchQuery:t,placeholder:n}){let a=(0,l.wA)(),{setKeyboardNavigationElement:i}=(0,E.M3)({id:"search",path:[z.np,0]}),d=(0,x.Um)(),p=d?.type===t0,f=r.useRef(null),[w,P]=(0,_.useAtom)(I.RB),T=w&&!p,k=(0,C.LR)(),L=r.useCallback(n=>"Escape"===n.key&&(e?t(""):k(),!0),[k,e,t]),A=(0,m.A)(e=>{e.length>0?a(h.Dy({entryPoint:"figma:inserts"})):a(h.ky()),t(e)},300);r.useEffect(()=>()=>{a(h.ky())},[a]);let R=r.useCallback(()=>{p?a(N.oB()):a(N.j7({type:t0}))},[a,p]),O=[];O.push(r.createElement(g.MM,{checked:w,onClick:()=>{P(!w),R()},role:"menuitemcheckbox"},(0,b.t)("dev_handoff.inspect_panel.search_bar_filter_codegen_option")));let M=(0,S.ks)(),U=r.createElement(v.IW,{focusOnMount:!M,selectTextOnMount:!M,className:u()(M?tr.FK:tr.ON,{[tr.lX]:""===e}),query:e,placeholder:n,clearSearch:()=>{a(h.ky()),t("")},onChange:A,isKeyDownHandled:L,hideXIcon:!e,ref:e=>i(e?.searchInput??null)});if(!M||e)return U;let G="dev-mode-codegen-filter-menu";return r.createElement("div",{className:tr.Ub},U,r.createElement("div",{className:tr.gP},r.createElement("div",{ref:f},r.createElement(o.d,{"aria-expanded":p,onClick:R,htmlAttributes:{"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,b.t)("dev_handoff.inspect_panel.search_bar_filter")},"aria-label":(0,b.t)("dev_handoff.inspect_panel.search_bar_filter"),"aria-haspopup":"menu","aria-controls":G},r.createElement(y.U,{svg:T?tJ.A:tq.A},T?r.createElement(s,{className:u()({[tr.Pt]:T})}):r.createElement(c.S,{className:u()({[tr.Pt]:T})}))))),p&&f.current&&r.createElement(B.Jz,{id:G,showPoint:!0,targetRect:f.current.getBoundingClientRect(),options:O,hideDropdown:R,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,autofocusPrevElementOnTab:!1,focusContainerOnMount:!0,propagateCloseClick:!0}))}function t2(e){let t=r.useRef(null),n=(0,S.ks)(),a=k.z4.getIsExtension()?z.Ix+z.gC+48:n?z.gC+z.Kr+z.Ix+z.ff:z.gC+z.Kr+z.Ix,{activeTab:o,currentView:i}=(0,z.IT)(),s=(0,z.NF)(a),c=r.useRef(null),d=(0,l.wA)(),m=r.useCallback(e=>{t.current&&(e>0?t.current.className=u()(tr.gD,tr.d3):t.current.className=u()(tr.q_,tr.d3),d(N.oB()))},[t,d]);r.useEffect(()=>{c.current?.scrollToTop()},[o,i]);let _=r.createElement(r.Fragment,null,r.createElement(t6,{currentView:e.currentView}),"recents_and_saved"===e.currentView&&r.createElement(tG,{viewExpandedList:e.viewExpandedList}),"development"===e.currentView&&r.createElement(te,null),"org"===e.currentView&&r.createElement(tw,{viewExpandedList:e.viewExpandedList}));return r.createElement("div",null,r.createElement("div",{className:u()(tr.q_,tr.d3),ref:t,"data-onboarding-key":"recents_and_saved_plugin_header"},r.createElement(t4,{currentView:e.currentView,onChange:e.setCurrentView}),"development"===e.currentView&&r.createElement("div",{className:tr.x0},r.createElement(M.n,{resourceType:o===eG.s.WIDGET?R.bD.WIDGET:R.bD.PLUGIN}))),r.createElement(f.P,{height:s,onScroll:m,innerClassName:n?w.s.hFull.$:"",ref:c},_))}function t6({currentView:e}){let{activeTab:t}=(0,z.IT)(),n=L.sZ()?.id,a=(0,T.f6)(),l=(0,T.wW)(),o=t===eG.s.WIDGET?l:a,i="org"===e?o.filter(e=>e.org_id&&e.org_id===n):o;return 0===i.length?null:r.createElement("div",null,i.map((e,t)=>r.createElement(eV.ff,{resourceId:e.id,key:e.id,type:eV.R7.INVITED,keyboardNavigationPath:[z.dQ,t]})),r.createElement("div",{className:tr.Wz}))}function t4(e){let t=(0,l.wA)(),n=(0,x.Um)(),a=(0,L.sZ)(),o=(0,A.M)(),i=r.useCallback(e=>(function(e,t){switch(e){case"recents_and_saved":return(0,b.t)("universal_insert.recents_and_saved");case"development":return(0,b.t)("universal_insert.development");case"org":return t?.name||(0,b.t)("universal_insert.from_your_org")}})(e,a),[a]),s=["recents_and_saved"];return(o&&s.push("development"),1!==s.length||a)?r.createElement(O.l6,{id:"fd-browse-modal-main-view-select",property:e.currentView,formatter:{format:i},onChange:e.onChange,dispatch:t,chevronClassName:tr.bq,inputClassName:tr.yl,className:tr.E3,dropdownShown:n,dropdownWidth:173},s.map(e=>r.createElement(O.c$,{value:e,key:e},i(e))),a&&r.createElement(O.sK,null),a&&r.createElement(O.c$,{value:"org"},i("org"))):r.createElement("div",{className:tr.ZE},r.createElement("div",{className:tr.yl},i(s[0])))}},65014:(e,t,n)=>{n.d(t,{P:()=>r,R:()=>l});var a=n(411855);function r(e){(0,a.useEffect)(()=>{let t=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e])}function l(e){let[t,n]=(0,a.useState)(window.innerWidth<=e);return r(a=>{a.width<=e&&!t?n(!0):a.width>e&&t&&n(!1)}),t}}}]);

//# debugId=092f6117-92d4-5852-acce-b5130cb0c9f3

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/95fe19c2bb0e0137f9a7ae18ea491f91f1de0fa4/7612-da1e7efc8f94e931.min.js.map